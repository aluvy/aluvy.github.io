/** M00_A | GNB */
function M00_A(el) {
  _proto = M00_A.prototype;
  _this = this;

  this.lang = $('html').attr('lang') || 'en';
  this.country = $('html').attr('data-country') || 'en';
  this.$el = el;
  this.data = {
    history: true,
  };
  this.menuData;
  this.menuDataXml;
  this.breadData = [];
  this.gnbTopLinks;
  this.featureData;
  this.offeringData;
  this.currentPageType;
  this.gnbType = 'main';
  this.isOfferingMain = false;
  this.isMobile = getCurrentWidth() > 1024 ? false : true;
  this.isMobileDevice = isMobileDevice();
  this.isFocus = false;
  this.historyMaxCount = 0;
  this.historyStorageKey = 'visitHistory_' + this.lang + '_' + this.country;

  //202304-01 웹접근 전제 변수 추가
  this.$hd_iconNavigator = this.$el.find('.hd-etc');
  this.$hd_iconNavigator_area = this.$hd_iconNavigator.find('.util');

  var checkDone = {};
  var currentPage;
  var gnbMainTransparentTimer;
  var menuCloseTimer;
  var subMenuCloseTimer;
  var rnbMenuCloseTimer;
  var historyMenuCloseTimer;
  var gnbResizeTimer;
  var detectResizeHandlerTimer;
  var gnbYtPlayers = {};
  var gnbYtPlayersReady = {}; // 플레이어 준비 상태 저장
  var gnbYtplayerIds = ['gnbYoutube', 'gnbGenYoutube'];

  // API 로드 완료 시 호출되는 함수
  window.onYouTubeIframeAPIReady = function () {
    gnbYtplayerIds.forEach(function (id) {
      gnbYtPlayersReady[id] = false; // 초기값 false
      gnbYtPlayers[id] = new YT.Player(id, {
        events: {
          onReady: function (event) {
            gnbYtPlayersReady[id] = true; // 준비 완료 표시
          },
        },
      });
    });
  };

  function stopAllPlayers() {
    Object.keys(gnbYtPlayers).forEach(function (id) {
      if (
        gnbYtPlayersReady[id] &&
        gnbYtPlayers[id] &&
        typeof gnbYtPlayers[id].stopVideo === 'function'
      ) {
        gnbYtPlayers[id].stopVideo();
      }
    });
  }

  // YouTube IFrame API 로드
  // var tag = document.createElement('script');
  // tag.src = "https://www.youtube.com/iframe_api";
  // var firstScriptTag = document.getElementsByTagName('script')[0];
  // firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

  var host = '';
  if (window.location.hostname.includes('70.225.30.31'))
    host = 'http://70.225.30.31:8001';

  // 20240701 gnb 리뉴얼 테스트용 로컬&품질, 운영 분기
  $(function () {
    var reUrl = window.location.href;
    var portNums = [':7000/', ':8001/', ':8002/'];
    var mainUrl = 'samsungsds.com/';
    var excludeCountrys = ['cn'];
    // 포트 번호가 포함된 경우 체크
    var matchUrl = portNums.some(function (portNum) {
      return reUrl.includes(portNum);
    });
    // 특정 국가 (vn, cn)가 포함된 samsungsds.com URL 제외
    var isExcludedCountry = excludeCountrys.some(function (excludeCountry) {
      return reUrl.includes(mainUrl + excludeCountry);
    });
    // 포트 번호가 포함되어 있거나 특정 국가가 아닌 경우에만 클래스 추가
    if (matchUrl || !isExcludedCountry) {
      $('.gnb').addClass('gnb_ver2024 ver2024_2');
    }
  });

  _proto.init = function () {
    //console.log("init:: M00_A");
    // data 값 설정
    $.extend(_this.data, _this.$el.data());

    this.data.url = host + this.data.url;
    this.data.urlFeature = host + this.data.urlFeature;
    try {
      this.getData(this.data.url, function () {
        _this.setSticky();
        // _this.drawHistory();
        // _this.writeHistory();
        _this.setTextByCountry(); // 언어별 text 설정
        //_this.setHeightRightContainer();
      });
    } catch (e) {
      // console.log(e);
    }

    // setTimer(childpanel off)
    var $gnb = $('.M00_A');
    gnbMainTransparentTimer = new Timer(function () {
      if ($('body').hasClass('hid_s')) return;
      if (_this.$el.find('.gnb ul.menu > li.on').length == 0) {
        $gnb.removeClass('mc_chk');
      }
    }, 100);
    menuCloseTimer = new Timer(this.menuClose, 100);
    subMenuCloseTimer = new Timer(this.subMenuClose, 100);
    rnbMenuCloseTimer = new Timer(this.rnbMenuClose, 100);
    historyMenuCloseTimer = new Timer(this.historyMenuClose, 100);
    gnbResizeTimer = new Timer(this.resizeHandler, 100);

    $(window).load(function () {
      _this.gnbChildpanelStyle('windowLoad');
    });

    $(window).on('resize', function () {
      _this.isMobile = getCurrentWidth() > 1024 ? false : true; // detect mobile resolution
      _this.isMobileDevice = isMobileDevice(); // detect mobile device
    });

    fixedTab(); //20241119 fixed_tab : 공통 서브페이지 fixed탭
  };

  _proto.isIos = function () {
    var userAgent = navigator.userAgent.toLowerCase();
    var IS_IPHONE = /iphone/i.test(userAgent);
    var IS_IPAD = /iPad/i.test(userAgent);
    var IS_IPOD = /iPod/i.test(userAgent);

    return (IS_IOS = IS_IPHONE || IS_IPAD || IS_IPOD);
  };

  _proto.setGnbHeight = function () {
    var height;
    if (this.gnbType == 'offering') {
      if (this.isOfferingMain) {
        height = this.$el.height();
      } else {
        height =
          this.$el.height() +
          ($('.brandcolor').is(':visible') ? $('.brandcolor').height() : 0);
      }
    } else if (this.gnbType == 'normal' || this.gnbType == 'static') {
      height = this.$el.height();
    }
    if (this.gnbType != 'main') {
      $('#header').css({
        height: height + 'px',
      });
    }
    if (height == undefined) height = $('#header').height(); // [20240124] height값 undefined 일 때 값 추가
    document.documentElement.style.setProperty('--headerH', `${height}px`);
  };

  _proto.setSticky = function () {
    _this.setGnbHeight();

    this.$el.css({
      position: 'fixed',
      width: '100%',
      'z-index': '7000',
    });

    var scroll = $(window).scrollTop();
    var $wrap = $('#wrap');
    var hasTailBox = $('body').hasClass('tail_chk');
    var tailHeight = 0;
    if (_this.isMobile) hasTailBox = false;
    if (hasTailBox) {
      tailHeight = $('.tail_wrap').height();
    }

    if (scroll > $('#header').offset().top) {
      if (hasTailBox) {
        /*
                _this.$el.css({
                    'visibility' : 'hidden'
                });
                */
        _this.$el.css({
          top: '-' + tailHeight + 'px',
        });
        /*
                setTimeout(function(){
                    _this.$el.css({
                        'visibility' : ''
                    });
                },200);
                */
      } else {
        _this.$el.css({
          top: '0px',
        });
      }
    } else {
      if (hasTailBox) {
        /*
                _this.$el.css({
                    'visibility' : 'hidden'
                });
                */
        _this.$el.css({
          top: $('#header').offset().top - scroll - tailHeight + 'px',
        });
        /*
                setTimeout(function(){
                    _this.$el.css({
                        'visibility' : ''
                    });
                },200);
                */
      } else {
        _this.$el.css({
          top: '0px',
        });
      }
    }

    if ($(window).scrollTop() > 0) {
      $wrap.removeClass('scroll_chk');
    } else {
      $wrap.addClass('scroll_chk');
    }
  };

  _proto.getData = function (dataUrl, callback) {
    var methodType = dataUrl.indexOf('/data_ajax/') < 0 ? 'POST' : 'GET';
    $.ajax({
      url: dataUrl,
      method: methodType,
      data: null,
      dataType: 'json',
      async: false,
      success: function (data) {
        _this.setupMenu(data);
        if (callback) {
          callback();
        }
      },
      error: function () {
        console.log('GNB getData Ajax error :::::::::::::::::::', arguments);
      },
    });
  };

  _proto.setupMenu = function (data, callback) {
    this.menuData = data;
    this.menuDataXml = $.parseXML(
      OBJtoXML({ root: data }).replace(/&/g, '&amp;'),
    );
    var target = this.menuDataXml.getElementsByTagName('menuId');
    var type;
    for (var i = 0; i < target.length; i++) {
      var idNode = target[i];
      if (idNode.textContent == this.data.current) {
        currentPage = idNode;
        type = getChildByNodeName(idNode.parentNode, 'type').textContent;
        _this.currentPageType = type;
        type ? (type = type.split('_')[0]) : null;
        break;
      }
    }

    if (type == 'static') {
      this.gnbType = 'static';
      this.setBreadData();
    } else if (type == 'offering') {
      this.gnbType = 'offering';
    } else if (type == 'normal') {
      this.gnbType = 'normal';
    } else {
      this.gnbType = 'main';
    }
    var urlHtml = [];
    var rnbHtml = [];
    for (var group in this.menuData) {
      var menuGroup = this.menuData[group];
      for (var depth1 in menuGroup) {
        if (menuGroup[depth1].gnbHtml) {
          var d1Html = host + menuGroup[depth1].gnbHtml;
          var d1rnbHtml = host + menuGroup[depth1].rnbHtml;
          urlHtml.push(d1Html);
          rnbHtml.push(d1rnbHtml);
        }
      }
    }
    $.ajax({
      url: this.data.urlFeature,
      method: 'get',
      data: null,
      dataType: 'html',
      async: false,
      success: function (data) {
        _this.featureData = data;
        if (type == 'offering' || type == 'normal') {
          _this.setBreadData();
        } else {
          _this.drawGnb();
          _this.setOfferingGnbMh();
        }

        if (callback) {
          callback();
        }
      },
      error: function () {
        console.log('GNB getData Ajax error :::::::::::::::::::', arguments);
      },
    });
  };

  // gnb Title matchHeight
  _proto.setOfferingGnbMh = function (data) {
    if (!$('.offering_gnb').length) return;
    var mhTargetWrap = $('.offering_gnb');
    var mhTargetTit = mhTargetWrap.find('.md_tit');
    var mhTargetTxt = mhTargetWrap.find('.md_txt');
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };

    mhTargetTit.matchHeight(opt.init);
    mhTargetTxt.matchHeight(opt.init);
  };

  _proto.setBreadData = function (data) {
    if (!this.menuDataXml && data) {
      this.menuDataXml = $.parseXML(
        OBJtoXML({ root: data }).replace(/&/g, '&amp;'),
      );
    }
    var target = this.menuDataXml.getElementsByTagName('menuId');
    for (var i = 0; i < target.length; i++) {
      var idNode = target[i];
      if (idNode.textContent == this.data.current) {
        var tit = getChildByNodeName(idNode.parentNode, 'title').textContent;
        var url = getChildByNodeName(idNode.parentNode, 'url').textContent;
        var tar = getChildByNodeName(idNode.parentNode, 'target').textContent;
        _this.breadData.push({
          title: tit,
          url: url || null,
          target: tar || null,
        });
        // breadcrumb 모두 수집시 tree 가져옴
        if (
          getChildByNodeName(idNode.parentNode, 'type').textContent ==
          'offering_main'
        ) {
          this.getOfferingTree(idNode.textContent);
          this.drawBread();
        } else if (
          getChildByNodeName(idNode.parentNode, 'type').textContent ==
          'normal_main'
        ) {
          this.getOfferingTree(idNode.textContent);
          this.drawBread();
        } else if (
          getChildByNodeName(idNode.parentNode, 'type').textContent == 'static'
        ) {
          this.drawBread();
        } else {
          // breadcrumb 수집
          getParentTarget(idNode.parentNode);
        }
        break;
      }
    }

    function getParentTarget(node) {
      var parent = node.parentNode;
      if (parent && getChildByNodeName(parent, 'type')) {
        //부모가 있고 type 속성이 있을시
        // "오퍼링" 메뉴 패스
        if (getChildByNodeName(parent, 'type').textContent == 'offering_cate') {
          getParentTarget(parent);
          return;
        }
        /*
                if(getChildByNodeName(parent, "type").textContent == "normal_cate"){
                    getParentTarget(parent);
                    return;
                }
                */
        if (getChildByNodeName(parent, 'type').textContent == 'offering_main') {
          _this.offeringColor = getChildByNodeName(parent, 'color').textContent;
          _this.getOfferingTree(
            getChildByNodeName(parent, 'menuId').textContent,
          );
        }

        if (getChildByNodeName(parent, 'type').textContent == 'normal_main') {
          _this.getOfferingTree(
            getChildByNodeName(parent, 'menuId').textContent,
          );
        }

        var tit = getChildByNodeName(parent, 'title').textContent;
        var url = getChildByNodeName(parent, 'url').textContent;
        var tar = getChildByNodeName(parent, 'target').textContent;
        _this.breadData.unshift({
          title: tit || null,
          url: url || null,
          target: tar || null,
        });
        getParentTarget(parent);
      } else {
        return;
      }
    }
    if (this.breadData.length) this.drawBread();
  };

  _proto.drawBread = function () {
    var len = this.breadData.length;
    var current = this.breadData[len - 1];
    var color = _this.offeringColor;

    var htmlStr =
      '<div class="brandcolor" style="background-color:' +
      color +
      '"><div class="inner">'; //원본

    if (this.gnbType == 'normal' || this.gnbType == 'static') {
      htmlStr = '<div class="brandcolor normal"><div class="inner">';
    }
    if (this.gnbType == 'offering') {
      // offering main 일때
      if (this.offeringData.menuId == $(currentPage).text()) {
        htmlStr = '<div class="brandcolor normal"><div class="inner">';
        this.isOfferingMain = true;
      } else {
        htmlStr += '<p class="title">' + current.title + '</p>';
      }
    }
    //htmlStr += '<div class="breadcrumb"><a href="/'+ langSet[ _this.lang ].countryCode + '/index.html"><span>Home</span></a>';
    htmlStr +=
      '<nav class="breadcrumb"><a href="' +
      _this.getHomeUrl() +
      '"><span>Home</span></a>';
    for (var i = 0; i < len; i++) {
      if (i == len - 1 || !this.breadData[i].url) {
        htmlStr += '<span>' + this.breadData[i].title + '</span>';
      } else {
        htmlStr +=
          '<a href="' +
          this.breadData[i].url +
          '" target="' +
          this.breadData[i].target +
          '" ><span>' +
          this.breadData[i].title +
          '</span></a>';
      }
    }
    htmlStr += '</nav></div></div>';
    // 스티키 제어를 위해 append 위치 바뀔 수 있음
    !$('.brandcolor').length ? $('#header').append(htmlStr) : null;
    $('#header .brandcolor').css({ top: this.$el.height() + 'px' });
    /*
        if (this.gnbType == "normal"){
            !$(".brandcolor").length ? $('#header').after(htmlStr) : null;//$(".brandcolor").replaceWith(htmlStr)
        } else {
            !$(".brandcolor").length ? this.$el.append(htmlStr) : null;//$(".brandcolor").replaceWith(htmlStr)
        }
        */

    var breadColor = $('.brandcolor').css('background-color');
    var insight_CategoryCheck;
    if (this.country === 'eu' || this.country === 'in') {
      insight_CategoryCheck = `g${this.country}6`;
    } else if (this.country === 'la') {
      insight_CategoryCheck = `g${this.country}c6`;
    } else {
      insight_CategoryCheck = `g${this.country}5`;
    }
    if (
      (breadColor == 'rgba(0, 0, 0, 0)' && this.gnbType == 'offering') ||
      this.gnbType == 'static' ||
      this.offeringData.menuId === insight_CategoryCheck
    ) {
      //바탕색이 흰색일 경우 브래드크럼색 회색처리
      $('.breadcrumb a').css({ color: '#888' });
      $('.breadcrumb span').css({ color: '#888' });
    }
    //고객사례,인사이트 등 게시판성 페이지 상세페이지일 경우 브래드크럼색 회색처리
    if ($('meta[property="og:type"]').attr('content') == 'article') {
      $('.breadcrumb a').css({ color: '#888' });
      $('.breadcrumb span').css({ color: '#888' });
    }
    //이벤트 리스트페이지 브래드크럼 검정처리
    if ($('#postType').val() === 'event') {
      $('.breadcrumb a').css({ color: '#FFF' });
      $('.breadcrumb span').css({ color: '#FFF' });
    }

    /** 20230420 서브페이지 클라우드 였을때 */
    if (this.offeringData == undefined) {
      return false;
    } else {
      if (this.offeringData.menuId == 'gkr12') {
        $('.brandcolor').addClass('brandBG_01');
      }
    }
    /** 20230420 서브페이지 클라우드 였을때 */
  };

  _proto.writeHistory = function () {
    if (_this.data.history == false) return;

    // 라이브러리 > 리소스  || 컨텐츠 타입 구분값   백서,프레젠테이션,기술소개 등
    var isresEyebrow = !!_this.getUrlParams().resEyebrow ? true : false;
    var storage = window.localStorage;
    var historyArray = JSON.parse(storage.getItem(_this.historyStorageKey));
    var historyObj = {};

    if (!!historyArray == false || Array.isArray(historyArray) == false) {
      historyArray = [];
    }

    // 중복 페이지 검색
    var isOverlap = false;
    if (historyArray.length > 0) {
      historyArray.map(function (data) {
        if (
          data.menuId == _this.data.current &&
          data.url == window.location.href
        )
          isOverlap = true;
      });
    }
    if (isOverlap) return;

    $('meta[property*="og:"]').each(function () {
      var $this = $(this);
      var key = $this.attr('property').split(':')[1];

      historyObj[key] = $this.attr('content');
    });

    var locationTxt = (function (breadData) {
      var location = '';
      for (var i = 0; i < breadData.length; i++) {
        if (i == breadData.length - 1) {
          location += breadData[i].title;
        } else {
          location += breadData[i].title + ' > ';
        }
      }
      return breadData.length == 0 ? 'Home' : location;
    })(_this.breadData);

    historyObj['menuId'] = _this.data.current;
    historyObj['location'] = locationTxt;
    historyObj['url'] = window.location.href;
    // 리소스 컨텐츠일때 title 값 컨텐츠 타입으로 변경
    if (isresEyebrow) {
      historyObj['location'] = decodeURI(_this.getUrlParams().resEyebrow);
    }
    if (historyArray.length > _this.historyMaxCount - 1) {
      historyArray.pop();
    }
    // add history
    if (historyArray.length == 0) {
      historyArray.push(historyObj);
    } else {
      historyArray.splice(0, 0, historyObj);
    }
    // set data
    storage.setItem(_this.historyStorageKey, JSON.stringify(historyArray));
  };

  _proto.clearHistory = function () {
    window.localStorage.removeItem(_this.historyStorageKey);
    _this.drawHistory();
    _this.writeHistory();
  };

  _proto.getHistoryData = function () {
    return JSON.parse(window.localStorage.getItem(_this.historyStorageKey));
  };

  _proto.drawHistory = function () {
    var historyDataArray = this.getHistoryData();
    var $history;

    if (Array.isArray(historyDataArray) && historyDataArray.length) {
      $history = $('<ul></ul>');
      for (var i = 0; i < historyDataArray.length; i++) {
        var item = historyDataArray[i];
        var itemStr = '<li>';
        itemStr += '<div class="summary">';
        itemStr +=
          '<span class="bread" title="' +
          item.location +
          '">' +
          item.location +
          '</span>';
        itemStr +=
          '<p class="title"><a href="' +
          item.url +
          '">' +
          item.title +
          '</a></p>';
        itemStr += '</div>';
        itemStr += '<div class="pic">';
        itemStr +=
          '<a href="' +
          item.url +
          '" target="_self"><img src="' +
          item.image +
          '" alt="' +
          item.title +
          '"></a>';
        itemStr += '</div></li>';

        if (
          i == 0 &&
          item.menuId == _this.data.current &&
          item.url == window.location.href
        ) {
        } else {
          $history.append(itemStr);
        }
      }

      if (
        historyDataArray.length == 1 &&
        historyDataArray[0].menuId == _this.data.current &&
        historyDataArray[0].url == window.location.href
      ) {
        $history = $(
          '<p class="empty-text">' +
            langSet[_this.lang].history.emptyHistory +
            '</p>',
        );
        $('.history .btn-clear').hide();
      } else {
        $('.history .btn-clear').show();
      }
    } else {
      $history = $(
        '<p class="empty-text">' +
          langSet[_this.lang].history.emptyHistory +
          '</p>',
      );
      $('.history .btn-clear').hide();
    }
    this.$el.find('.pages').empty().append($history);
  };

  _proto.getOfferingTree = function (menuId) {
    for (var group in this.menuData) {
      var menuGroup = this.menuData[group];
      for (var depth1 in menuGroup) {
        var d1Items = menuGroup[depth1].items || null;
        var d1PanelType = menuGroup[depth1].panelType;
        if (
          d1Items &&
          d1PanelType == 'offering' &&
          this.gnbType == 'offering'
        ) {
          for (var depth2 in d1Items) {
            var d2MenuId = d1Items[depth2].menuId;
            if (d2MenuId == menuId) {
              this.offeringData = d1Items[depth2];
              this.drawGnb();
              break;
            }
          }
        }

        if (d1Items && d1PanelType == 'normal' && this.gnbType == 'normal') {
          for (var depth2 in d1Items) {
            var d2MenuId = d1Items[depth2].menuId;
            if (d2MenuId == menuId) {
              this.offeringData = d1Items[depth2];
              this.drawGnb();
              break;
            }
          }
        }
      }
    }
  };

  _proto.getHomeUrl = function () {
    return typeof indexURL !== 'undefined'
      ? indexURL
      : '/' + langSet[_this.lang].countryCode + '/index.html';
  };

  //220922 rnb User JSON 호출
  /*
    _proto.getUser = function(){
        return JSON.parse(sessionStorage.getItem('user'));
    }
    */

  _proto.drawGnb = function () {
    //console.log("drawGnb:: "+this.gnbType);
    /* gnb code */
    var $cnt = $('<div class="hd-cnt"></div>');
    $cnt.append(
      '<p class="logo"><a href="' +
        _this.getHomeUrl() +
        '"><span class="blind">SAMSUNG SDS</span></a></p>',
    ); // Modify | 2020-08-20 | M00_A | h1.logo → p.logo 변경
    var $gnsb;
    var lang = $('html').attr('lang') || 'en'; //210408 | 웹접근성 | title 메뉴열림 추가

    const country =
      this.country === 'kr' || this.country === 'en' ? this.country : '';
    const path = `/${country}/gnb/g${country}01/`; // 파일의 위치를 품질의 경로와 동일하게 수정되었습니다. (기존 '/module_src/data_ajax/'에서 '/kr/gnb/gkr01/'로 변경)

    // gsnb title의 items 영역을 리뉴얼된 방식으로 표현하고 싶다면 menuId를 추가해 주세요.
    const exclude = [
      {
        menuId: `g${country}127`,
        file: 'cloud_products.html',
      },
    ];

    for (var group in this.menuData) {
      var menuGroup = this.menuData[group];
      var $menuUl = $('<ul class="menu ' + String(group).camelToDash() + '">');

      for (var depth1 in menuGroup) {
        var gnbHtmlUrl = menuGroup[depth1].gnbHtml; //20240717 ajax url

        var d1Title = menuGroup[depth1].title;
        var d1GnbTitle = menuGroup[depth1].gnb_title;
        var d1featureIdId = menuGroup[depth1].featureId;
        var d1PanelType = menuGroup[depth1].panelType;
        var panelStyle = menuGroup[depth1].style;
        var d1Items = menuGroup[depth1].items || null;
        var d1Url = menuGroup[depth1].url || 'javascript:void(0)';
        var d1Target = menuGroup[depth1].target || null;
        var $menuItem_d1 = $(
          '<li' +
            (!d1Items ? ' class="no-child"' : '') +
            '><div class="title"><a href="' +
            d1Url +
            '" ' +
            (d1Target ? 'target="' + d1Target + '"' : '') +
            '>' +
            (d1GnbTitle ? d1GnbTitle : d1Title) +
            '</a></div></li>',
        );
        var $menuPanel_d1;
        var $menuPanel_d2;
        var $menuPanel_d3;

        // 20241011 수정된 클라우드 gnb 클래스
        var CheckId = ['gkr1', 'gen1'];
        if (CheckId.includes(d1featureIdId)) {
          $($menuItem_d1).addClass('renewal_menu_depth');
        }

        // gnb html 파일로 적용할 패널 20240816
        if (d1PanelType == 'offering') {
          $menuPanel_d1 = $(
            '<div class="childpanel ' + panelStyle + '"></div>',
          );

          if (panelStyle && gnbHtmlUrl) {
            $menuItem_d1.append($menuPanel_d1);
            $menuPanel_d1.append(this.getHtmlContent(gnbHtmlUrl));
          } else {
            $menuPanel_d1_inner = $(
              '<div class="inner basic"><ul class="items"></ul></div>',
            );
            $menuPanel_d1.append($menuPanel_d1_inner);
            $menuItem_d1.append($menuPanel_d1);
            $menuPanel_d2 = $menuPanel_d1_inner.find('.items').eq(0);

            //d1PanelType 분기 없앰
            for (var depth2 in d1Items) {
              var d2Title = d1Items[depth2].title;
              var d2Url = d1Items[depth2].url || 'javascript:void(0)';
              var d2Target = d1Items[depth2].target || '_self';
              var d2Items = null;

              if (d1Items[depth2].type == 'offering_main') {
                try {
                  d2Items =
                    !!d1Items[depth2].items && d1Items[depth2].items[0].items; // offering cate get
                } catch (e) {
                  console.log('error', e);
                }
              } else {
                d2Items = !!d1Items[depth2].items && d1Items[depth2].items;
              }
              var $menuItem_d2 = $('<li></li>');
              var $menuItem_d2_tit =
                d2Url == 'javascript:void(0)'
                  ? '<span>' + d2Title + '</span>'
                  : '<a href="' +
                    d2Url +
                    '" target="' +
                    d2Target +
                    '">' +
                    d2Title +
                    '</a>';
              $menuItem_d2.append(
                '<div class="title">' + $menuItem_d2_tit + '</div>',
              );

              if (d2Items) {
                $menuPanel_d3 = $('<ul class="items"></ul>');
                $menuItem_d2.append($menuPanel_d3);
                for (var depth3 in d2Items) {
                  var d3Title = d2Items[depth3].title;
                  var d3Url = d2Items[depth3].url || 'javascript:void(0)';
                  var d3Target = d2Items[depth3].target || '_self';
                  var $menuItem_d3 = $(
                    '<li><div class="title"><a href="' +
                      d3Url +
                      '" target="' +
                      d3Target +
                      '">' +
                      d3Title +
                      '</a></div></li>',
                  );
                  if (
                    d2Items[depth3].hidden !== true &&
                    d2Items[depth3].onlySUB !== true
                  ) {
                    $menuPanel_d3.append($menuItem_d3);
                  }
                }
              } else {
                $menuItem_d2.addClass('no-child');
              }

              if (
                d1Items[depth2].onlyRNB !== true &&
                d1Items[depth2].hidden !== true &&
                d1Items[depth2].onlySUB !== true
              ) {
                this.checkMainGnbInOfferingItem(d2Title, $menuPanel_d3); // 20210209 추가
                $menuPanel_d2.append($menuItem_d2);
              }
            }
          }
          // feature 그려줘야함
          var $feature = $(this.featureData).find(
            '#' + d1featureIdId + '>.feature',
          );
          if ($feature.length) {
            $menuPanel_d1.find('.inner').append($feature);
          }

          $menuUl.attr('role', 'tablist');
          $menuItem_d1
            .find('>.title > a')
            .attr('role', 'tab')
            .attr('id', 'tab_' + panelStyle)
            .attr('aria-selected', 'false')
            .attr('aria-controls', 'panel_' + panelStyle);

          $menuItem_d1
            .find('.childpanel')
            .attr('role', 'tabpanel')
            .attr('id', 'panel_' + panelStyle)
            .attr('aria-labelledby', 'tab_' + panelStyle);
        }

        if (d1PanelType == 'normal' && d1Items) {
          $menuPanel_d1 = $(
            '<div class="childpanel ' +
              panelStyle +
              '"><div class="inner"><ul class="items"></ul></div></div>',
          );
          $menuItem_d1.append($menuPanel_d1);
          $menuPanel_d2 = $menuPanel_d1.find('.items').eq(0);

          //d1PanelType 분기 없앰
          if (panelStyle == 'about') {
            d1Items = d1Items[0].items;
            for (var depth2 in d1Items) {
              var d2Title = d1Items[depth2].title;
              var d2Url = d1Items[depth2].url || 'javascript:void(0)';
              var d2Target = d1Items[depth2].target || '_self';
              // 1depth오퍼링 하위인 경우 3depth 오퍼링 내용을 표시함
              var d2Items =
                (d1Items[depth2].type == 'normal_main'
                  ? d1Items[depth2].items[0].items
                  : d1Items[depth2].items) || null;
              var $menuItem_d2 = $('<li></li>');
              var $menuItem_d2_tit =
                d2Url == 'javascript:void(0)'
                  ? '<span>' + d2Title + '</span>'
                  : '<a href="' +
                    d2Url +
                    '" target="' +
                    d2Target +
                    '">' +
                    d2Title +
                    '</a>';
              $menuItem_d2.append(
                '<div class="title">' + $menuItem_d2_tit + '</div>',
              );

              if (d2Items) {
                $menuPanel_d3 = $('<ul class="items"></ul>');
                $menuItem_d2.append($menuPanel_d3);
                for (var depth3 in d2Items) {
                  var d3Title = d2Items[depth3].title;
                  var d3Url = d2Items[depth3].url || 'javascript:void(0)';
                  var d3Target = d2Items[depth3].target || '_self';
                  var $menuItem_d3 = $(
                    '<li><div class="title"><a href="' +
                      d3Url +
                      '" target="' +
                      d3Target +
                      '">' +
                      d3Title +
                      '</a></div></li>',
                  );
                  if (d2Items[depth3].hidden !== true) {
                    $menuPanel_d3.append($menuItem_d3);
                  }
                }
              } else {
                $menuItem_d2.addClass('no-child');
              }

              if (d1Items[depth2].hidden !== true) {
                this.checkMainGnbInAboutItem(d2Title, $menuPanel_d3); // 20210604 추가
                $menuPanel_d2.append($menuItem_d2);
              }
            }
          } else {
            for (var depth2 in d1Items) {
              var d2Title = d1Items[depth2].title;
              var d2Url = d1Items[depth2].url || 'javascript:void(0)';
              var d2Target = d1Items[depth2].target || '_self';
              // 1depth오퍼링 하위인 경우 3depth 오퍼링 내용을 표시함
              var d2Items = d1Items[depth2].items || null;

              if (d2Items) {
                for (var depth3 in d2Items) {
                  var d3Title = d2Items[depth3].title;
                  var d3Url = d2Items[depth3].url || 'javascript:void(0)';
                  var d3Target = d2Items[depth3].target || '_self';
                  var $menuItem_d3 = $(
                    '<li><div class="title"><a href="' +
                      d3Url +
                      '" target="' +
                      d3Target +
                      '">' +
                      d3Title +
                      '</a></div></li>',
                  );
                  if (d2Items[depth3].hidden !== true) {
                    $menuPanel_d2.append($menuItem_d3);
                  }
                }
              } else {
                //$menuItem_d2.addClass("no-child");
              }
              //$menuPanel_d2.append($menuItem_d2);
            }
          }

          // feature 그려줘야함
          var $feature = $(this.featureData).find(
            '#' + d1featureIdId + '>.feature',
          );
          if ($feature.length) {
            $menuPanel_d1.find('.inner').append($feature);
          }
          $menuUl.attr('role', 'tablist');
          $menuItem_d1
            .find('>.title > a')
            .attr('role', 'tab')
            .attr('id', 'tab_' + panelStyle)
            .attr('aria-selected', 'false')
            .attr('aria-controls', 'panel_' + panelStyle);

          $menuItem_d1
            .find('.childpanel')
            .attr('role', 'tabpanel')
            .attr('id', 'panel_' + panelStyle)
            .attr('aria-labelledby', 'tab_' + panelStyle);
        }
        if (
          menuGroup[depth1].hidden !== true &&
          menuGroup[depth1].onlyRNB !== true
        ) {
          $menuUl.append($menuItem_d1);
        }
      } //for end depth1
      // static page group
      if (group !== 'menuGroup4' && group !== 'menuGroup5') {
        $cnt.append($menuUl);
      }
    } // for end group

    if (this.gnbType == 'offering' || this.gnbType == 'normal') {
      //if (_this.isMobile){
      /* 210412 | 접근성 | aria-expanded 속성 추가 */
      $gsnbMobile = $(
        '<div class="gsnb mobile ' +
          (this.gnbType == 'normal' ? 'normal' : '') +
          '"><div class="inner"><div class="title"><a href="javascript:void(0)" title="' +
          langSet[lang]['menuState']['activeStr'] +
          '" aria-expanded="false">' +
          this.offeringData.title +
          '</a></div></div></div>',
      );
      /* //210412 | 접근성 | aria-expanded 속성 추가 */
      $innerMobile = $gsnbMobile.find('>.inner');

      var makedObj = _this.makeMobileGsnb({ path, exclude });
      var $owlContainer = $('<div class="owl-carousel"><div></div></div>');
      $owlContainer.find('>div').eq(0).append(makedObj);
      $innerMobile.append($owlContainer);

      $gsnb = $(
        '<div class="gsnb desktop' +
          (this.gnbType == 'normal' ? 'normal' : '') +
          '"><div class="inner"><ul></ul></div></div>',
      );
      $inner = $gsnb.find('>.inner>ul');

      if (this.offeringData.url) {
        $inner.append(
          '<li class="offering-cate"><div class="title"><a href="' +
            this.offeringData.url +
            '" target="' +
            (this.offeringData.target || '_self') +
            '">' +
            this.offeringData.title +
            '</a></div></li>',
        );
      } else {
        $inner.append(
          '<li class="offering-cate no-link"><div class="title"><a href="javascript:void(0)">' +
            this.offeringData.title +
            '</a></div></li>',
        );
      }

      for (var i = 0; i < this.offeringData.items.length; i++) {
        var cate = this.offeringData.items[i];
        var $cate = $(
          '<li><div class="title"><a href="' +
            (cate.url || 'javascript:void(0)') +
            '" target="' +
            (cate.target || '_self') +
            '">' +
            cate.title +
            '</a></div></li>',
        );
        var $menuPanel_d2;
        var isCurrentWithin = false; // 현재 페이지가 해당 그룹에 포함되었는지 확인
        if (cate.items) {
          $menuPanel_d2 = $('<ul class="items"></ul>');

          for (var ii = 0; ii < cate.items.length; ii++) {
            var sub = cate.items[ii];

            if (_this.data.current == sub.menuId) isCurrentWithin = true;

            var $sub = $(
              '<li><div class="title"><a href="' +
                (sub.url || 'javascript:void(0)') +
                '" target="' +
                (sub.target || '_self') +
                '">' +
                sub.title +
                '</a></div></li>',
            );
            let _excludeIndex = exclude.findIndex(
              (element) => element.menuId === cate.menuId,
            );

            if (_excludeIndex > -1) {
              // exclude[n].menuId에 존재할 경우 실행합니다.
              $menuPanel_d2 = $('<div class="items"></div>');
              // cate.menuId 값이 exclude 배열에 존재하기 때문에 태그를 생성하지 않습니다.
              // exclude[n].file에 할당된 html 파일을 읽어들입니다.
              $($menuPanel_d2)
                .addClass('renewal cstm_scrl')
                .load(path + exclude[_excludeIndex].file, function () {
                  // callback complete
                  resizeGsnbDropdownMenu();
                });
            } else {
              var $menuPanel_d3;
              if (sub.items) {
                // hidden 항목만 들어있는지 확인
                var isItemsHasOnlyHiddenItem = (function (items) {
                  var result = true;
                  items.map(function (obj, index, items) {
                    if (!!obj.hidden == false) result = false;
                  });
                  return result;
                })(sub.items);

                if (isItemsHasOnlyHiddenItem == false) {
                  $sub.addClass('offering-list-sub');
                }
                $menuPanel_d3 = $('<ul class="items"></ul>');
                $sub.append($menuPanel_d3);
                for (var iii = 0; iii < sub.items.length; iii++) {
                  var item = sub.items[iii];

                  if (_this.data.current == item.menuId) isCurrentWithin = true;

                  var $item = $(
                    '<li><div class="title"><a href="' +
                      (item.url || 'javascript:void(0)') +
                      '" target="' +
                      (item.target || '_self') +
                      '">' +
                      item.title +
                      '</a></div></li>',
                  );

                  if (item.hidden !== true) {
                    $menuPanel_d3.append($item);
                  }
                }
              }

              if (sub.hidden !== true && sub.onlyMainShow !== true) {
                $menuPanel_d2.append($sub);
              }
            }
          }
          // hidden 항목만 들어있는지 확인
          var isItemsHasOnlyHiddenItem = (function (items) {
            var result = true;
            items.map(function (obj, index, items) {
              if (!!obj.hidden == false) result = false;
            });
            return result;
          })(cate.items);

          if (isItemsHasOnlyHiddenItem == false) {
            //220331 | 접근성 | GSNB title 제거
            $cate.addClass('offering-list');
            //.find("> .title > a").attr("title", langSet[_this.lang].menuState.activeStr);
            $cate.append($menuPanel_d2);
          }

          if (isCurrentWithin || this.data.current == cate.menuId) {
            $cate.addClass('selected');
          }
        } else {
          if (this.data.current == cate.menuId) {
            $cate.addClass('selected');
          }
        }

        if (cate.hidden !== true) {
          $inner.append($cate);
        }
      }

      // 20240705 서브페이지 LNB 서브 메뉴, lnb_yn 조건 있으면 T, 없으면 F 으로 div class=gsnb desktop 생성
      if (this.offeringData.lnb_yn != 'F' || !this.offeringData.lnb_yn) {
        this.$el.find('>.inner').append($gsnb);
        this.$el.find('>.inner').append($gsnbMobile);
      }
    }

    this.$el.find('.gnb').prepend($cnt);

    /** *********************************** drawGnb내 rnb code *********************************** */
    /* rnb code */
    var $head = $(
      '<div class="head"><p class="logo"><a href="' +
        _this.getHomeUrl() +
        '"><span class="blind">SAMSUNG SDS</span></a></p><a href="javascript:void(0)" class="btn-close">닫기</a></div>',
    ); // Modify | 2020-08-20 | M00_A | h1.logo → p.logo 변경
    var $cnt2 = $('<div class="container"></div>');
    var $depthMain = $('<div class="depth-main"></div>');
    /* 210514 | 접근성 | rnb 구조변경 */
    var $depthBg = $('<div class="depth-sub-bg"></div>');
    $cnt2.append($head, $depthMain, $depthBg);

    for (var group in this.menuData) {
      var menuGroup = this.menuData[group];
      var $groupUl = $(
        '<ul class="' + String(group).camelToDash() + ' depth1_ul">',
      );
      for (var depth1 in menuGroup) {
        var rnb_html = menuGroup[depth1].rnbHtml; //20240626 "rnbHtml" 속성값 여부로 .html 하드코딩 마크업 불러올지의 체크 추가
        var d1Title = menuGroup[depth1].title;
        var d1PanelType = menuGroup[depth1].panelType;
        var featureId = menuGroup[depth1].featureId;
        var panelStyle = menuGroup[depth1].style;
        var d1GnbTitle = menuGroup[depth1].gnb_title;
        var d1Items = menuGroup[depth1].items || null;
        var d1LoginChk = menuGroup[depth1].loginChk;
        var d1Url = menuGroup[depth1].url || 'javascript:void(0)';
        var d1Target = menuGroup[depth1].target || null;
        var $menuItem_d1 = $(
          '<li' +
            (!d1Items && !rnb_html
              ? ' class="no-child' + (d1LoginChk ? ' dep_login' : '') + '"'
              : '') +
            '></li>',
        );
        var $menuItem_d1_tit = $(
          '<div class="title dep1"><a href="' +
            d1Url +
            '" ' +
            (d1Target && d1Url !== '#' ? 'target="' + d1Target + '"' : '') +
            (featureId ? ' class="' + featureId + '"' : '') +
            (!d1Items && !rnb_html
              ? ' '
              : ' role="button" aria-expanded="false"') +
            '>' +
            (d1GnbTitle ? d1GnbTitle : d1Title) +
            '</a></div>',
        ); //20240626 "rnbHtml" 속성값 여부로 .html 하드코딩 마크업 불러올지의 체크 추가 && class 조건 기존 d1Items, 하위 데이터 체크에서 featureId 아이디가 있는지 체크로 수정
        var $menuPanel_d1 = $(
          '<div class="depth-sub"><div class="depth_inner ' +
            d1PanelType +
            ' ' +
            featureId +
            '" data-id="' +
            featureId +
            '"></div></div>',
        );
        var $menuPanel_d2;
        var $menuPanel_d3;
        var $menuPanel_d1_inner = $menuPanel_d1.find('.depth_inner');

        $menuItem_d1.append($menuItem_d1_tit); //, $depthSub

        if (d1Items || rnb_html) {
          //20240626 "rnbHtml" 속성값 여부로 .html 하드코딩 마크업 불러올지의 체크 추가
          var $menuPanel_d2 = $('<ul class="items depth2"></ul>');

          if (panelStyle && rnb_html) {
            $menuPanel_d1_inner.append(this.getHtmlContent(rnb_html));
          } else {
            $menuPanel_d1_inner.append($menuPanel_d2);
            for (var depth2 in d1Items) {
              var d2Title = d1Items[depth2].title;
              var d1FlagNew = d1Items[depth2].flag_new;
              var d1FlagUpdate = d1Items[depth2].flag_update;
              var d2Url = d1Items[depth2].url || 'javascript:void(0)';
              var d2Target = d1Items[depth2].target || '_self';
              // 1depth오퍼링 하위인 경우 3depth 오퍼링 내용을 표시함
              var d2Items = null;

              if (d1Items[depth2].type == 'offering_main') {
                try {
                  d2Items =
                    !!d1Items[depth2].items && d1Items[depth2].items[0].items; // offering cate get
                } catch (e) {
                  console.log('error', e);
                }
              } else {
                d2Items = !!d1Items[depth2].items && d1Items[depth2].items;
              }

              var $menuItem_d2;
              // hidden 항목만 들어있는지 확인
              var isItemsHasOnlyHiddenItem = (function (items) {
                if (!items) return true;

                var result = true;
                items.map(function (obj, index, items) {
                  if (!!obj.hidden == false) result = false;
                });
                return result;
              })(d2Items);

              if (isItemsHasOnlyHiddenItem == false) {
                if (d1Items[depth2].type == 'offering_main') {
                  $menuItem_d2 = $(
                    '<li><div class="title"><a href="javascript:void(0)" title="' +
                      langSet[_this.lang].menuState.activeStr +
                      '" aria-expanded="false">' +
                      d2Title +
                      '</a></div></li>',
                  );
                  //RNB는 2depth url에 해당하는 3depth 개요 생성이 있음..
                  $menuPanel_d3 = $('<ul class="items"></ul>');
                  if (d2Url != 'javascript:void(0)')
                    $menuPanel_d3.append(
                      '<li><a href="' +
                        d2Url +
                        '" target="' +
                        d2Target +
                        '">' +
                        d2Title +
                        ' ' +
                        langSet[_this.lang].words.summary.toString() +
                        '</a></li>',
                    );
                  $menuItem_d2.append($menuPanel_d3);
                  for (var depth3 in d2Items) {
                    var d3Title = d2Items[depth3].title;
                    var d3Url = d2Items[depth3].url || 'javascript:void(0)';
                    var d3Target = d2Items[depth3].target || '_self';
                    var $menuItem_d3 = $(
                      '<li><a href="' +
                        d3Url +
                        '" target="' +
                        d3Target +
                        '">' +
                        d3Title +
                        '</a></li>',
                    );

                    if (
                      d2Items[depth3].hidden !== true &&
                      d2Items[depth3].onlyMainShow !== true &&
                      d2Items[depth3].onlySUB !== true
                    ) {
                      $menuPanel_d3.append($menuItem_d3);
                    }
                  }
                  if (
                    d1Items[depth2].hidden !== true &&
                    d1Items[depth2].onlyMainShow !== true &&
                    d1Items[depth2].onlySUB !== true
                  ) {
                    $menuPanel_d2.append($menuItem_d2);
                  }
                } else {
                  for (var depth3 in d2Items) {
                    $menuItem_d2 = $('<li></li>');
                    var d3Items =
                      !!d2Items[depth3].items && d2Items[depth3].items;
                    // hidden 항목만 들어있는지 확인
                    var isItemsHasOnlyHiddenItem = (function (items) {
                      if (!items) return true;

                      var result = true;
                      items.map(function (obj, index, items) {
                        if (!!obj.hidden == false) result = false;
                      });
                      return result;
                    })(d3Items);

                    if (isItemsHasOnlyHiddenItem == false) {
                      var d2Title = d2Items[depth3].title;
                      $menuItem_d2.append(
                        '<div class="title"><a href="javascript:void(0)" aria-expanded="false">' +
                          d2Title +
                          '</a></div>',
                      );
                      $menuPanel_d3 = $('<ul class="items"></ul>');
                      for (var depth3 in d3Items) {
                        var d3Title = d3Items[depth3].title;
                        var d3Url = d3Items[depth3].url || 'javascript:void(0)';
                        var d3Target = d3Items[depth3].target || '_self';
                        var $menuItem_d3 = $(
                          '<li><a href="' +
                            d3Url +
                            '" target="' +
                            d3Target +
                            '">' +
                            d3Title +
                            '</a></li>',
                        );

                        if (
                          d3Items[depth3].hidden !== true &&
                          d3Items[depth3].onlyMainShow !== true &&
                          d3Items[depth3].onlySUB !== true
                        ) {
                          $menuPanel_d3.append($menuItem_d3);
                        }
                      }
                      $menuItem_d2.append($menuPanel_d3);
                    } else {
                      var d2Title = d2Items[depth3].title;
                      var d2Url = d2Items[depth3].url || 'javascript:void(0)';
                      var d2Target = d2Items[depth3].target || '_self';
                      $menuItem_d2.append(
                        '<a href="' +
                          d2Url +
                          '" target="' +
                          d2Target +
                          '">' +
                          d2Title +
                          '</a>',
                      );
                    }
                    if (
                      d1Items[depth2].hidden !== true &&
                      d1Items[depth2].onlyMainShow !== true &&
                      d1Items[depth2].onlySUB !== true
                    ) {
                      $menuPanel_d2.append($menuItem_d2);
                    }
                  }
                }
              } else {
                if (d1FlagUpdate === 'T') {
                  $menuItem_d2 = $(
                    '<li><a href="' +
                      d2Url +
                      '" target="' +
                      d2Target +
                      '">' +
                      d2Title +
                      '<span class="flag update">Update</span></a></li>',
                  );
                } else if (d1FlagNew === 'T') {
                  $menuItem_d2 = $(
                    '<li><a href="' +
                      d2Url +
                      '" target="' +
                      d2Target +
                      '">' +
                      d2Title +
                      '<span class="flag new">New</span></a></li>',
                  );
                } else {
                  $menuItem_d2 = $(
                    '<li><a href="' +
                      d2Url +
                      '" target="' +
                      d2Target +
                      '">' +
                      d2Title +
                      '</a></li>',
                  );
                }

                if (
                  d1Items[depth2].hidden !== true &&
                  d1Items[depth2].onlyMainShow !== true &&
                  d1Items[depth2].onlySUB !== true
                ) {
                  $menuPanel_d2.append($menuItem_d2);
                }
              }
            }
          }
          $menuPanel_d1.append($menuPanel_d1_inner);
          $menuItem_d1.append($menuPanel_d1);
          /* //210514 | 접근성 | rnb 구조변경 */
        }
        if (
          menuGroup[depth1].hidden !== true &&
          menuGroup[depth1].onlyMainShow !== true
        ) {
          // menuGroup[depth1].onlyMainShow: GNB 노출O / RNB 노출X
          $groupUl.append($menuItem_d1);
        }
      }
      // static group not append
      if (group !== 'menuGroup4') {
        $depthMain.append($groupUl);
      }
    }
    this.$el.find('.rnb').append($cnt2);
    this.$el
      .find('.rnb')
      .find('.btn-close')
      .text(
        langSet[_this.lang].rnb.activeStr.toString(),
      ); /* 210412 | 접근성 | 대체텍스트 추가 */

    /* check DOM created */
    checkDone['gnb'] = setInterval(function () {
      if ($('.hd-cnt').length && $('.rnb .depth-main').length) {
        clearInterval(checkDone['gnb']);
        _this.addEventListener();

        if (_this.isMobile) {
          _this.setSizeSubmenuMobile();
        } else {
          //_this.initSubmenuSize();
          _this.initSubmenuSizeIEFIX();
        }

        if (_this.isMobileDevice) {
          $('body').addClass('hid_sm');
        } else {
          $('body').removeClass('hid_sm');
        }

        // scrollbar 적용
        $('.history .container .pages').scrollbar(); // 20.07.28 JH
        $('.rnb .depth-sub > div > .items').scrollbar();
        $('.rnb .depth-sub > div > .offering_rnb').scrollbar(); //해상도 변화 스크롤 추가 : rnb 스크롤 추가
        $('.rnb .depth-sub > .depth_inner .offering_rnb').scrollbar();
        //$('.rnb .depth-main').scrollbar();
        $('.rnb .depth-main').wrapInner('<div class="box"></div>');
        $('.rnb .depth-main .box').scrollbar();

        // set aria attribute
        _this.$el.find('.rnb').attr('role', 'navigation');
      } else {
        console.log('not yet Draw GNB');
      }
    }, 50);

    _this.gnbChildpanelStyle('drawGnb');

    //20221201 gnb close btn추가
    var gnb_closeCont = $cnt.find('.childpanel');
    var closeGnb_btn = $(
      '<div class="gnb_closeBtn"><button type="button"><span class="blind">menu close</span></button></div>',
    );

    gnb_closeCont.append(closeGnb_btn);
  };
  /** //drawGnb */

  _proto.gnbChildpanelStyle = function (executionState) {
    if (!$('.gnb .hd-cnt .menu').length) return;
    if (_this.isMobile) return;

    var PANEL = {
      MAXWIDTH_LEFT: 1398, // "offering", "business"
      MAXWIDTH_RIGHT: 1568, // "library", "newsroom", "about"
      PADDING: 40,
    };
    var FEATURE = {
      WIDTH: 310,
      PADDING: 26,
      DISTANCEMIN: 75,
      DISTANCEMAX: 120,
    };

    var panelWidth = $('.M00_A').width();
    var gnbWidthGap =
      ($(window).width() - panelWidth) / 2 > 0
        ? ($(window).width() - panelWidth) / 2
        : 0;
    // "offering", "business"
    var panelWidthGap_LEFT =
      (panelWidth - PANEL.MAXWIDTH_LEFT) / 2 > 0
        ? (panelWidth - PANEL.MAXWIDTH_LEFT) / 2
        : 0;
    // "library", "newsroom", "about"
    var panelWidthGap_RIGHT =
      (panelWidth - PANEL.MAXWIDTH_RIGHT) / 2 > 0
        ? (panelWidth - PANEL.MAXWIDTH_RIGHT) / 2
        : 0;

    $('.gnb .hd-cnt .menu > li').each(function () {
      var $openBtn =
        $(this).closest('.menu-group3').length === 0
          ? $(this).find('> .title a')
          : $(this).closest('.menu-group3').find('li').eq(0).find('> .title a'); //20240705 이벤트, 인사이트, 뉴스, 회사정보 등등 gnb 우측 메뉴 자동으로 할당되는 width값 분기
      var $childpanel = $(this).find('> .childpanel');
      var $offeringBtn = $('.gnb .hd-cnt .menu #tab_offering');

      var openBtnPos_LEFT =
        $openBtn.offset().left -
        PANEL.PADDING -
        gnbWidthGap -
        panelWidthGap_LEFT;
      var offeringBtnPos_LEFT =
        $offeringBtn.offset().left -
        PANEL.PADDING -
        gnbWidthGap -
        panelWidthGap_LEFT;
      var openBtnPos_RIGHT =
        $openBtn.offset().left -
        PANEL.PADDING -
        gnbWidthGap -
        panelWidthGap_RIGHT;
      var offeringBtnPos_RIGHT =
        $offeringBtn.offset().left -
        PANEL.PADDING -
        gnbWidthGap -
        panelWidthGap_RIGHT;

      // "no-child"
      // - Do nothing
      if (!$childpanel.length) {
        return;
      }

      // "offering"
      // - Do nothing
      if ($childpanel.hasClass('offering')) {
        return;
      }

      // "business"
      // - set items indentation
      if ($childpanel.hasClass('business')) {
        $childpanel.find('.inner > .items').css({
          'margin-left': openBtnPos_LEFT > 0 ? openBtnPos_LEFT : 0,
        });
        return;
      }

      // "library", "newsroom", "about"
      // - set feature indentation
      var featureWidth = 0;
      var featureLength = $childpanel.find('.feature li').length;

      var featureDistance =
        panelWidthGap_RIGHT > 0 && $childpanel.hasClass('about')
          ? FEATURE.DISTANCEMAX
          : FEATURE.DISTANCEMIN;
      var featureIndentation =
        panelWidthGap_RIGHT > 0 && offeringBtnPos_LEFT > 0 && gnbWidthGap <= 0
          ? offeringBtnPos_LEFT
          : 0;

      if (featureLength) {
        featureWidth += featureLength * FEATURE.WIDTH;
        featureWidth += (featureLength - 1) * FEATURE.PADDING;
        featureWidth += featureIndentation;
        featureWidth += featureDistance;
      }

      $childpanel.find('.inner > .feature').css({
        'margin-left': featureIndentation,
        'margin-right': featureDistance,
      });

      // "about"
      // - set items width
      if ($childpanel.hasClass('about')) {
        $childpanel.find('.inner > .items').css({
          width:
            panelWidth -
            (featureWidth + PANEL.PADDING * 2 + panelWidthGap_RIGHT * 2),
        });
        return;
      }

      // "library", "newsroom"
      // - set items width
      $childpanel.find('.inner > .items').css({
        width:
          panelWidth -
          (openBtnPos_RIGHT + PANEL.PADDING * 2 + panelWidthGap_RIGHT * 2),
      });
    });
  };

  // 20210209 추가
  // [20210209_1] MAIN GNB 오퍼링 > DT Services 위치 관련 #24
  // 특정 국가에서 특정 사업부 위치 변경을 위해 빈 영역을 추가하기위해 작성됨
  _proto.checkMainGnbInOfferingItem = function (title, subMenu) {
    var emptyBlock = $("<div aria-hidden='true'>&nbsp;</div>");

    if (this.country === 'en' && title === 'Digital Accelerator') {
      subMenu.children().last().append(emptyBlock.css('height', 100));
    }
    if (this.country === 'en' && title === 'Digital Finance') {
      subMenu.children().last().append(emptyBlock.css('height', 150)); //210604 | height 120 -> 150 조절
    }
  };

  // 20210604 추가
  // [20210604] MAIN GNB 회사소개 > Event 위치 관련 #51
  _proto.checkMainGnbInAboutItem = function (title, subMenu) {
    var emptyBlock = $("<div aria-hidden='true'>&nbsp;</div>");
    if (title === 'Sustainability' || title === '지속가능경영') {
      subMenu.children().last().append(emptyBlock.css('height', 100));
    }
  };

  _proto.setSizeSubmenuMobile = function () {
    var containerHeight = $(window).height() - $('.M00_A .inner').height();
    if (this.gnbType != 'main') {
      $('#header').css({
        height: $('.M00_A .inner').height() + 'px',
      });
    }
    //$('.M00_A .gsnb.mobile .owl-carousel').css({'height' : containerHeight + 'px'});
  };

  _proto.makeMobileGsnb = function (payload) {
    const path =
      typeof payload !== 'undefined' && !!payload.path ? payload.path : '/';
    const exclude =
      typeof payload !== 'undefined' && !!payload.exclude
        ? payload.exclude
        : '[]';

    var $inner = $('<ul class="items"></ul>');

    if (this.offeringData.url) {
      $inner.append(
        '<li class="menulist no-child" ><div class="title"><a href="' +
          (this.offeringData.url || 'javascript:void(0)') +
          '" target="' +
          (this.offeringData.target || '_self') +
          '">' +
          this.offeringData.title +
          ' ' +
          langSet[_this.lang].words.summary.toString() +
          '</a></div></li>',
      );
    }
    for (var offerCate in this.offeringData.items) {
      var cate = this.offeringData.items[offerCate];
      /* 210412 | 접근성 | aria-expanded 속성 추가 */
      var $cate = $(
        '<li class="menulist" ><div class="title"><a href="' +
          (cate.url || 'javascript:void(0)') +
          '" target="' +
          (cate.target || '_self') +
          '" aria-expanded="false">' +
          cate.title +
          '</a></div></li>',
      );
      /* //210412 | 접근성 | aria-expanded 속성 추가 */
      var $menuPanel_d2;

      let _excludeIndex = exclude.findIndex(
        (element) => element.menuId === cate.menuId,
      );

      if (_excludeIndex > -1) {
        // exclude[n].menuId에 존재할 경우 실행합니다.
        $menuPanel_d2 = $('<div class="items"></div>');

        // cate.menuId 값이 exclude 배열에 존재하기 때문에 태그를 생성하지 않습니다.
        // exclude[n].file에 할당된 html 파일을 읽어들입니다.

        $($menuPanel_d2)
          .addClass('renewal')
          .load(path + exclude[_excludeIndex].file, function () {
            // callback complete
          });

        $cate.append($menuPanel_d2);
      } else {
        if (cate.items) {
          $menuPanel_d2 = $('<ul class="items"></ul>');
          for (var offerSub in cate.items) {
            var sub = cate.items[offerSub];
            var $sub = $(
              '<li class="menulist-sub"><div class="title"><a href="javascript:void(0)">' +
                sub.title +
                '</a></div></li>',
            );
            var $menuPanel_d3;
            // hidden 항목만 들어있는지 확인
            var isItemsHasOnlyHiddenItem =
              !!sub.items &&
              (function (items) {
                var result = true;
                items.map(function (obj, index, items) {
                  if (!!obj.hidden == false) result = false;
                });
                return result;
              })(sub.items);
            if (sub.items && isItemsHasOnlyHiddenItem == false) {
              $sub = $(
                '<li class="menulist-sub"><div class="title"><a href="javascript:void(0)">' +
                  sub.title +
                  '</a></div></li>',
              );
              $menuPanel_d3 = $('<ul class="items"></ul>');
              // move back link
              $menuPanel_d3.append(
                '<li><div class="title"><a href="javascript:void(0)">' +
                  sub.title +
                  '</a></div></li>',
              );
              // summary link
              if (sub.url) {
                $menuPanel_d3.append(
                  '<li><div class="title"><a href="' +
                    (sub.url || 'javascript:void(0)') +
                    '" target="' +
                    (sub.target || '_self') +
                    '">' +
                    sub.title +
                    ' ' +
                    langSet[_this.lang].words.summary.toString() +
                    '</a></div></li>',
                );
              }
              $sub.append($menuPanel_d3);
              for (var offerItem in sub.items) {
                var item = sub.items[offerItem];
                var $item = $(
                  '<li><div class="title"><a href="' +
                    (item.url || 'javascript:void(0)') +
                    '" target="' +
                    (item.target || '_self') +
                    '">' +
                    item.title +
                    '</a></div></li>',
                );
                if (item.hidden !== true) {
                  $menuPanel_d3.append($item);
                }
              }
            } else {
              $sub = $(
                '<li class="menulist-sub"><div class="title"><a href="' +
                  (sub.url || 'javascript:void(0)') +
                  '" target="' +
                  (sub.target || '_self') +
                  '">' +
                  sub.title +
                  '</a></div></li>',
              );
              $sub.addClass('no-child');
            }
            if (sub.hidden !== true && sub.onlyMainShow !== true) {
              $menuPanel_d2.append($sub);
            }
          }

          // hidden 항목만 들어있는지 확인
          var isItemsHasOnlyHiddenItem = (function (items) {
            var result = true;
            items.map(function (obj, index, items) {
              if (!!obj.hidden == false) result = false;
            });
            return result;
          })(cate.items);

          if (isItemsHasOnlyHiddenItem) {
            $cate.addClass('no-child');
          }
          $cate.append($menuPanel_d2);
        } else {
          /*
                              if ( this.data.current == cate.menuId ) {
                                  $cate.addClass('on');
                              }
                              */
          $cate.addClass('no-child');
        }
      }
      if (cate.hidden !== true) {
        $inner.append($cate);
      }
    }
    return $inner;
  };
  // IE11 flex bug fix
  _proto.initSubmenuSizeIEFIX = function () {
    if (this.gnbType == 'normal') {
      $('.offering-list > ul.items').each(function (i, el) {
        var $ul = $(this);
        var itemCount = $ul.find('li').length;
        var colCount = Math.ceil(itemCount / 5);

        $ul.css({
          width: colCount * 300 + 'px',
        });

        $ul.css({
          'column-count': colCount.toString(),
          'column-fill': 'auto', // TODO :: FIREFOX BUG check
          //'column-fill' : 'balance', // TODO :: FIREFOX BUG check
          //'width' : 'auto',
          //'display' : 'block',
          // 'height' : '310px' //20221201 뎁스 알수없는 높이 고정값 삭제
        });
      });
    } else {
      //$(".offering-list > ul.items").css("width", "calc(100% - "+($inner.find(".offering-cate").width() + 10)+"px)");
      $('.offering-list > ul.items').css('width', '100%');

      // height 값 체크후 large class 추가
      $('.offering-list > ul.items').each(function (i, el) {
        var fixwidth = 280;
        var $ul = $(this);
        $ul.css({
          visibility: 'hidden',
          display: 'block',
        });
        // height check
        var cateHeight = 0;
        $ul.find('.offering-list-sub').each(function (i, el) {
          cateHeight += $(this).height();
        });
        if ($ul.find('.offering-list-sub').length == 1) {
          //20221201 뎁스 알수없는 높이 고정값 삭제
          // $ul.css({
          //     'max-height' : (cateHeight + 80 + 16) + 'px'
          // });
        } else if (cateHeight >= 320) {
          $ul.addClass('large');
        } else {
          //20221201 뎁스 알수없는 높이 고정값 삭제
          // $ul.css({
          //     'max-height' : '325px'
          // });
        }
        // offset check
        $ul.css({
          display: 'flex',
          'flex-direction': 'column',
          'flex-wrap': 'wrap',
        });
        //alert($ul.css('max-height'));

        // IE11 fix
        //20221201 뎁스 알수없는 높이 고정값 삭제
        // $ul.css({
        //     'height' : $ul.css('max-height')
        // });

        function getUniqueOffset() {
          var offsetArray = [];
          var offsetTopArray = [];
          $ul.find('>li').each(function () {
            offsetArray.push($(this).offset().left);
            offsetTopArray.push({
              top: $(this).offset().top,
              el: $(this),
            });
          });

          // 중복제거하여 col 갯수 확인
          var uniqueOffsetLeft = [];
          $.each(offsetArray, function (i, el) {
            if ($.inArray(el, uniqueOffsetLeft) === -1)
              uniqueOffsetLeft.push(el);
          });

          var uniqueOffsetTop = [];
          $.each(offsetTopArray, function (i, el) {
            if ($.inArray(el, uniqueOffsetTop) === -1) uniqueOffsetTop.push(el);
          });

          return {
            uniqueOffsetLeft: uniqueOffsetLeft,
            uniqueOffsetTop: uniqueOffsetTop,
          };
        }

        var offset = getUniqueOffset();
        var uniqueOffsetLeft = offset.uniqueOffsetLeft;
        var uniqueOffsetTop = offset.uniqueOffsetTop;
        var productMaxNum =
          uniqueOffsetLeft.length >= 9 ? 5 : uniqueOffsetLeft.length; //20240108 kr외의 상품 리스트 9개를 넘어갔을시 리스트 깨지는 이슈
        // var max = offsetArray.slice(0).sort(function(a,b){a<b})[0];
        var ulWidth = $ul.width();
        var liWidth;
        if (fixwidth * uniqueOffsetLeft.length > ulWidth) {
          // 계산된 width 값이 너무커서 벗어날경우
          liWidth = ulWidth / uniqueOffsetLeft.length - 40 - 10;

          $ul.children('li').css({
            //20221201 뎁스 알수없는 높이 고정값 삭제
            // 'width' : liWidth + 'px'
            //20221201 뎁스 css추가
            width: 'auto',
            'break-inside': 'avoid',
          });
          $ul.css({
            visibility: '',
            display: '',
            //20221201 뎁스 css추가
            width: 'auto',
          });
        } else {
          ulWidth = fixwidth * uniqueOffsetLeft.length;
          $ul.children('li').css({
            //'width' : '265px',
            width: 'auto',
            'break-inside': 'avoid',
          });

          $ul.css({
            width: fixwidth * uniqueOffsetLeft.length + 40 + 'px',
            visibility: '',
            display: '',
            height: '',
            'max-height': '',
          });
          // IE11 fix
          /*
                              if (uniqueOffsetLeft.length > 1){
                                  $ul.css({
                                      'height' : $ul.css('max-height')
                                  });
                              }
                              */
        }

        $ul
          .css({
            //'column-count': uniqueOffsetLeft.length.toString(),
            'column-count': productMaxNum.toString(), //20240108 kr외의 상품 리스트 9개를 넘어갔을시 리스트 깨지는 이슈
            //'column-fill' : 'auto', // TODO :: FIREFOX bug check
            'column-fill': 'balance',
            width: 'auto',
            visibility: '',
            //'display' : 'block',
            height: 'auto',
            'max-height': 'auto',
          })
          .removeClass('large');

        if (cateHeight < 320 && $ul.find('.offering-list-sub').length == 0) {
          if ($ul.children('li').length > 4) {
            $ul.css({
              'column-fill': 'auto',
              height: 'auto', //20221201 310px 뎁스 알수없는 높이 고정값 삭제
            });
          }
        }
        // 일반메뉴 그룹메뉴 혼합일때
        if (
          $ul.find('> li.offering-list-sub').length > 0 &&
          $ul.find('> li:not(.offering-list-sub)').length > 0
        ) {
          $ul.css({
            visibility: 'hidden',
            display: 'block',
            // 'max-height' : (cateHeight + 90) + 'px', //20221201 뎁스 알수없는 높이 고정값 삭제
          });
          var currentOffset = getUniqueOffset();
          var currentUniqueOffsetLeft = currentOffset.uniqueOffsetLeft;
          $ul.css({
            visibility: '',
            display: '',
            'column-count': currentUniqueOffsetLeft.length.toString(),
          });
          $ul
            .find('> li:not(.offering-list-sub)')
            .addClass('offering-list-sub')
            .addClass('fake');
        }
      });
    }
  };

  _proto.initSubmenuSize = function () {
    if (this.gnbType == 'normal') {
      $('.offering-list > ul.items').each(function (i, el) {
        var $ul = $(this);
        var itemCount = $ul.find('li').length;
        var colCount = Math.ceil(itemCount / 5);
        $ul.css({
          width: colCount * 260 + 'px',
        });
      });
    } else {
      //$(".offering-list > ul.items").css("width", "calc(100% - "+($inner.find(".offering-cate").width() + 10)+"px)");
      $('.offering-list > ul.items').css('width', '100%');

      // height 값 체크후 large class 추가
      $('.offering-list > ul.items').each(function (i, el) {
        var fixwidth = 300;
        var offsetArray = [];
        var offsetTopArray = [];
        var $ul = $(this);
        $ul.css({
          visibility: 'hidden',
          display: 'block',
        });
        // height check
        var cateHeight = 0;
        $ul.find('.offering-list-sub').each(function (i, el) {
          cateHeight += $(this).height();
        });
        //console.log("cateHeight::"+ cateHeight);
        if ($ul.find('.offering-list-sub').length == 1) {
          $ul.css({
            'max-height': cateHeight + 80 + 16 + 'px',
          });
        } else if (cateHeight >= 320) {
          $ul.addClass('large');
        }
        // offset check
        $ul.css({ display: 'flex' });
        //alert($ul.css('max-height'));

        // IE11 fix
        $ul.css({
          height: $ul.css('max-height'),
        });

        function getUniqueOffset() {
          $ul.find('>li').each(function () {
            offsetArray.push($(this).offset().left);
            offsetTopArray.push($(this).offset().top);
          });

          // 중복제거하여 col 갯수 확인
          var uniqueOffsetLeft = [];
          $.each(offsetArray, function (i, el) {
            if ($.inArray(el, uniqueOffsetLeft) === -1)
              uniqueOffsetLeft.push(el);
          });

          var uniqueOffsetTop = [];
          $.each(offsetTopArray, function (i, el) {
            if ($.inArray(el, uniqueOffsetTop) === -1) uniqueOffsetTop.push(el);
          });

          return {
            uniqueOffsetLeft: uniqueOffsetLeft,
            uniqueOffsetTop: uniqueOffsetTop,
          };
        }

        var offset = getUniqueOffset();
        var uniqueOffsetLeft = offset.uniqueOffsetLeft;
        var uniqueOffsetTop = offset.uniqueOffsetTop;
        // var max = offsetArray.slice(0).sort(function(a,b){a<b})[0];
        var ulWidth = $ul.width();
        var liWidth;

        if (fixwidth * uniqueOffsetLeft.length > ulWidth) {
          // 계산된 width 값이 너무커서 벗어날경우
          liWidth = ulWidth / uniqueOffsetLeft.length - 40 - 10;

          $ul.children('li').css({
            width: liWidth + 'px',
          });
          $ul.css({
            visibility: '',
            display: '',
          });
        } else {
          ulWidth = fixwidth * uniqueOffsetLeft.length;
          $ul.children('li').css({
            width: '260px',
          });
          $ul.css({
            width: fixwidth * uniqueOffsetLeft.length + 40 + 'px',
            visibility: '',
            display: '',
            height: '',
          });
          // IE11 fix
          /*
                              if (uniqueOffsetLeft.length > 1){
                                  $ul.css({
                                      'height' : $ul.css('max-height')
                                  });
                              }
                              */
        }
      });
    }
  };

  _proto.addEventListener = function () {
    /** 202304-01 웹접근 언어선택 변수 */
    var $nav_languageBtn =
        _this.$hd_iconNavigator_area.find('li a.btn-language'),
      $nav_languageDropCont =
        _this.$hd_iconNavigator_area.find('.dropCont_language'),
      $nav_languageDropContDL = $nav_languageDropCont.find('dl'),
      $nav_languageDropCont_listBtn = $nav_languageDropContDL.find('dd'),
      $nav_languageDropCont_closeBtn = $nav_languageDropCont.find(
        '.dropCont_mo_language_close button',
      ),
      $nav_languageUrl = location.href;

    /** 202304-01 웹접근 검색창 변수 */
    var $nav_search_btn = _this.$hd_iconNavigator_area.find('.btn-search'),
      $nav_search_area = $nav_search_btn.parent('li'),
      $nav_search_boxWrap = $nav_search_area.find('.search_box'),
      $nav_search_cont = $nav_search_boxWrap.find('.container'),
      $nav_search_box_closeBtn = $nav_search_boxWrap.find('a.btn-close'),
      $nav_search_boxOBJ = $nav_search_boxWrap.find(
        "button, input:not([type='hidden']), select, iframe, textarea, [href]:visible, [tabindex]:not([tabindex='-1'])",
      ),
      $search_boxOBJ_first = $nav_search_boxOBJ && $nav_search_boxOBJ.first(),
      $search_boxOBJ_last = $nav_search_boxOBJ && $nav_search_boxOBJ.last(),
      $nav_search_form = $nav_search_cont.find('form'),
      $nav_search_formDropDown = $nav_search_form.find('.form.sch_box'),
      $nav_search_form_txtInput = $nav_search_formDropDown.find(
        '.in input#total_keyword',
      ),
      $nav_search_formColoseBtn = $nav_search_formDropDown.find(
        '.src_closeBtn #service_close_title',
      ),
      $nav_search_linkArea = $nav_search_cont.find('.link_box'),
      $nav_search_linkBtn = $nav_search_linkArea.find('.links a').first();

    /** 202304-01 웹접근 RNB햄버거버튼 변수 */
    var $nav_rnb_btn = _this.$hd_iconNavigator_area.find('.btn_hamburger');
    var tabDisablel;

    _this.gnbTopLinks = $(
      '.gnb > .hd-cnt > .logo > a ,.gnb .hd-cnt .menu > li > .title a, .gnb .hd-etc .util > li > a',
    );

    // main gnb mouseover
    var $gnb = $('.M00_A');
    //var $wrap = $('#wrap.main');
    var $wrap = $('#wrap');
    if (this.gnbType == 'main') {
      $gnb
        .find('> *')
        .on('mouseover', function () {
          gnbMainTransparentTimer.stop();
          $gnb.addClass('mc_chk');
        })
        .on('mouseleave', function (e) {
          if ($('body').hasClass('hid_s')) return;
          if (_this.isFocus) return;
          gnbMainTransparentTimer.start();
        });
      $gnb
        .find('a')
        .on('focus', function () {
          gnbMainTransparentTimer.stop();
          _this.isFocus = true;
          $gnb.addClass('mc_chk');
        })
        .on('focusout', function () {
          _this.isFocus = false;
          if ($('body').hasClass('hid_s')) return;
        });
    } else if (this.gnbType == 'offering') {
      if (this.offeringData.menuId == $(currentPage).text()) {
        $gnb.addClass('offering_main');
      } else {
        $gnb.addClass('offering');
      }
    }

    //gnbSwiperBanner tabControl
    $(window).on('load', function () {
      var $panelDataWrap = $('.gnb .childpanel.offering');
      var $panelSecondDataWrap = $('.gnb .childpanel.smart');
      var $panelDataWrap_sol = $('.gnb .childpanel.solution');
      var $panelDataSlideLength = $(
        '.gnb .childpanel.offering .swiper-wrapper .swiper-slide',
      ).length;
      var $panelSecondSlideLength = $(
        '.gnb .childpanel.smart .swiper-wrapper .swiper-slide',
      ).length;
      var $panelSlideLength_sol = $(
        '.gnb .childpanel.solution .swiper-wrapper .swiper-slide',
      ).length;

      if ($panelDataSlideLength > 5 || $(window).width() <= 1340) {
        $panelDataWrap.find('.tab_control').addClass('act');
      }

      if ($panelSecondSlideLength > 5 || $(window).width() <= 1340) {
        $panelSecondDataWrap.find('.tab_control').addClass('act');
      }

      if ($panelSlideLength_sol > 5 || $(window).width() <= 1340) {
        $panelDataWrap_sol.find('.tab_control').addClass('act');
      }
    });

    // gnb
    var $gnbMenuDropCont = $('.gnb .hd-cnt .menu > li > .childpanel');
    // 20230522 메인과 동일한 기능 변수 : 서브페이지 GNB 호버했을시 gnb 스크롤 기능 X
    var sunGnbWrap = $('#wrap');
    var subGnb_mouseHover = $('html,body,#wrap,#container');
    var sub_wheelHandler = false;

    var $gnb_nav_name_distributionBtn = $('.hd-cnt .menu-group1 a#tab_smart'),
      $gnb_nav_name_distributionBtn_dropCont = $(
        '.hd-cnt .menu-group1 .childpanel.smart, .hd-cnt .menu-group1 .childpanel.genAi',
      ),
      $distribution_dropCont_youtubeBtn =
        $gnb_nav_name_distributionBtn_dropCont.find('#youtubeBtn, .play_btn'),
      $distribution_dropCont_youtubeIframe =
        $gnb_nav_name_distributionBtn_dropCont.find('#gnbYoutube');

    $('.gnb .hd-cnt .menu > li > .title > a')
      .on('mouseenter focus', function (e) {
        e.preventDefault();
        e.stopPropagation();
        menuCloseTimer.stop();
        $(".gnb .hd-cnt .menu > li:not('.no-child')")
          .removeClass('on')
          .find('> .title > a')
          .attr('aria-selected', 'false');
        $(this)
          .closest(".menu > li:not('.no-child')")
          .addClass('on')
          .find('> .title > a')
          .attr('aria-selected', 'true');

        _this.rnbMenuClose();
        _this.searchBoxClose();
        _this.historyMenuClose();

        if (!$(this).closest('li').hasClass('no-child')) {
          $('body').addClass('hid_s');

          // 닷컴 요청 사항 GNB Mouse event일때 scrollbar 사라지면서 생기는 여백 수정
          $('.M01_A')
            .find('.md_visual')
            .trigger('configuration', {
              width: $(window).width(),
              items: {
                width: $(window).width(),
              },
            });

          $('.M01_A').find('.md_visual').trigger('updateSizes');
        }
        $('.gnb .hd-cnt .menu.menu-group1 > li')
          .removeClass('on')
          .find('> .title > a')
          .attr('aria-selected', 'false');
        $(this)
          .closest('.menu.menu-group1 > li')
          .addClass('on')
          .find('> .title > a')
          .attr('aria-selected', 'true');
        _this.setOfferingGnbMh();

        if (
          !$(this)
            .closest('li')
            .find('.childpanel .tab_control .btn_prev')
            .hasClass('disabled')
        ) {
          // 초기값 설정 : prev 버튼 비활성화
          $(this)
            .closest('li')
            .find('.childpanel .tab_control .btn_prev')
            .addClass('disabled')
            .attr('disabled', 'disabled');
          $(this)
            .closest('li')
            .find('.childpanel .tab_control .btn_next')
            .removeClass('disabled')
            .removeAttr('disabled', 'disabled');
        }

        /* ajax 못불러왔을때 다시 호출 : 20240822 삭제 */

        if ($(this).closest('li').hasClass('renewal_menu_depth')) {
          // 클라우드 메뉴 호버시, 첫번째 메뉴에 강제로 호버
          $(selectorDepth.first.link)
            .eq(0)
            .add($(selectorDepth.second.link).eq(0))
            .trigger('mouseenter');
        }

        _this.gnbItemScrollStyle(e.type, $(this).closest('li')); //e.type, .find("> .title a")

        /** 20250131 gnb내 동영상, 다른 매뉴로 접근시 플레이 정지 - 251203 유튜브 수정중 */
        // var $thisActive = $(this).closest('ul.menu').find('li.on');
        // if(!$thisActive.find('.video_wrap iframe').length){
        //     $('.video_wrap iframe').each(function(){
        //         $(this).attr("src", $(this).attr("src").replace("?autoplay=1&mute=1", ""));
        //     })
        // }
        stopAllPlayers();
      })
      .on('mouseleave blur', function (e) {
        //202304-01 웹접근 : blur 추가
        sub_wheelHandler = false; //20230522 서브페이지 GNB 호버했을시 gnb 스크롤 기능 X
        menuCloseTimer.start();
        _this.gnbItemScrollStyle(e.type, $(this).closest('li')); //e.type, .find("> .title a")

        // $(".gnb .hd-cnt .menu.menu-group1 > li").removeClass("on").find('> .title > a').attr('aria-selected','false');
        $('.gnb .hd-cnt .menu')
          .removeClass('on')
          .find('> .title > a')
          .attr('aria-selected', 'false');
        $('body').removeClass('hid_s');
      });

    //gnb drop contents
    $gnbMenuDropCont.hover(function () {
      $('body').addClass('hid_s');
    });
    $gnbMenuDropCont.on('mouseleave blur', function (e) {
      menuCloseTimer.start();
      _this.gnbItemScrollStyle(e.type, $(this).closest('li'));

      stopAllPlayers();
      /** 20250131 gnb내 동영상, 다른 매뉴로 접근시 플레이 정지 - 251203 유튜브 수정중 */
      // if($(this).find('.video_wrap iframe').length){
      //     var youtubeSRC_pram_remove = $(this).find('.video_wrap iframe').attr("src").split("?")[0];
      //     $(this).find('.video_wrap iframe').attr("src", youtubeSRC_pram_remove);
      //     return false;
      // };

      // $('.gnb .hd-cnt .menu').removeClass('on').find('> .title > a').attr('aria-selected', 'false');
      // $('body').removeClass('hid_s');
      // sub_wheelHandler = false; /* 2023-10-05 rnb 수정 */
    });

    // 리얼서밋 2024 임시 메뉴 기능 분기 - 삭제예정
    // let $summit2024 = $('.MP_real_summit_2024');
    // if($summit2024.length){
    //     let hdOuter = $('.M00_A').outerHeight();
    //     let $scrollAgenda = $('.scroll_agenda');
    //     let $scrollKeynote = $('.scroll_keynote');
    //     let offsetAgenda = $summit2024.find('.M125_A').offset().top - hdOuter; //해당 위치 반환
    //     let offsetKeynote = $summit2024.find('.M120_B').offset().top - hdOuter; //해당 위치 반환
    //     $scrollAgenda.on('click', function(e){
    //         e.preventDefault();
    //         $("html, body").stop().animate({scrollTop: offsetAgenda},500);
    //         _this.menuClose();
    //     })
    //     $scrollKeynote.on('click', function(e){
    //         e.preventDefault();
    //         $("html, body").stop().animate({scrollTop: offsetKeynote},500);
    //         _this.menuClose();
    //     })
    // }

    /* 키보드 접근시 gnb drop메뉴 */
    $('.gnb .hd-cnt .menu > li > .childpanel a').on(
      'mouseover focus',
      function (e) {
        e.stopPropagation();
        menuCloseTimer.stop(); //키보드 접근시 gnb drop메뉴 닫히는 이슈 메뉴 정지기능
      },
    );

    $('.gnb .hd-cnt .menu > li > .childpanel').on('mouseover', function (e) {
      e.stopPropagation();
      menuCloseTimer.stop();
    });

    //20221201 gnb close btn추가
    $('.gnb .hd-cnt .menu > li > .childpanel .gnb_closeBtn button').on(
      'click',
      function (e) {
        $(this)
          .closest('.menu > li')
          .removeClass('on')
          .find('> .title > a')
          .attr('aria-selected', 'false');
      },
    );

    //GNB Youtube Thumbnail - 251203 유튜브 수정중
    // $distribution_dropCont_youtubeBtn.on("click", function() {
    //     $(this).parent('.video_wrap').find('iframe').attr("tabindex", "0");

    //     var gnbYoutubeSrc = $(this).parent('.video_wrap').find('iframe');
    //     var gnbYoutubeSrcSplit = gnbYoutubeSrc.attr("src").split("?")[0];

    //     gnbYoutubeSrc.attr("src", gnbYoutubeSrcSplit + "?autoplay=1&mute=1");

    //     $(this).closest($gnb_nav_name_distributionBtn_dropCont).find($distribution_dropCont_youtubeBtn).fadeOut(100);
    //     return false;
    // });

    $distribution_dropCont_youtubeBtn.on('click', function () {
      var $videoWrap = $(this).closest('.video_wrap');
      var iframeId = $videoWrap.find('iframe').attr('id');
      var $btn = $(this);

      // 모든 플레이어 정지
      stopAllPlayers();

      // 플레이어 준비 확인 및 재생 함수
      function tryPlayPlayer(retries = 10) {
        if (
          gnbYtPlayersReady[iframeId] &&
          gnbYtPlayers[iframeId]?.playVideo instanceof Function
        ) {
          gnbYtPlayers[iframeId].mute();
          gnbYtPlayers[iframeId].playVideo();

          $btn.fadeOut(100);
          $btn
            .closest($gnb_nav_name_distributionBtn_dropCont)
            .find($distribution_dropCont_youtubeBtn)
            .fadeOut(100);
        } else if (retries > 0) {
          setTimeout(() => tryPlayPlayer(retries - 1), 100);
        } else {
          console.warn('Player not ready after retries:', iframeId);
        }
      }

      tryPlayPlayer();

      return false;
    });

    /* mainoffering accodion */
    $('.gnb .childpanel .items .acc_item').on({
      'mouseenter focusin': function (e) {
        var $btn = $(e.currentTarget).find('> .title a');

        $(this)
          .find('> .items')
          .stop()
          .slideDown('fast', function () {
            if ($(this).is(':visible')) {
              //220331 | 접근성 | GNB title 제거
              $btn.addClass('on'); //.attr({"title": (langSet[_this.lang].menuState.inactiveStr).toString(), "aria-expanded":"true"})
              //_this.gnbItemAccScrollStyle(e.type, $(this));
            } else {
              $btn.removeClass('on'); //.attr({"title": (langSet[_this.lang].menuState.activeStr).toString(), "aria-expanded":"false"})
            }
          });
        e.preventDefault();
      },
      'mouseleave focusout': function (e) {
        var $thisAll = $('.gnb .childpanel .items .acc_item');

        $thisAll
          .find('> .items')
          .stop()
          .slideUp('fast', function () {
            $(this).css('height', 'auto');
            //_this.gnbItemAccScrollStyle(e.type, $(this));
          });
        //220331 | 접근성 | GNB title 제거
        $thisAll.find('> .title a').removeClass('on'); //.attr({"title": (langSet[_this.lang].menuState.activeStr).toString(), "aria-expanded":"false"})
        e.preventDefault();
      },
    });
    /* //mainoffering accodion */

    // sub gnb
    $(".gsnb:not('.mobile') .inner > ul > li.offering-list")
      .on('mouseenter', function (e) {
        //220331 | 접근성 | GSNB title 제거
        $(this).addClass('on');
        //.find("> .title > a").attr("title", langSet[_this.lang].menuState.inactiveStr);

        // .offering-list의 .items.renewal이 노출됐을 때 body를 잠급니다.
        if ($(this).find('.items').filter('.renewal')) {
          $('body').addClass('hid_s');
        }
      })
      .on('mouseleave', function (e) {
        //220331 | 접근성 | GSNB title 제거
        $(this).removeClass('on');
        //.find("> .title > a").attr("title", langSet[_this.lang].menuState.activeStr);

        // .offering-list의 .items.renewal이 노출됐을 때 body를 풉니다.
        if ($(this).find('.items').filter('.renewal')) {
          $('body').removeClass('hid_s');
        }
      });

    $(".gsnb:not('.mobile') .inner > ul > li.offering-list > .title > a").on(
      'focus',
      function (e) {
        _this.inFocus = true;
        //220331 | 접근성 | GSNB title 제거
        $(".gsnb:not('.mobile') .inner > ul > li.offering-list").removeClass(
          'on',
        );
        //.find("> .title > a").attr("title", langSet[_this.lang].menuState.activeStr);
        $(this).closest('li').addClass('on');
        //.find("> .title > a").attr("title", langSet[_this.lang].menuState.inactiveStr);
      },
    );

    $(".gsnb:not('.mobile') .inner > ul > li.offering-list .items a")
      .on('focus', function () {
        _this.inFocus = true;
      })
      .on('focusout', function () {
        _this.inFocus = false;
        subMenuCloseTimer.start();
      });

    $(
      ".gsnb:not('.mobile') .inner > ul > li:not('.offering-list') > .title > a",
    )
      .on('focus', function (e) {
        _this.inFocus = true;
        //220331 | 접근성 | GSNB title 제거
        $(".gsnb:not('.mobile') .inner > ul > li.offering-list").removeClass(
          'on',
        );
        //.find("> .title > a").attr("title", langSet[_this.lang].menuState.activeStr);
      })
      .on('focusout', function (e) {
        _this.inFocus = false;
      });

    // history
    $('.btn-history').click(function (e) {
      if ($(this).hasClass('on')) return false;

      _this.closeMobileGsnb();
      _this.rnbMenuClose();
      _this.searchBoxClose();
      _this.setHeightRightContainer();

      $('body').addClass('hid_s');

      if (_this.isIos()) {
        $('html').addClass('ios');
      }
      /*
                  if ( $('#wrap').hasClass('scroll_chk') ){
                      _this.$el.css({
                          'transition' : 'none'
                      });
                      _this.$el.css({
                          'top' : $('#header').offset().top + 'px',
                          'position' : 'fixed'
                      });
                  }
                  */

      /* 210603 | 접근성 | history,search aria add */
      var ariahidden;
      if (_this.isMobile == false) {
        ariahidden = $('footer, #container, #skip_navi');
      } else {
        ariahidden = $(
          'footer, #container, #skip_navi, header .gnb > div:not(.hd-etc), header .gnb .hd-etc .util > li:not(li:nth-child(2)), header .gsnb, .gnb .btn-history',
        );
      }

      ariahidden.attr({
        tabindex: '-1',
        'aria-hidden': true,
      });
      /* //210603 | 접근성 | history,search aria add */

      $(this).addClass('on');
      $('.history')
        .addClass('on')
        .css({ display: 'block' })
        .find('.container')
        .stop()
        .css({ right: -1 * $('.history').width() })
        .animate(
          {
            right: 0,
          },
          500,
          'easeOutQuint',
          function () {
            //alert( "all done" );
            $('.history .btn-close').focus();
          },
        );

      e.preventDefault();
    });
    $('.history .btn-close').click(function (e) {
      $('.btn-history').removeClass('on').focus(); //210603 | 접근성 | history focus

      /* 210603 | 접근성 | history,search aria add */
      var ariahidden = $(
        'footer, #container, #skip_navi, header .gnb > div:not(.hd-etc), header .gnb .hd-etc .util > li, header .gsnb, .gnb .btn-history',
      );
      ariahidden.removeAttr('tabindex');
      ariahidden.removeAttr('aria-hidden');
      /* //210603 | 접근성 | history,search aria add */
      $('.history')
        .removeClass('on')
        .find('.container')
        .stop()
        .animate(
          {
            right: -1 * $('.history').width(),
            opacity: 1,
          },
          500,
          'easeOutQuint',
          function () {
            $('.history').css('display', 'none');
            $('body').removeClass('hid_s');
            if (_this.isIos()) {
              $('html').removeClass('ios');
            }
            /*
                  //if ( _this.isMobile == false ){
                      if ( $('#wrap').hasClass('scroll_chk') ){
                          _this.$el.css({
                              'top' : '0px',
                              'position' : 'absolute'
                          });

                          _this.$el.css({
                              'transition' : 'top 0.2s'
                          });
                      }
                  //}
                  */
          },
        );
      e.preventDefault();
    });
    // History clear button
    $('.history .btn-clear').click(function (e) {
      _this.clearHistory();
    });

    /** 202304-01 웹접근 언어선택 버튼 */
    /* 20220506 GNB 언어 선택 drop,down 기능 추가 */
    $nav_languageDropCont_listBtn.removeClass('on');
    $nav_languageDropCont_closeBtn
      .find('span')
      .text('Close language selection');
    switch (true) {
      // kr
      case $nav_languageUrl.indexOf('/kr/') != -1:
        // $nav_languageDropCont_listBtn.eq(0).addClass('on');
        $nav_languageDropCont_closeBtn.find('span').text('언어선택 닫기');
        $nav_languageDropContDL.find('.lan_kr').addClass('on');
        break;

      // cn
      case $nav_languageUrl.indexOf('/cn/') != -1:
        $nav_languageDropContDL.find('.lan_cn').addClass('on');

        $nav_languageDropContDL.find('.lan_kr').insertAfter('.lan_in');
        break;

      // eu
      case $nav_languageUrl.indexOf('/eu/') != -1:
        $nav_languageDropContDL.find('.lan_eu').addClass('on');
        $nav_languageDropContDL
          .find('.lan_kr')
          .before($nav_languageDropContDL.find('.lan_eu'));

        $nav_languageDropContDL.find('.lan_kr').insertAfter('.lan_in'); //1번 국문이 lan_in 자리로 올라가기 : 공통
        break;

      // en
      case $nav_languageUrl.indexOf('/en/') != -1:
        $nav_languageDropContDL.find('.lan_en').addClass('on');
        $nav_languageDropContDL
          .find('.lan_kr')
          .before($nav_languageDropContDL.find('.lan_en'));

        $nav_languageDropContDL.find('.lan_kr').insertAfter('.lan_in'); //1번 국문이 lan_in 자리로 올라가기 : 공통
        break;

      // in
      case $nav_languageUrl.indexOf('/in/') != -1:
        $nav_languageDropContDL.find('.lan_in').addClass('on');
        $nav_languageDropContDL
          .find('.lan_kr')
          .before($nav_languageDropContDL.find('.lan_in'));

        $nav_languageDropContDL.find('.lan_kr').insertAfter('.lan_en'); //1번 국문이 lan_en 자리로 올라가기
        break;

      // la
      case $nav_languageUrl.indexOf('/la/') != -1:
        $nav_languageDropContDL.find('.lan_la').addClass('on');
        $nav_languageDropContDL
          .find('.lan_kr')
          .before($nav_languageDropContDL.find('.lan_la'));

        $nav_languageDropContDL.find('.lan_kr').insertAfter('.lan_in'); //1번 국문이 lan_in 자리로 올라가기 : 공통
        break;

      // vn
      case $nav_languageUrl.indexOf('/vn/') != -1:
        $nav_languageDropContDL.find('.lan_vn').addClass('on');
        $nav_languageDropContDL
          .find('.lan_kr')
          .before($nav_languageDropContDL.find('.lan_vn'));

        $nav_languageDropContDL.find('.lan_kr').insertAfter('.lan_la'); //1번 국문이 lan_in 자리로 올라가기 : 공통
        break;

      // us
      case $nav_languageUrl.indexOf('/us/') != -1:
        $nav_languageDropContDL.find('.lan_us').addClass('on');
        $nav_languageDropContDL
          .find('.lan_kr')
          .before($nav_languageDropContDL.find('.lan_us'));

        $nav_languageDropContDL.find('.lan_kr').insertAfter('.lan_in'); //1번 국문이 lan_in 자리로 올라가기 : 공통
        break;
      default:
        break;
    }

    //언어선택 : 마우스 접근
    $nav_languageBtn.on('mouseover focus', function (e) {
      _this.menuClose();
      _this.searchBoxClose();
      if (ariahidden || '') {
        ariahidden.removeAttr('tabindex aria-hidden');
      }
      e.stopPropagation();
      $(this).closest('li').addClass('language_on');
    });
    $nav_languageDropCont.on('mouseover', function (e) {
      $(this).closest('li').addClass('language_on');
    });
    $nav_languageDropCont.on('mouseleave blur', function (e) {
      $(this).closest('li').removeClass('language_on');
    });

    //언어선택 : 키보드 접근
    $nav_languageBtn.on('mouseleave', function (e) {
      $(this).closest('li').removeClass('language_on');
    });
    $nav_languageBtn.on('keydown blur', function (e) {
      if (e.shiftKey && e.keyCode === 9) {
        $(this).closest('li').removeClass('language_on');
        // return false;
      } else if (e.keyCode === 9) {
        var $dropContDl = $(this).next('.dropCont_language'),
          $dropContDl_btn = $dropContDl.find('dl dd');

        $dropContDl_btn.first().find('a').focus();
      }
    });

    $nav_languageDropCont_closeBtn.on('click', function (e) {
      $(this).closest('li').removeClass('language_on');
    });
    /* //20220506 GNB 언어 선택 drop,down 기능 추가 */
    /** //202304-01 웹접근 언어선택 */

    /** gnb 검색 버튼 */
    var ariahidden;
    //20230623 click 이벤트에서 -> mousevoer 이벤트 수정
    $nav_search_btn.on(
      _this.isMobile ? 'click' : 'mouseover focus',
      function (e) {
        if (_this.isMobile) {
          e.preventDefault(); // 기본 동작 방지
        }
        _this.closeMobileGsnb();
        _this.rnbMenuClose();
        _this.historyMenuClose();
        $nav_languageDropCont.parent().removeClass('language_on');

        /* 210603 | 접근성 | history,search aria add | nth-child(3) - 운영기, 로컬 li 갯수다름 추후 수정해야함 */
        if (_this.isMobile == false) {
          ariahidden = $('footer, #container, #skip_navi');
        } else {
          //202304-01 웹접근 class 추가
          ariahidden = $(
            'footer, #container, #skip_navi, header .gnb > div:not(.hd-etc), header .gsnb, .gnb .btn-search, .tail_bnr a, .cont, .cont a, .cont input, .cont button, .blind form, .slidePopup, .md_share_area, .floating-re, #corpCountry, .util > li:first-child, .util > li:last-child',
          );
        }
        ariahidden.attr({ tabindex: '-1', 'aria-hidden': true });

        //키보드 접근 : 검색버튼의 마지막 버튼의 기능
        $nav_search_box_closeBtn.on('keydown', function (event) {
          if (!event.shiftKey && (event.keyCode || event.which) === 9) {
            // Tab키 : 초점 받을 수 있는 마지막 요소에서 첫번째 요소으로 초점 이동
            event.preventDefault();
            if (_this.isMobile) {
              $search_boxOBJ_first.focus();
            } else {
              ariahidden.removeAttr('tabindex aria-hidden');
              // $nav_rnb_btn.focus(); //pc에선 rnb메뉴로 이동 //20240814 pc에서 rnb메뉴가 없어졌기 때문에 검색창 닫기로 이동
              _this.searchBoxClose();
            }
          }
        });

        $(this).closest('li').append('<div class="search_dim"></div>');

        $('.search_dim').on('click', function () {
          _this.searchBoxClose();
        });

        $('body').addClass('hid_s');
        if (_this.isIos()) {
          $('html').addClass('ios');
        }
        $(this).addClass('on');

        if (_this.isMobile) {
          $('.search_box')
            .css({
              left: $('.search_box').width() + 'px',
            })
            .show()
            .animate({ left: '0px' }, 500, 'easeOutQuint');
          // $(".search_box .btn-close").focus(); //202304-01 웹접근 : 삭제
        } else {
          $('.search_box').show();
        }
      },
    );

    $nav_search_btn.on('focus', function () {
      $nav_languageBtn.parent().removeClass('language_on');
    });

    $nav_search_boxWrap.on('mouseleave', function () {
      ariahidden.removeAttr('tabindex aria-hidden');
      _this.searchBoxClose();
    });

    $('.search_box form .input').on('keyup', function (e) {
      if ($(this).val().length > 0) {
        $('.search_box form .delete').show();
      } else {
        $('.search_box form .delete').hide();
      }
    });

    $('.search_box form .delete').on('click', function () {
      $(this).hide();
      $('.search_box form .input').val('').focus();
    });

    //202304-01 웹접근 추가 : gnb검색 키보드 접근
    $nav_search_formColoseBtn.on('keydown', function (e) {
      $nav_search_formDropDown.removeClass('on');
    });

    $('.search_box .btn-close').on('click', function () {
      /* 20230623 click 이벤트에서 -> mousevoer 이벤트 수정 */
      // $('.hd-etc .btn-search').removeClass('on').focus(); //원본
      $('.hd-etc .btn-search').removeClass('on');
      /* //20230623 click 이벤트에서 -> mousevoer 이벤트 수정 */

      $('.search_dim').remove();

      /* 210603 | 접근성 | history,search aria add */
      /* 202304-01 웹접근 class 추가 */
      var ariahidden = $(
        'footer, #container, #skip_navi, header .gnb > div:not(.hd-etc), header .gnb .hd-etc .util > li, header .gsnb, .gnb .btn-search, .tail_bnr a, .tail_bnr a, .cont, .cont a, .cont input, .cont button, .slidePopup, .md_share_area, .floating-re, #corpCountry, .util > li:first-child, .util > li:last-child',
      );
      ariahidden.removeAttr('tabindex aria-hidden');
      /* //210603 | 접근성 | history,search aria add */

      if (_this.isMobile) {
        $('.search_box').animate(
          {
            left: $('.search_box').width() + 'px',
          },
          500,
          'easeOutQuint',
          function () {
            $('.search_box').hide();
            $('body').removeClass('hid_s');
            if (_this.isIos()) {
              $('html').removeClass('ios');
            }
            $('.search_box form .input').val('');
            $('.search_box form .delete').hide();
          },
        );
      } else {
        $('.search_box').hide();
        $('body').removeClass('hid_s');
        $('.search_box form .input').val('');
        $('.search_box form .delete').hide();
      }
    });
    /** //gnb 검색 버튼 */

    //202304-01 웹접근 추가 : rnb 햄버거 버튼
    //키보드 접근시 햄버거 메뉴로 접근했을때
    $nav_rnb_btn.on('mouseover focus', function (e) {
      if (ariahidden || '') {
        ariahidden.removeAttr('tabindex aria-hidden');
      }
      _this.searchBoxClose();
    });

    //리뉴얼 메인section2 컨텐츠 서치 부분
    $('.mainSection2-search_container form .input').on('keyup', function (e) {
      if ($(this).val().length > 0) {
        $('.mainSection2-search_container form .delete').show();
      } else {
        $('.mainSection2-search_container form .delete').hide();
      }
    });

    $('.mainSection2-search_container form .delete').on('click', function () {
      $(this).hide();
      $('.mainSection2-search_container form .input').val('').focus();
    });

    // rnb
    $('.btn_hamburger')
      .find('.blind')
      .text(
        langSet[_this.lang].rnb.activeStr.toString(),
      ); /* 210412 | 접근성 | 대체텍스트 추가 */
    $('.btn_hamburger').click(function (e) {
      if ($(this).attr('disabled')) return false;
      _this.closeMobileGsnb();
      _this.searchBoxClose();
      _this.historyMenuClose();
      _this.setHeightRightContainer();

      //$(".history .btn-close").trigger('click');
      var $nav = $('.rnb > .container').eq(0);
      var $this = $(this);
      var $span = $this.find('.blind');
      var $rnbBtnClose =
        $('.rnb .btn-close'); /* 210412 | 접근성 | 대체텍스트 추가 */
      /* 210527 | 접근성 | rnb aria범위수정 */
      var ariahidden; /* 210514 | 접근성 | rnb 구조변경 */
      if (_this.isMobile == false) {
        ariahidden = $('footer, #container, #skip_navi');
      } else {
        ariahidden = $(
          'footer, #container, #skip_navi, header .gnb > div:not(.hd-etc), header .gnb .hd-etc .util > li:not(li:last-child), header .gsnb, .btn_hamburger, .blind form, .slidePopup, .md_share_area, .floating-re, #corpCountry',
        );
      }
      /* //210527 | 접근성 | rnb aria범위수정 */

      if ($(this).hasClass('active')) {
        $nav.stop().animate(
          {
            right: -1 * $nav.width(),
          },
          500,
          'easeOutQuint',
          function () {
            $this.removeClass('active').removeAttr('disabled');
            $('.rnb').css('display', 'none');
            _this.setDefaultRnb();
            $('.btn_hamburger').focus(); /* 210429 | 접근성 | 포커스 수정 */

            $('body').removeClass('hid_s');

            if (_this.isIos()) {
              $('html').removeClass('ios');
            }
            /* 210514 | 접근성 | rnb 구조변경 */
            ariahidden = $(
              'footer, #container, #skip_navi, header .gnb > div:not(.hd-etc), header .gnb .hd-etc .util > li:not(li:last-child), header .gsnb, .btn_hamburger, .blind form, .slidePopup, .md_share_area, .floating-re, #corpCountry',
            ); /* 210527 | 접근성 | rnb aria범위수정 */
            ariahidden.removeAttr('tabindex');
            ariahidden.removeAttr('aria-hidden');
            /* //210514 | 접근성 | rnb 구조변경 */
            //if ( _this.isMobile == false ){
            /*
                      if ( $('#wrap').hasClass('scroll_chk') ){
                          _this.$el.css({
                              'top' : '0px',
                              'position' : 'absolute'
                          });

                          _this.$el.css({
                              'transition' : 'top 0.2s'
                          });
                      }
                      */
            //}
          },
        );
        $span.text(langSet[_this.lang].rnb.activeStr.toString());
        $this.attr('disabled', 'disabled');
        $rnbBtnClose.text(
          langSet[_this.lang].rnb.activeStr.toString(),
        ); /* 210412 | 접근성 | 대체텍스트 추가 */
        //$this.html((langSet[_this.lang].rnb.activeStr).toString()+'<i class="line"></i>').attr("disabled", "disabled");
      } else {
        $('body').addClass('hid_s');

        if (_this.isIos()) {
          $('html').addClass('ios');
        }

        //if ( _this.isMobile == false ){
        /*
                        if ( $('#wrap').hasClass('scroll_chk') ){
                            _this.$el.css({
                                'transition' : 'none'
                            });
                            _this.$el.css({
                                'top' : $('#header').offset().top + 'px',
                                'position' : 'fixed'
                            });
                        }
                        */
        //}

        $('.rnb').css('display', 'block');
        $nav
          .stop()
          .css({ right: -1 * $nav.width() })
          .animate(
            {
              right: 0,
            },
            200,
            'easeOutQuint',
            function () {
              $this.addClass('active').removeAttr('disabled');
            },
          );
        /* 210514 | 접근성 | rnb 구조변경 */
        ariahidden.attr({
          tabindex: '-1',
          'aria-hidden': true,
        });
        /* //210514 | 접근성 | rnb 구조변경 */
        $span.text(langSet[_this.lang].rnb.inactiveStr.toString());
        $rnbBtnClose.text(
          langSet[_this.lang].rnb.inactiveStr.toString(),
        ); /* 210412 | 접근성 | 대체텍스트 추가 */
        $this.attr('disabled', 'disabled');
        $(
          '.rnb li:first .title > a:first',
        ).focus(); /* 210525 | 접근성 | 포커스 회귀 추가 */
        //$this.html((langSet[_this.lang].rnb.inactiveStr).toString()+'<i class="line"></i>').attr("disabled", "disabled");
      }
      e.preventDefault();
    });

    var isOpeningRnb = false;
    /* 210514 | 접근성 | rnb 구조변경 */
    $('.rnb .depth-main .title.dep1 a')
      .click(function (e) {
        if (isOpeningRnb) return;

        if (
          !$(this).closest('li').hasClass('no-child') &&
          !$(this).closest('li').hasClass('on')
        ) {
          isOpeningRnb = true;
          _this.setRnb(this.className || 'none', function () {
            isOpeningRnb = false;
          });
          e.preventDefault();
        }
      })
      .eq(0)
      .trigger('click');

    //202304-01 웹접근 : RNB 메뉴 최초 시작시 닫힘 타이틀
    if (_this.isMobile) {
      // 22년03 접근성 심사때 pc에선 title,aria-expanded 따로 삭제해서 모바일에서만 적용되게 수정
      $('.rnb .depth-sub .items.depth2 > li > .title a').attr({
        title: langSet[_this.lang].menuState.inactiveStr.toString(),
        'aria-expanded': 'false',
      });
    }

    $('.rnb .depth-sub .items.depth2 > li > .title a').on(
      'click',
      function (e) {
        /* 2023-10-20 rnb 2depth 기능 수정 시작 */
        /* 원본 */
        // e.preventDefault();
        // if (!_this.isMobile) return;

        if (_this.isMobile) {
          e.preventDefault();
        } else {
          if (!$(this).closest('.depth_inner').hasClass('gkrk'))
            e.preventDefault(); // 물류 X

          return;
        }
        /* // 2023-10-20 rnb 2depth 기능 수정 끝 */

        var $btn = $(e.currentTarget);
        // 애니메이션 : $btn.toggleClass("on");
        $(this)
          .parent('.title')
          .next('.items')
          .slideToggle('fast', function () {
            if ($(this).is(':visible')) {
              $btn
                .attr({
                  title: langSet[_this.lang].menuState.activeStr.toString(),
                  'aria-expanded': 'true',
                })
                .addClass('on');
            } else {
              $btn
                .attr({
                  title: langSet[_this.lang].menuState.inactiveStr.toString(),
                  'aria-expanded': 'false',
                })
                .removeClass('on');
            }
          });
      },
    );
    $('.rnb .depth-sub .items.depth2 > li').on({
      'mouseenter focusin': function (e) {
        if (_this.isMobile) return;
        var $btn = $(e.currentTarget).find('> .title a');
        // 애니메이션 : $btn.toggleClass("on");
        $(this)
          .find('> .items')
          .stop()
          .slideDown('fast', function (e) {
            //220331 | 접근성 | RNB title 제거
            $btn.addClass('on'); //.attr({"title": (langSet[_this.lang].menuState.inactiveStr).toString(), "aria-expanded":"true"})
          });
        e.preventDefault();
      },
      'mouseleave focusout': function (e) {
        if (_this.isMobile) return;
        var $thisAll = $('.rnb .depth-sub .items.depth2 > li');
        // 애니메이션 : $btn.toggleClass("on");
        $thisAll
          .find('> .items')
          .stop()
          .slideUp('fast', function () {
            $(this).css('height', 'auto');
          });
        //220331 | 접근성 | RNB title 제거
        $thisAll.find('> .title a').removeClass('on'); //.attr({"title": (langSet[_this.lang].menuState.activeStr).toString(), "aria-expanded":"false"})
        e.preventDefault();
      },
    });
    /* //210514 | 접근성 | rnb 구조변경 */

    $('.rnb .head .btn-close').on('click', function () {
      $('.btn_hamburger').trigger('click');
      _this.$el
        .find('.rnb')
        .find('.btn-close')
        .text(
          langSet[_this.lang].rnb.inactiveStr.toString(),
        ); /* 210412 | 접근성 | 대체텍스트 추가*/
    });
    /* 210514 | 접근성 | rnb 구조변경 */
    // rnb tab 접근성
    var $rnbLeftLinks = $('.rnb .depth-main ul li .title > a');
    $rnbLeftLinks.on('keydown', function (e) {
      if (e.which == 9 && !e.shiftKey) {
        // 마지막일때
        if ($rnbLeftLinks.index(this) == $rnbLeftLinks.length - 1) {
          e.preventDefault();
          var ariahidden = $(
            'footer, #container, #skip_navi, header .gnb > div:not(.hd-etc), header .gnb .hd-etc .util > li:not(li:last-child), header .gsnb, .btn_hamburger',
          ); /* 210527 | 접근성 | rnb aria범위수정 */
          $('.hd-etc .btn_hamburger').trigger(
            'click',
          ); /* 210429 | 접근성 | 마지막메뉴 후 rnb 닫힘 */
          ariahidden.removeAttr('tabindex');
          ariahidden.removeAttr('aria-hidden');
          $('#container').find('a:visible').eq(0).focus();
        }
      }
    });

    /* //210514 | 접근성 | rnb 구조변경 */

    // gsnb Mobile 3depth slider
    _this.subContainers = $('.gsnb.mobile .inner .owl-carousel > div');
    _this.carouselItemStatus = null;
    _this.$subMenuCarousel = $('.gsnb.mobile .inner .owl-carousel')
      .owlCarousel({
        items: 1,
        mouseDrag: false,
        touchDrag: false,
        pullDrag: false,
        dots: false,
        loop: false,
      })
      .on('changed.owl.carousel', function (e) {
        _this.carouselItemStatus = e;
      });

    $('.gsnb.mobile .inner .owl-carousel .owl-item > div > .items')
      .eq(0)
      .scrollbar({
        autoScrollSize: false,
      });

    // gsnb event 1depth
    $('.gsnb.mobile .inner > .title > a').on('click', function () {
      var self = $(this);
      var gnbTop = Number($('.M00_A').css('top').replace('px', ''));
      var gnbHeight = $('.M00_A .inner').height();
      var containerHeight = $(window).innerHeight() - (gnbHeight + gnbTop);
      //var containerHeight = screen.height - 112;
      if (self.hasClass('on')) {
        $('.gsnb.mobile .inner .owl-carousel')
          .stop()
          .slideUp(300, function () {
            _this.subContainers
              .eq(0)
              .find('.scroll-wrapper .menulist .title a')
              .removeClass('on');
            // _this.subContainers.eq(0).find(".scroll-wrapper .menulist ul.items").hide();
            _this.subContainers
              .eq(0)
              .find(
                '.scroll-wrapper .menulist ul.items, .scroll-wrapper .menulist .items.renewal',
              )
              .hide();
            _this.subContainers
              .eq(0)
              .find('.scroll-wrapper .menulist .title a')
              .attr('aria-expanded', 'false');
            self.attr('aria-expanded', 'false'); //210412 | 접근성 | aria-expanded 속성 추가

            if (_this.carouselItemStatus.item.count > 1) {
              _this.$subMenuCarousel
                .trigger('to.owl.carousel', 0)
                .trigger('remove.owl.carousel', 1)
                .trigger('refresh.owl.carousel');
            }
            $('body').removeClass('hid_s');
          });
        self
          .attr('title', langSet[_this.lang].menuState.activeStr.toString())
          .removeClass('on');
        self.attr('aria-expanded', 'false'); //210412 | 접근성 | aria-expanded 속성 추가

        if (_this.isIos()) {
          $('html').removeClass('ios');
        }
      } else {
        $('body').addClass('hid_s');

        if (_this.isIos()) {
          //alert('IOS TEST');
          $('.gsnb.mobile .inner .owl-carousel').css({
            top: gnbHeight + gnbTop + 'px',
            //'height' : 'calc(100vh - '+ ( gnbHeight + gnbTop ) +'px)'
            height: containerHeight + 'px',
          });
          $('html').addClass('ios');
        } else {
          $('.gsnb.mobile .inner .owl-carousel').css({
            top: gnbHeight + gnbTop + 'px',
            height: 'calc(100vh - ' + (gnbHeight + gnbTop) + 'px)',
          });
        }

        _this.subContainers.eq(0).find('.scroll-wrapper > ul.items').show();

        $('.gsnb.mobile .inner .owl-carousel')
          .stop()
          .slideDown('fast', function () {
            /*
                                if (_this.isIos()){
                                    $('.gsnb.mobile .inner .owl-carousel .items.scroll-content').scrollTop(0);
                                    $('.gsnb.mobile .inner .owl-carousel .items.scroll-content .scroll-element.scroll-y').scrollTop(0);
                                }
                                */
          });
        self
          .attr('title', langSet[_this.lang].menuState.inactiveStr.toString())
          .addClass('on');
        self.attr('aria-expanded', 'true'); //210412 | 접근성 | aria-expanded 속성 추가
      }
    });
    // gsnb event 2depth
    $('.gsnb.mobile .owl-carousel .menulist > .title > a').on(
      'click',
      function () {
        var self = $(this);

        $(this)
          .parent('.title')
          .next('.items')
          .slideToggle('fast', function () {
            if ($(this).is(':visible')) {
              self
                .attr(
                  'title',
                  langSet[_this.lang].menuState.inactiveStr.toString(),
                )
                .addClass('on');
              self.attr('aria-expanded', 'true'); //210412 | 접근성 | aria-expanded 속성 추가
            } else {
              self
                .attr(
                  'title',
                  langSet[_this.lang].menuState.activeStr.toString(),
                )
                .removeClass('on');
              self.attr('aria-expanded', 'false'); //210412 | 접근성 | aria-expanded 속성 추가
            }
          });
      },
    );
    // gsnb event 3depth
    $(
      '.gsnb.mobile .owl-carousel .menulist-sub:not(.no-child) > .title > a',
    ).attr('aria-expanded', 'false'); //210412 | 접근성 | aria-expanded 속성 추가
    $(
      '.gsnb.mobile .owl-carousel .menulist-sub:not(.no-child) > .title > a',
    ).on('click', function () {
      // 3depth click!!!
      handleMoveThirdDepth({
        $that: $(this),
        $clone: $(this).parent().next().clone(),
        thirdDepthTitleSelector: 'li a',
        _this: _this,
        callback: (payload) => {
          const { _this, self, $clone } = payload;
          $clone
            .addClass('menulist-sub')
            .find('li')
            .eq(0)
            .off('click')
            .on('click', function (e) {
              // 3depth back!!!
              var prevResult = _this.$subMenuCarousel.trigger(
                'prev.owl.carousel',
                200,
              );

              _this.$subMenuCarousel
                .trigger('remove.owl.carousel', 1)
                .trigger('refresh.owl.carousel');
              self.removeClass('on').attr('aria-expanded', 'false'); // 210412 | 접근성 접근성 | aria-expanded 속성 추가
            });
        },
        autoScrollSizeSelector: '.inner .owl-carousel .owl-item > .items',
      });
    });

    $(document).on(
      'click',
      '.gsnb.mobile .item_dropdownMenu:not(.no-child) .link_dropdownMenu',
      function (event) {
        // 3depth click
        event.preventDefault();
        handleMoveThirdDepth({
          $that: $(this),
          $clone: $(this).siblings('.grp_dropdownChildren').clone(),
          thirdDepthTitleSelector: '.link_comm',
          _this: _this,
          callback: (payload) => {
            const { _this, self, $clone, thirdDepthTitleSelector } = payload;

            $clone
              .find(thirdDepthTitleSelector)
              .off('click')
              .on('click', function () {
                // 2depth back

                _this.$subMenuCarousel.trigger('prev.owl.carousel', 200);
                _this.$subMenuCarousel
                  .trigger('remove.owl.carousel', 1)
                  .trigger('refresh.owl.carousel');
                self.removeClass('on').attr('aria-expanded', 'false'); // 210412 | 접근성 접근성 | aria-expanded 속성 추가
              });
          },
          autoScrollSizeSelector: '.grp_dropdownChildren',
        });
      },
    );

    function handleMoveThirdDepth(payload) {
      const {
        $that,
        $clone,
        thirdDepthTitleSelector,
        _this,
        autoScrollSizeSelector,
      } = payload;
      const self = $that;

      self.attr('aria-expanded', 'true');
      payload.callback({ self, $clone, thirdDepthTitleSelector, _this });
      $clone.find(thirdDepthTitleSelector).eq(0).attr('aria-expanded', 'true'); // 210412 | 접근성 접근성 | aria-expanded 속성 추가
      _this.$subMenuCarousel
        .trigger('add.owl.carousel', [$clone.show()])
        .trigger('refresh.owl.carousel');
      _this.$subMenuCarousel.trigger('next.owl.carousel', 200);

      $('.gsnb.mobile').find(autoScrollSizeSelector).scrollbar({
        autoScrollSize: false,
      });
    }

    // window scroll
    var position = $(window).scrollTop();
    var isAnimating = false;
    var headerHeight = $('.gnb').height() + 1;
    var $rnbContainer = $('.rnb > .container').eq(0);
    var scollchkTimeout = null;

    const $gnbNew = $gnb.find('.gnb.new');
    const $gsnb = $gnb.find(".gsnb:not('.mobile')");
    const $gsnbMobile = $gnb.find('.gsnb.mobile');

    $(window).on('scroll.gnb', function (e) {
      if (e.target !== document) {
        e.preventDefault();
        e.stopPropagation();
        return false;
      }

      if ($('body').hasClass('hid_s')) {
        e.preventDefault();
        e.stopPropagation();
        return false;
      }

      if (_this.gnbType == 'main' || _this.gnbType == 'static') {
        //_this.menuClose();
      } else {
        if (!$gsnb.find('li.offering-list').hasClass('on')) {
          _this.subMenuClose();
        }
      }

      //_this.gnbTopLinks.trigger('blur');

      var scroll = $(window).scrollTop();
      var hasTailBox = $('body').hasClass('tail_chk');
      var tailHeight = 0;

      if (_this.isMobile) hasTailBox = false;
      if (hasTailBox) {
        tailHeight = $('.tail_wrap').height();
      }

      if (scroll == position) return;

      if (scroll > position) {
        $('body').addClass('sc_down');
        $gnb.find(".gsnb:not('.mobile') li.offering-list .items.renewal").css({
          position: 'fixed',
          top: $gsnb.outerHeight() - 1,
        });

        $gsnbMobile.find('.inner .owl-carousel').css({
          top: $gsnbMobile.outerHeight() - 1,
          height: $(window).outerHeight() - $gsnbMobile.outerHeight() + 1,
        });

        if (scroll > $('#header').offset().top) {
          if (hasTailBox) {
            $gnb.css({
              transition: 'top 0.2s',
              top: '-' + ($('.gnb').height() + 1 + tailHeight) + 'px',
              position: 'fixed',
            });
          } else {
            if (scroll > 60) {
              $gnb.css({
                transition: '',
                top: '-' + ($('.gnb').height() + 1) + 'px',
                position: 'fixed',
              });
            }
          }
        } else {
          if (hasTailBox) {
            $gnb.css({
              transition: 'none',
              top: $('#header').offset().top - scroll - tailHeight + 'px',
            });
          } else {
            if (scroll > 60) {
              $gnb.css({
                transition: '',
                top: $('#header').offset().top - scroll + 'px',
              });
            }
          }
        }
        if (_this.gnbType == 'main' && scroll > 100) {
          gnbMainTransparentTimer.stop();
        }

        fixedTab(); //20241119 fixed_tab : 공통 서브페이지 fixed탭
      } else {
        $('body').removeClass('sc_down');

        $gnb.find(".gsnb:not('.mobile') li.offering-list .items.renewal").css({
          position: 'fixed',
          top: $gnbNew.outerHeight() + $gsnb.outerHeight() - 1,
        });

        $gsnbMobile.find('.inner .owl-carousel').css({
          top: $gnbNew.outerHeight() + $gsnbMobile.outerHeight(),
          height:
            $(window).outerHeight() -
            $gnbNew.outerHeight() -
            $gsnbMobile.outerHeight() +
            1,
        });

        if (scroll > $('#header').offset().top) {
          if (hasTailBox) {
            $gnb.css({
              transition: 'top 0.2s',
              top: '-' + tailHeight + 'px',
            });
          } else {
            $gnb.css({ top: '0px' });
          }
        } else {
          if (hasTailBox) {
            $gnb.css({
              transition: 'none',
              top: $('#header').offset().top - scroll - tailHeight + 'px',
            });
          } else {
            $gnb.css({
              top: '0px',
            });
          }
        }
        if (_this.gnbType == 'main' && scroll < 101) {
          if (_this.isFocus == false) {
            gnbMainTransparentTimer.start();
          }
        }

        fixedTab(); //20241119 fixed_tab : 공통 서브페이지 fixed탭
      }
      position = scroll;

      window.clearTimeout(scollchkTimeout);
      scollchkTimeout = setTimeout(function () {
        //isAnimating = false;
        if ($(window).scrollTop() > 0) {
          $wrap.removeClass('scroll_chk');
        } else {
          $wrap.addClass('scroll_chk');
        }
      }, 50);
    });

    // window Resize
    $(window).on('resize', function () {
      gnbResizeTimer.start();
    });

    _this.$el.find('.rnb').css('right', getContainerRight() + 'px');
    _this.$el.find('.history').css('right', getContainerRight() + 'px');

    //리뉴얼 gnb 기능
    $('[class *= "link_offering_depth"]').on('mouseover focus', function () {
      $('.cstm_scrl')
        .removeClass('running1 running2 running3')
        .prev()
        .removeClass('scrShadow'); //20231103 gnb : scrShadow 추가

      const $itemOfferingDepth = $(this).parent('li');
      const $innerOfferingDepth = $(this).closest(
        '[class *= "inner_offering_depth"]',
      );
      const $cstmScrl = $(this).closest('[class *= "cstm_scrl"]');

      //20231103 gnb : 스크롤 있는지 없는지 여부 확인
      function scroll_existence() {
        $.fn.hasVerticalScrollBar = function () {
          return this.get(0)
            ? this.get(0).scrollHeight > this.innerHeight()
            : false;
        };
        if ($('.cstm_scrl.running3').hasVerticalScrollBar()) {
          $cstmScrl.prev().addClass('scrShadow');
        } else {
          $cstmScrl.prev().removeClass('scrShadow');
        }
      }

      if ($itemOfferingDepth.hasClass('item_offering_depth1'))
        $cstmScrl.addClass('running1');
      if ($innerOfferingDepth.hasClass('inner_offering_depth2'))
        ($cstmScrl.addClass('running2'), scroll_existence()); //20231103 gnb : 스크롤 생성시 라인
      if ($innerOfferingDepth.hasClass('inner_offering_depth3'))
        ($cstmScrl.addClass('running3'), scroll_existence()); //20231103 gnb : 스크롤 생성시 라인
    });

    // 리뉴얼 클라우드 gnb : 마우스와 키보드 이벤트를 분리
    $('[class *= "group_offering_depth"] a').on('keydown', function (e) {
      const depth = $(this)
        .closest('[class *= "group_offering_depth"]')
        .data('offeringDepth');

      let k_right_cont = $('[class *= "group_offering_depth"]').filter(
        `[data-offering-depth = ${depth + 1}]`,
      );
      let k_right_3depthCont = $('[class *= "group_offering_depth"]')
        .filter(`[data-offering-depth = ${depth + 1}]`)
        .find('>div.active')
        .find('.inner_offering_depth3.active');
      let k_right_2depth_buttonCont = k_right_cont.find('.dep2_floating_menu');

      let k_left_cont = $('[class *= "group_offering_depth"]')
        .filter(`[data-offering-depth = ${depth - 1}]`)
        .find('[class *= "item_offering_depth"].current');

      if (e.keyCode == 39) {
        k_right_cont
          .find('.inner_offering_depth2.cloudMenuSeleck')
          .hasClass('active')
          ? k_right_2depth_buttonCont.find('a').eq(0).focus()
          : k_right_cont
              .find('.inner_offering_depth2.active')
              .find('a')
              .eq(0)
              .focus(); //2depth에서 cloudMenuSeleck클래스가 있으면 버튼 포커스 이동의 분기

        k_right_3depthCont.find('a').eq(0).focus(); //3depth로 포커스
      } else if (e.keyCode == 37) {
        k_left_cont.find('a').focus();
      }
    });

    const renewalOffering = '.renewal_offering';
    const selectorDepth = {
      active: 'active',
      current: 'current',
      first: {
        group: '.group_offering_depth1',
        outer: null,
        inner: null,
        list: null,
        item: '.item_offering_depth1',
        link: '.link_offering_depth1',
      },
      second: {
        group: '.group_offering_depth2',
        outer: null,
        inner: '.inner_offering_depth2',
        list: '.list_offering_depth2',
        item: '.item_offering_depth2',
        link: '.link_offering_depth2',
      },
      third: {
        group: '.group_offering_depth3',
        outer: '.outer_offering_depth3',
        inner: '.inner_offering_depth3',
        list: null,
        item: '.item_offering_depth2',
        link: '.link_offering_depth2',
      },
    };

    let depthIndexes = [0, 0];

    // 첫 번째 영역에 마우스, 키보드 이벤트 발생 시 활성화될 메뉴명을 선택
    $(selectorDepth.first.group)
      .find(selectorDepth.first.link)
      .on('mouseenter focus', function (event) {
        event.stopPropagation();
        depthIndexes[0] = $(this).closest(selectorDepth.first.item).index();

        // 첫 번째 메뉴명 활성화
        $(this)
          .closest(selectorDepth.first.item)
          .siblings()
          .removeClass(selectorDepth.current);
        $(this)
          .closest(selectorDepth.first.item)
          .addClass(selectorDepth.current);

        // 두 번째 영역의 내부 영역 전체 비활성화 및 두 번째 영역의 내부 아이템 전체 비활성화, 두 번째 영역의 내부 영역의 첫 번째 영역 활성화 및 첫 번째 내부 아이템 활성화
        $(this)
          .closest(renewalOffering)
          .find(selectorDepth.second.group)
          .find(selectorDepth.second.inner)
          .removeClass(selectorDepth.active);
        $(this)
          .closest(renewalOffering)
          .find(selectorDepth.second.group)
          .find(selectorDepth.second.inner)
          .find(selectorDepth.second.item)
          .removeClass(`${selectorDepth.current}`);
        $(this)
          .closest(renewalOffering)
          .find(selectorDepth.second.group)
          .find(selectorDepth.second.inner)
          .eq(depthIndexes[0])
          .addClass(selectorDepth.active);

        // 세 번째 영역 전체 비활성화 및 세 번째 영역의 내부 영역, 내부 아이템 전체 비활성화, 세 번째 영역에서 활성화된 영역 내부 영역과 첫 번째 아이템 활성화
        $(this)
          .closest(renewalOffering)
          .find(selectorDepth.third.group)
          .find(selectorDepth.third.outer)
          .removeClass(selectorDepth.active);

        /**
         * 20241011
         * 선택된 1뎁스 메뉴중 3뎁스 메뉴가 없으면 3뎁스 영영 display:none
         * ul class="list_offering_depth2" 로 있는지 여부 체크
         * */
        if ($(this).closest('.cloudMenuOpen').length) {
          $('.dep2_floating_menu').show();

          $(this)
            .closest(renewalOffering)
            .find(selectorDepth.second.group)
            .find(selectorDepth.second.inner)
            .removeClass(selectorDepth.active); //cloudMenuOpen 클래스가 있을때는 순차적 배열 active 삭제
          $(this)
            .closest(renewalOffering)
            .find(selectorDepth.second.group)
            .find(selectorDepth.second.inner)
            .eq(0)
            .addClass('active');
          // 3뎁스 자체가 없어지기에 마크업에서 삭제 처리
          $(this)
            .closest(renewalOffering)
            .find(selectorDepth.third.group)
            .show();
          $(this)
            .closest(renewalOffering)
            .find(selectorDepth.second.link)
            .eq(0)
            .trigger('mouseenter');
        } else {
          $('.dep2_floating_menu').hide();

          $(this)
            .closest(renewalOffering)
            .find(selectorDepth.second.group)
            .find(selectorDepth.second.inner)
            .eq(0)
            .removeClass('active');
          // 3뎁스 자체가 없어지기에 마크업에서 삭제 처리
          $(this)
            .closest(renewalOffering)
            .find(selectorDepth.third.group)
            .hide();
        }
      });

    // 두 번째 영역에 마우스, 키보드 이벤트 발생 시 활성화될 메뉴명을 선택
    $(selectorDepth.second.group)
      .find(selectorDepth.second.link)
      .on('mouseenter focus', function (event) {
        event.stopPropagation();
        depthIndexes[1] = $(this).closest(selectorDepth.second.item).index();
        // 두 번째 메뉴명 활성화
        $(this)
          .closest(selectorDepth.second.item)
          .siblings()
          .removeClass(selectorDepth.current);
        $(this)
          .closest(selectorDepth.second.item)
          .addClass(selectorDepth.current);

        // 세 번째 영역 전체 비활성화 및 세 번째 영역의 첫 번째 영역 활성화
        $(this)
          .closest(renewalOffering)
          .find(selectorDepth.third.group)
          .find(selectorDepth.third.outer)
          .removeClass(selectorDepth.active);
        $(this)
          .closest(renewalOffering)
          .find(selectorDepth.third.group)
          .find(selectorDepth.third.outer)
          .eq(depthIndexes[0])
          .addClass(selectorDepth.active);

        // 활성화된 세 번째 영역의 내부 영역 전체 비활성화 및 선택된 세 번째 내부 영역 활성화, 선택된 세 번째 내부 영역의 첫 번째 아이템 활성화
        $(this)
          .closest(renewalOffering)
          .find(selectorDepth.third.group)
          .find(selectorDepth.third.outer)
          .filter(`.${selectorDepth.active}`)
          .find(selectorDepth.third.inner)
          .removeClass(selectorDepth.active);
        $(this)
          .closest(renewalOffering)
          .find(selectorDepth.third.group)
          .find(selectorDepth.third.outer)
          .filter(`.${selectorDepth.active}`)
          .find(selectorDepth.third.inner)
          .eq(depthIndexes[1])
          .addClass(selectorDepth.active);

        $(this)
          .closest(renewalOffering)
          .find(selectorDepth.third.group)
          .find(selectorDepth.third.outer)
          .filter(`.${selectorDepth.active}`)
          .find(selectorDepth.third.inner)
          .filter(`.${selectorDepth.active}`)
          .find(selectorDepth.second.item)
          .eq(0)
          .addClass(selectorDepth.active);

        if (
          $(this)
            .closest(selectorDepth.second.inner)
            .hasClass('cloudMenuSeleck')
        ) {
          $(this)
            .closest(renewalOffering)
            .find(selectorDepth.third.group)
            .find(selectorDepth.third.outer)
            .eq(0)
            .addClass(selectorDepth.active)
            .filter(`.${selectorDepth.active}`)
            .find(selectorDepth.third.inner)
            .removeClass(selectorDepth.active);
          $(this)
            .closest(renewalOffering)
            .find(selectorDepth.third.group)
            .find(selectorDepth.third.outer)
            .eq(0)
            .addClass(selectorDepth.active)
            .filter(`.${selectorDepth.active}`)
            .find(selectorDepth.third.inner)
            .eq(depthIndexes[1])
            .addClass(selectorDepth.active);
        }
      });

    // 세 번째 영역에 마우스, 키보드 이벤트 발생 시 활성화될 메뉴명을 선택
    $(selectorDepth.third.outer)
      .find(selectorDepth.third.link)
      .on('mouseenter focus', function (event) {
        event.stopPropagation();
        // 세 번째 메뉴명을 전체 비활성화하고 선택된 메뉴명을 활성화
        $(this)
          .closest(selectorDepth.third.item)
          .siblings()
          .removeClass(selectorDepth.current);
        $(this)
          .closest(selectorDepth.third.item)
          .addClass(selectorDepth.current);
      })
      .on('mouseleave blur', function () {
        // 세 번째 메뉴명 비활성화
        $(this)
          .closest(selectorDepth.second.list)
          .find(selectorDepth.second.item)
          .removeClass(selectorDepth.current);
      });

    // 두 번째 영역 대 제목에 마우스 이벤트 발생 시 두 번째 영역의 내부 영역, 세 번째 영역 전체 비활성화
    $(selectorDepth.second.inner)
      .find('.tit_offering_depth')
      .on('mouseenter focus', function (event) {
        event.stopPropagation();
        $(this)
          .closest(renewalOffering)
          .find(selectorDepth.second.item)
          .removeClass('current');
        $(this)
          .closest(renewalOffering)
          .find(selectorDepth.third.outer)
          .add(selectorDepth.third.inner)
          .removeClass('active');
      });
  };

  _proto.resizeHandler = function () {
    _this.setGnbHeight();
    _this.rnbMenuClose();
    _this.$el.find('.rnb').css('right', getContainerRight() + 'px');
    _this.$el.find('.history').css('right', getContainerRight() + 'px');
    _this.setDefaultSearchBox();
    _this.setHeightRightContainer();
    _this.gnbChildpanelStyle('windowResize');
    _this.gnbItemScrollStyle(
      'windowResize',
      $('.gnb .hd-cnt .menu > li').find('> .title a'),
    );

    if (_this.isMobile) {
      // 모바일로 리사이징될 때 .offering-list에서 .on을 삭제합니다.
      const $wrap = $('.M00_A');
      const $gsnb = $wrap.find(".gsnb:not('.mobile')");
      const $gsnbOfferingMenu = $gsnb.find('li.offering-list');

      $gsnbOfferingMenu.removeClass('on');
      _this.setSizeSubmenuMobile();
    } else {
      _this.setSticky();
      _this.closeMobileGsnb();
    }

    // detect mobile device
    if (_this.isMobileDevice) {
      $('body').addClass('hid_sm');
    } else {
      $('body').removeClass('hid_sm');
    }
    resizeGsnbDropdownMenu();
  };

  /* 210514 | 접근성 | rnb 구조변경 */
  _proto.setRnb = function (id, callback) {
    $('.rnb .depth-main li:not(.no-child) .title.dep1 a').attr(
      'aria-expanded',
      'false',
    );
    $('.rnb .depth-main li')
      .removeClass('on')
      .find('.' + id)
      .attr('aria-expanded', 'true')
      .closest('li')
      .addClass('on');

    var $current = $('.rnb .depth-main li .depth-sub > *.on'); // *.on
    var $target = $('.rnb .depth-main li.on .depth-sub > *.' + id); // > *. +id

    // animate ver
    $current
      .stop()
      .css({ display: 'block', position: 'absolute' })
      .transition(
        {
          x: $('.depth-sub').outerWidth() + 20 + 'px',
        },
        400,
        'easeInOutQuint',
        function () {
          $(this).css('display', 'none').removeClass('on');
          // current 메뉴 초기화
          $current.find('ul.items li').each(function () {
            $(this)
              .find('> .title > a')
              .removeClass('on')
              .attr('aria-expanded', 'false');
            $(this).find('> ul.items').hide();
          });
          $current.closest('.depth-sub').css('display', 'none');
        },
      );

    $target.closest('.depth-sub').css('display', 'block');
    $target
      .stop()
      .delay(400)
      .css({ display: 'block', position: 'absolute' })
      .transition(
        {
          x: 0 + 'px',
        },
        400,
        'easeOutQuint',
        function () {
          $(this)
            .css('position', 'relative')
            .addClass('on')
            .attr('aria-expanded', 'true');
          if (callback) callback();
        },
      );

    /* no animate ver
            $(".rnb .depth-sub > *").each(function(i, el){
                if($(this).hasClass(id)){
                    $(this).css("display", "block");
                }else{
                    $(this).css("display", "none");
                }
            });*/
  };
  /* //210514 | 접근성 | rnb 구조변경 */

  _proto.setHeightRightContainer = function () {
    var etcContainerOffset = $('#header').offset();
    var $historyContainer = $('.gnb .util .history');
    var $rnbContainer = $('.gnb .util .rnb');
    var height;
    if (_this.isMobile) {
      if (_this.isIos()) {
        height = $(window).innerHeight();

        $historyContainer.css({
          height: height + 'px',
        });

        $rnbContainer.css({
          height: height + 'px',
        });
      } else {
        $historyContainer.css({
          height: '',
        });

        $rnbContainer.css({
          height: '',
        });
      }
    } else {
      var offTop = null;
      if (_this.gnbType == 'main' || _this.gnbType == 'static') {
        offTop = etcContainerOffset.top + _this.$el.height() - 1;
      } else {
        offTop =
          etcContainerOffset.top +
          _this.$el.height() -
          1 -
          $('.gsnb:not(.mobile)').height();
      }

      if ($('body').hasClass('tail_chk')) {
        offTop =
          $('.M00_A .gnb').offset().top -
          $(window).scrollTop() +
          _this.$el.height();
      }
      $historyContainer.css({
        height: 'calc(100vh - ' + offTop + 'px)',
      });

      $rnbContainer.css({
        height: 'calc(100vh - ' + offTop + 'px)',
      });
    }
  };

  _proto.menuClose = function () {
    $('.gnb .hd-cnt .menu > li')
      .removeClass('on')
      .find('> .title > a')
      .attr('aria-selected', 'false');
  };

  _proto.subMenuClose = function () {
    if (_this.inFocus) return;
    //220331 | 접근성 | GSNB title 제거
    $('.gsnb li.offering-list').removeClass('on');
    //.find("> .title > a").attr("title", langSet[_this.lang].menuState.activeStr);
  };

  _proto.searchBoxClose = function () {
    if (_this.isMobile) {
      $('.search_box')
        .stop()
        .css({
          left: $('.search_box').width() + 'px',
        })
        .hide();
    } else {
      $('.search_box')
        .stop()
        .css({
          left: '0px',
        })
        .hide();
    }
    $('body').removeClass('hid_s');
    $('.hd-etc .btn-search').removeClass('on');
    $('.search_dim').remove();
    $('.search_box form .input').val('');
  };

  /* 210514 | 접근성 | rnb 구조변경 */
  _proto.rnbMenuClose = function () {
    var ariahidden = $(
      'footer, #container, #skip_navi, header .gnb > div:not(.hd-etc), header .gnb .hd-etc .util > li:not(li:last-child), header .gsnb, .btn_hamburger',
    ); /* 210527 | 접근성 | rnb aria범위수정 */
    $('.btn_hamburger').removeClass('active').removeAttr('disabled');
    $('.rnb').css('display', 'none');
    $('.rnb > .container')
      .eq(0)
      .stop()
      .css({ right: '-' + $('.rnb > .container').eq(0).width() + 'px' });
    $('body').removeClass('hid_s');
    ariahidden.removeAttr('tabindex');
    ariahidden.removeAttr('aria-hidden');
    _this.setDefaultRnb();
    //220331 | 접근성 | RNB attr 수정
    if (!_this.isMobile) {
      $('.rnb .depth-sub .items.depth2 > li > .title a')
        .removeAttr('title aria-expanded')
        .removeClass('on');
    }
  };
  /* //210514 | 접근성 | rnb 구조변경 */

  _proto.historyMenuClose = function () {
    $('.btn-history').removeClass('on');
    $('.history')
      .removeClass('on')
      .find('.container')
      .stop()
      .css({
        right: -1 * $('.history').width(),
        opacity: 1,
      });
    $('.history').css('display', 'none');
    $('body').removeClass('hid_s');
  };

  /* 210514 | 접근성 | rnb 구조변경 */
  // rnb 초기화
  _proto.setDefaultRnb = function (id) {
    $('.rnb .depth-main li')
      .removeClass('on')
      .eq(0)
      .addClass('on')
      .attr('aria-expanded', 'true');
    $('.rnb .depth-main li').eq(0).find('.depth-sub').css('display', 'block');

    var $current = $('.rnb .depth-main li .depth-sub > *.on'); // *.on
    var $target = $('.rnb .depth-main li.on .depth-sub > *').eq(0); // > *. +id

    // animate ver
    $current
      .stop()
      .css({ display: 'block', position: 'absolute' })
      .transition(
        {
          x: $('.depth-sub').outerWidth() + 20 + 'px',
        },
        0,
        'easeInOutQuint',
        function () {
          $(this).css('display', 'none').removeClass('on');
          // current 메뉴 초기화
          $current.find('ul.items li').each(function () {
            $(this)
              .find('> .title > a')
              .removeClass('on')
              .attr('aria-expanded', 'false');
            $(this).find('> ul.items').hide();
          });
          $current.closest('.depth-sub').css('display', 'none');
        },
      );
    //$('.box').transition({ x: '40px' });

    $target.closest('.depth-sub').css('display', 'block');
    $target
      .stop()
      .css({ display: 'block', position: 'absolute' })
      .transition(
        {
          x: 0 + 'px',
        },
        0,
        'easeOutQuint',
        function () {
          $(this)
            .css('position', 'relative')
            .addClass('on')
            .attr('aria-expanded', 'true');
        },
      );
  };
  /* //210514 | 접근성 | rnb 구조변경 */

  _proto.closeMobileGsnb = function () {
    $('.gsnb.mobile .inner .owl-carousel').stop().hide();
    _this.subContainers
      .eq(0)
      .find('.scroll-wrapper .menulist .title a')
      .removeClass('on');
    _this.subContainers
      .eq(0)
      .find(
        '.scroll-wrapper .menulist ul.items, .scroll-wrapper .menulist .items.renewal',
      )
      .hide();

    if (!!_this.carouselItemStatus && _this.carouselItemStatus.item.count > 1) {
      _this.$subMenuCarousel
        .trigger('to.owl.carousel', 0)
        .trigger('remove.owl.carousel', 1)
        .trigger('refresh.owl.carousel');
    }

    $('body').removeClass('hid_s');
    $('.gsnb.mobile .inner > .title > a')
      .attr('title', langSet[_this.lang].menuState.activeStr.toString())
      .removeClass('on');
  };

  _proto.gnbItemScrollStyle = function (eventType, $menuBtn) {
    var $menuWrap = $menuBtn.closest('li');
    var $childpanel = $menuWrap.find('> .childpanel');
    var maxHeight = $(window).height();
    var distance = $('.M00_A .gnb').height();
    var country = $('html').data('country');
    if ($('body').hasClass('tail_chk') && $(window).scrollTop() === 0) {
      distance += $('.tail_wrap').height();
    }

    // sds 사업부 전달 높이값
    var sdsMaxHeight = {
      offering: 765,
    };

    switch (eventType) {
      case 'windowResize':
        $childpanel = $childpanel.filter('.offering, .smart'); // 오퍼링 메뉴에만 적용(기타 메뉴도 적용시, 해당 라인 삭제)
        maxHeight = $(window).height();

        if (window.innerWidth <= 1023) return;
        /*
                if(distance + $childpanel.innerHeight() <= maxHeight){
                    $childpanel.data({
                        "hasScroll": false
                    }).css({
                        "height": "inherit",
                        "max-height": $childpanel.innerHeight() + 1,
                        "overflow-y": "none"
                    })
                    break;
                }
                */
        $childpanel
          .data({
            hasScroll: true,
          })
          .css({
            height: 'inherit',
            'max-height': maxHeight - distance,
            'overflow-y': 'auto',
          });
        break;
      case 'mouseleave':
      case 'mouseout':
      case 'focusout':
        if (!$childpanel.hasClass('offering') && !$childpanel.hasClass('smart'))
          break; // 오퍼링 메뉴에만 적용(기타 메뉴도 적용시, 해당 라인 삭제)

        if (!$childpanel.length) break; // $childpanel 없는 경우

        $childpanel
          .data({
            hasScroll: false,
          })
          .css({
            height: 'inherit',
            'max-height': 'inherit',
            'overflow-y': 'auto',
          });

        if (!$menuBtn.is(':hover') && !$menuBtn.is(':focus')) break; // $menuBtn 포커스 or 마우스오버가 아닌경우: 이벤트 버블링, 캡쳐 관련

        $childpanel
          .data({
            hasScroll: false,
          })
          .css({
            height: 'inherit',
            'max-height': 'inherit',
            'overflow-y': 'none',
          });
        break;
      case 'mouseenter':
      case 'mouseover':
      case 'focus':
        if (!$childpanel.hasClass('offering') && !$childpanel.hasClass('smart'))
          break; // 오퍼링 메뉴에만 적용(기타 메뉴도 적용시, 해당 라인 삭제)

        if (!$childpanel.length) break; // $childpanel 없는 경우
        if (!$menuBtn.is(':hover') && !$menuBtn.is(':focus')) break; // $menuBtn 포커스 or 마우스오버가 아닌경우: 이벤트 버블링, 캡쳐 관련

        if ($childpanel.data('hasScroll')) break; // 이미 스크롤이 있는경우 mouseover했을때마다로 변경하면서 주석

        var distance = $('.M00_A .gnb').height();
        if ($('body').hasClass('tail_chk') && $(window).scrollTop() === 0) {
          distance += $('.tail_wrap').height();
        }

        maxHeight = $(window).height(); //< sdsMaxHeight.offering ? $(window).height() : sdsMaxHeight.offering

        if (distance + $childpanel.innerHeight() <= maxHeight) {
          $childpanel
            .data({
              hasScroll: false,
            })
            .css({
              height: 'inherit',
              'max-height': $childpanel.innerHeight() + 1,
              'overflow-y': 'none',
            });
          break;
        }

        $childpanel
          .data({
            hasScroll: true,
          })
          .css({
            height: maxHeight - distance,
            'max-height': maxHeight - distance,
            'overflow-y': 'auto',
          });
        break;
      default:
        // console.log("plase check event tpye", eventType)
        break;
    }
  };

  _proto.setDefaultSearchBox = function () {
    if (_this.isMobile) {
      /*
            $('.search_box').stop().css({
                'left' : $('.search_box').width() + 'px'
            });
            */
    } else {
      $('.search_box').stop().css({
        left: '0px',
      });
    }
  };

  _proto.setTextByCountry = function () {
    var currentLangSet = langSet[_this.lang];
    // history
    _this.$el
      .find('.btn-history .blind')
      .text(currentLangSet.history.activeStr);
    _this.$el
      .find('.hd-etc .history .header .btn-close .blind')
      .text(currentLangSet.history.close);
    _this.$el
      .find('.hd-etc .history .header > p')
      .text(currentLangSet.history.title);
    _this.$el
      .find('.hd-etc .history .header > span')
      .text(currentLangSet.history.desc);
    _this.$el
      .find('.hd-etc .history .header .btn-clear')
      .text(currentLangSet.history.clearall);

    // search
    _this.$el.find('.btn-search .blind').text(currentLangSet.search.activeStr);
    _this.$el
      .find('.hd-etc .search_box .btn-close .blind')
      .text(currentLangSet.search.close);
    _this.$el
      .find('.hd-etc .search_box form > legend')
      .text(currentLangSet.search.search);
    _this.$el
      .find('.hd-etc .search_box form label.blind')
      .text(currentLangSet.search.search);
    _this.$el
      .find('.hd-etc .search_box form .in .input')
      .attr('placeholder', currentLangSet.search.placeholder)
      .attr('title', currentLangSet.search.placeholder);
    _this.$el
      .find('.hd-etc .search_box form .in .delete .blind')
      .text(currentLangSet.search.clear);
    _this.$el
      .find('.hd-etc .search_box form .in .sch .blind')
      .text(currentLangSet.search.search);
  };

  _proto.scrollLock = function () {
    $('body').addClass('hid_s');
  };

  _proto.scrollUnlock = function () {
    $('body').removeClass('hid_s');
  };

  _proto.getUrlParams = function () {
    var params = {};
    window.location.search.replace(
      /[?&]+([^=&]+)=([^&]*)/gi,
      function (str, key, value) {
        params[key] = value;
      },
    );
    return params;
  };

  function getContainerRight() {
    var right = Math.floor(
      ($(window).width() - _this.$el.find('> .inner').width()) / 2,
    );
    return right;
  }

  function getCurrentWidth() {
    return window.innerWidth >= $(document).width()
      ? window.innerWidth
      : $(document).width();
  }

  function resizeGsnbDropdownMenu(payload) {
    const $window = $(window);
    const $wrap = $('.M00_A');
    const $gnb = $wrap.find('.gnb');
    const $gsnb = $wrap.find(".gsnb:not('.mobile')");
    const $gsnbDropdownMenuWrapper = $gsnb.find(
      'li.offering-list .items.renewal',
    );
    const $gsnbMobile = $wrap.find('.gsnb');
    const $gsnbMobileDropdownMenuWrapper = $gsnbMobile.find(
      '.inner .owl-carousel',
    );
    const positionValue =
      typeof payload !== 'undefined' && !!payload.position
        ? payload.position
        : 'fixed';
    const topValue =
      typeof payload !== 'undefined' ? payload.top : $gsnb.outerHeight();

    // Desktop
    if (
      $gsnbDropdownMenuWrapper.outerHeight() >=
      $window.outerHeight() - ($gnb.outerHeight() + $gsnb.outerHeight())
    ) {
      $gsnb.find('li.offering-list .items.renewal').css({
        position: positionValue, // 'fixed'
        top: $gnb.outerHeight() + topValue - 1, // topValue: $gsnb.outerHeight()
        bottom: 0,
      });
    } else {
      $gsnb
        .find('li.offering-list .items.renewal')
        .removeAttr('style')
        .css({
          top: topValue - 1, // topValue: _$gsnb.outerHeight()
        });
    }

    // Mobile
    $gsnbMobileDropdownMenuWrapper.css({
      height: 'calc(100vh - ' + parseInt($wrap.css('top')) + 'px)',
    });
  }

  /** 20241119 fixed_tab : 공통 서브페이지 fixed탭 */
  function fixedTab() {
    let M00_A_head = _this.$el,
      M00_A_innerGnb = M00_A_head.find('.gnb'),
      M00_A_innerGSNB = M00_A_head.find('.gsnb'),
      fixedTabArea = $('.fixed_tab'),
      fixedTabPosition_cont = fixedTabArea.find('.tab_inner');

    if ($('body.sc_down').length && fixedTabArea.hasClass('fixed')) {
      fixedTabPosition_cont.css(
        'top',
        M00_A_head.height() - M00_A_innerGnb.outerHeight() - 1,
      );
    } else {
      fixedTabPosition_cont.css('top', M00_A_head.height());
    }
  }
  /** //20241119 fixed_tab : 공통 서브페이지 fixed탭 */

  _proto.getHtmlContent = function (url) {
    var content = '';
    $.ajax({
      url: url,
      method: 'get',
      dataType: 'html',
      async: false,
      success: function (data) {
        content = data;
      },
      error: function (error) {
        console.log('error: ', error);
      },
    });
    return content;
  };
  this.init();
}
//fo.addPlugin(M00_A);

/*** M01_A | Hero ***/
function M01_A(el) {
  _proto = M01_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.startIndex = 0;
  this.currentIndex = this.startIndex;
  this.$carousel = this.$el.find('.md_visual');
  this.$carouselItem = this.$el.find('.md_visual .li');
  this.$controlWrap = this.$el.find('.md_visual_control');
  this.$pagn = this.$el.find('.md_pagn');
  this.$timer = this.$el.find('.md_timer p');
  this.$control = {
    wrap: this.$el.find('.md_play'),
    playBtn: this.$el.find('.md_btn_play'),
    stopBtn: this.$el.find('.md_btn_stop'),
  };
  this.$txtArea = this.$carousel.find('.txt');
  this.$visualArea = this.$carousel.find('.img .img_p, .img .img_m');
  this.$tailBnr = $('.tail_bnr');

  var _this = this;
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: M01_A")
    // Device type check
    deviceType = checkDeviceType();
    // Set visual img
    this.setVisualImg();
    // Set visual txt break
    this.setTxtBreak();

    // FIREFOX
    this.$visualArea.find('video').attr('tabindex', -1);

    if (this.$carouselItem.length < 2) {
      this.$pagn.remove();
      this.$timer.parent().remove();
      this.$control.wrap.remove();
      this.$carouselItem.eq(0).addClass('act');
      return;
    }

    // Set carousel
    setCarousel(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarouselAria(_this);
        checkBanner(_this);
      }
      updateCarouselStyle(_this);
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visualArea.parent().css({
      height: '100%',
    });
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  // Set visual txt break
  _proto.setTxtBreak = function () {
    var $title = this.$txtArea.find('.md_tit');
    $title.lettering('linesHtml');
    $title.find('span').wrapInner('<i></i>');
  };

  _proto.addEvent = function () {
    _this.$carouselItem.on({
      focusin: function (e) {
        switch (deviceType) {
          case 'PC':
            break;
          case 'TABLET':
          case 'MOBILE':
            var isPagnToSlide = $(e.relatedTarget).is(_this.$pagn);
            if (!isPagnToSlide) {
              var currentIndex = _this.$carouselItem.index(e.delegateTarget);
            } else {
              var currentIndex = 0;
              _this.$carouselItem.eq(0).find('a, button').first().focus();
            }
            _this.$carousel.trigger('slideTo', [currentIndex, 0, true]);
            break;
          // default:
          //     break;
        }
      },
      focusout: function (e) {
        switch (deviceType) {
          case 'PC':
            break;
          case 'TABLET':
          case 'MOBILE':
            var isSameSequence = $(e.delegateTarget).find(
              e.relatedTarget,
            ).length;
            var isLastSequence = $(e.delegateTarget).is(
              _this.$carouselItem.last(),
            );
            if (!isSameSequence && isLastSequence) {
              _this.$pagn.focus();
            }
            break;
          // default:
          //     break;
        }
      },
    });

    _this.$control.stopBtn.on('click', function (e) {
      e.preventDefault();
      sequenceControl(_this, 'STOP', true);
      return false;
    });

    _this.$control.playBtn.on('click', function (e) {
      e.preventDefault();
      sequenceControl(_this, 'PLAY', true);
      return false;
    });

    _this.$carousel.on('focusin', function () {
      sequenceControl(_this, 'STOP', false);
    });

    _this.$pagn.on('focusin', function (e) {
      if (!$(e.target).is(':hover')) {
        sequenceControl(_this, 'STOP', false);
      }
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  // Set carousel
  function setCarousel(_plugin) {
    _plugin.$carousel.carouFredSel({
      responsive: true,
      height: $(window).height(), // has tail => MP_page.css => .tail_chk .M01_A_cont, ... {height:calc(100vh - 70px) !important;}
      auto: {
        play: false,
        progress: _plugin.$timer,
        timeoutDuration: 15000,
      },
      prev: false,
      next: false,
      pagination: {
        container: _plugin.$pagn,
        anchorBuilder: function (nr) {
          return '<a href="#">' + (nr < 10 ? '0' + nr : nr) + '</a>';
        },
      },
      items: {
        start: _plugin.currentIndex,
        visible: 1,
        height: $(window).height(), // has tail => MP_page.css => .tail_chk .M01_A_cont, ... {height:calc(100vh - 70px) !important;}
      },
      swipe: {
        onMouse: true,
        onTouch: true,
      },
      scroll: {
        fx: 'fade',
        duration: 0,
        items: 1,
        onAfter: function (data) {
          _plugin.currentIndex = _plugin.$carouselItem.index(
            data.items.visible,
          );
          _plugin.$carouselItem
            .eq(_plugin.currentIndex)
            .find('video').currentTime = 0;
          _plugin.$carouselItem
            .removeClass('act')
            .eq(_plugin.currentIndex)
            .addClass('act');

          // Update
          updateControl(_plugin);
          updateCarouselAria(_plugin);
          updateDuration(_plugin);

          if (_plugin.$control.wrap.hasClass('on')) {
            sequenceControl(_plugin, 'STOP', true);
            _plugin.$timer.css('width', '0');
          }
        },
      },
      onCreate: function () {
        _plugin.$control.playBtn
          .find('.blind')
          .text(langSet[lang]['slide']['playStr'].toString());
        _plugin.$control.stopBtn
          .find('.blind')
          .text(langSet[lang]['slide']['pauseStr'].toString());
        _plugin.$carouselItem
          .eq(_plugin.currentIndex)
          .find('video').currentTime = 0;
        _plugin.$carouselItem
          .removeClass('act')
          .eq(_plugin.currentIndex)
          .addClass('act');

        // Update
        updateControl(_plugin);
        updateCarouselAria(_plugin);
        updateControl(_plugin);
        checkBanner(_plugin);
        updateDuration(_plugin);
      },
    });
  }

  // Set carousel Style
  function updateCarouselStyle(_plugin) {
    _plugin.$carousel.trigger('configuration', {
      height: $(window).height(), // has tail => MP_page.css => .tail_chk .M01_A_cont, ... {height:calc(100vh - 70px) !important;}
      items: {
        height: $(window).height(), // has tail => MP_page.css => .tail_chk .M01_A_cont, ... {height:calc(100vh - 70px) !important;}
      },
    });
    _plugin.$carousel.trigger('updateSizes');
  }

  function getTitlePos(_plugin) {
    var cotrolTop = parseInt(_plugin.$controlWrap.css('top'));
    var txtTop = parseInt(
      _plugin.$carouselItem.find('.txt').css('padding-top'),
    );

    return {
      cotrolTop: cotrolTop,
      txtTop: txtTop,
    };
  }

  //check banner styleupdate
  function checkBanner(_plugin) {
    if (!_plugin.$tailBnr.length) return;
    switch (deviceType) {
      case 'PC':
        _plugin.$controlWrap.css('top', '');
        _plugin.$carouselItem.find('.txt').css('padding-top', '');
        break;
      case 'TABLET':
      case 'MOBILE':
        _plugin.$controlWrap.css('top', '');
        _plugin.$carouselItem.find('.txt').css('padding-top', '');
        var titlePos = getTitlePos(_plugin);
        _plugin.$controlWrap.css({
          top: titlePos.cotrolTop + _plugin.$tailBnr.innerHeight(),
        });

        _plugin.$carouselItem.find('.txt').css({
          'padding-top': titlePos.txtTop + _plugin.$tailBnr.innerHeight(),
        });
        break;
      // default:
      //     break;
    }
  }

  // Set carousel Aria
  function updateCarouselAria(_plugin) {
    _plugin.$carouselItem
      .attr('aria-hidden', true)
      .find('a, button')
      .attr('tabindex', -1);
    _plugin.$carouselItem
      .eq(_plugin.currentIndex)
      .removeAttr('aria-hidden')
      .find('a, button')
      .removeAttr('tabindex');
    _plugin.$pagn.is('[tabindex]') && _plugin.$pagn.removeAttr('tabindex');
  }

  // Update Control
  function updateControl(_plugin) {
    if (!_plugin.$control.wrap.hasClass('on')) {
      sequenceControl(_plugin, 'PLAY', false);
    } else {
      sequenceControl(_plugin, 'STOP', false);
    }
  }

  // Update Duration
  function updateDuration(_plugin) {
    var defaultInterval = 15000; // 닷컴요청 기본값 15초 ICS 개발 디폴트값도 확인필요함
    var dataInterval = _plugin.$carouselItem
      .eq(_plugin.currentIndex)
      .data('interval');
    var carouselInterval = dataInterval ? dataInterval : defaultInterval;
    _plugin.$carousel.trigger('configuration', {
      auto: {
        play: true,
        timeoutDuration: carouselInterval,
      },
    });
  }

  // Sequence Control: play, stop
  function sequenceControl(_plugin, option, changeFocus) {
    switch (option) {
      case 'PLAY':
        _plugin.$carousel.trigger('isPaused', function () {
          _plugin.$control.wrap.removeClass('on');
          _plugin.$carousel.trigger('play', [true, 0, true]);
          _plugin.$carouselItem.find('video').trigger('play');

          changeFocus && _plugin.$control.stopBtn.focus();
        });
        break;
      case 'STOP':
        _plugin.$carousel.trigger('isScrolling', function () {
          _plugin.$control.wrap.addClass('on');
          _plugin.$carousel.trigger('pause', [true, true]);
          _plugin.$carouselItem.find('video').trigger('pause');

          changeFocus && _plugin.$control.playBtn.focus();
        });
        break;
      // default:
      //     break;
    }
  }
  this.init();
}
fo.addPlugin(M01_A);

/*** M01_B | Hero2 ***/
function M01_B(el) {
  _proto = M01_B.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$txtArea = this.$el.find('.txt');
  this.$visualArea = this.$el.find('.img .img_p, .img .img_m');

  var _this = this;

  _proto.init = function () {
    //console.log("init:: M01_B")
    // Set visual img
    this.setVisualImg();
    // Set visual txt break
    this.setTxtBreak();
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  // Set visual txt break
  _proto.setTxtBreak = function () {
    var $title = this.$txtArea.find('.md_tit');
    $title.lettering('lines');
    $title.filter('.ani').find('span').wrapInner('<i></i>');
    this.$txtArea.addClass('act');
  };
  this.init();
}
fo.addPlugin(M01_B);

/*** M01_C | Hero3 ***/
function M01_C(el) {
  _proto = M01_C.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$txtArea = this.$el.find('.txt');
  this.$visualArea = this.$el.find('.img .img_p, .img .img_m');

  var _this = this;

  _proto.init = function () {
    //console.log("init:: M01_C")
    // Set visual img
    if (this.$visualArea.length !== 0) this.setVisualImg();

    // Set visual txt break
    this.setTxtBreak();
  };

  // Set visual txt break
  _proto.setTxtBreak = function () {
    var $title = this.$txtArea.find('.md_tit');
    $title.lettering('lines');
    $title.find('span').wrapInner('<i></i>');
    this.$txtArea.addClass('act');
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };
  _proto.addEvent = function () {
    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };
  this.init();
}
fo.addPlugin(M01_C);

/*** M01_D | Hero4 ***/
function M01_D(el) {
  _proto = M01_D.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$contWrap = this.$el.find('.M01_D_cont');
  this.$txtArea = this.$el.find('.txt');
  this.$visualArea = this.$el.find('.img .img_p, .img .img_m');

  var _this = this;
  var resizeTimer;

  _proto.init = function () {
    //console.log("init:: M01_D")
    // Set visual img
    this.setVisualImg();
    // Set visual txt break
    this.setTxtBreak();

    resizeTimer = new Timer(function () {
      setTxtHeight(_this);
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  // Set visual txt break
  _proto.setTxtBreak = function () {
    var $title = this.$txtArea.find('.md_tit');
    $title.lettering('lines');
    $title.find('span').wrapInner('<i></i>');
    this.$contWrap.addClass('act');
  };

  _proto.addEvent = function () {
    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Set textarea height
  function setTxtHeight(_plugin) {
    _plugin.$txtArea.css({
      height: $(window).height() - 60,
    });
  }
  this.init();
}
fo.addPlugin(M01_D);

/*** M01_E | Hero ***/
function M01_E(el) {
  _proto = M01_E.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.startIndex = 0;
  this.currentIndex = this.startIndex;
  this.$cloudCont = this.$el.find('.M01_E_cont'); //20230303 클라우드배너 페이지 추가
  this.$carousel = this.$el.find('.md_visual');
  this.$carouselItem = this.$el.find('.md_visual .li');
  this.$timer = this.$el.find('.md_timer p');
  this.$control = {
    wrap: this.$el.find('.video_control_wrap'),
    playBtn: this.$el.find('.btn_play'),
  };
  this.$txtArea = this.$carousel.find('.txt');
  this.$visualArea = this.$carousel.find('.img .img_p, .img .img_m');
  this.$video = this.$carousel.find('video');

  var _this = this;
  var deviceType; // 'PC', 'TABLET', 'MOBILE'
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';
  var initVisualHeight = $(window).height() - $('#header').height();

  _proto.init = function () {
    //console.log('init:: M01_E')
    // Device type check
    deviceType = checkDeviceType();

    // Set visual img
    this.setVisualImg();
    // Set visual txt break
    this.setTxtBreak();

    // only banner
    checkBanner(this);

    // FIREFOX
    this.$visualArea.find('video').attr('tabindex', -1);

    //Brandcolor 있는지 체크
    if ($('.wrap').find('.brandcolor')) {
      /** 20230303 클라우드배너 페이지 추가 */
      if (
        !this.$cloudCont.hasClass('M01_cloud') &&
        !this.$cloudCont.hasClass('realSummit')
      ) {
        this.$carousel.css('height', initVisualHeight - 60);
      }
    } else {
      this.$carousel.css('height', initVisualHeight);
    }

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        // only banner
        checkBanner(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visualArea.parent().css({
      height: '100%',
    });
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  // Set visual txt break
  _proto.setTxtBreak = function () {
    var $title = this.$txtArea.find('.md_tit');
    /** 20230303 클라우드배너 페이지 추가 */
    if (!$title.hasClass('M01_cloud')) {
      $title.lettering('lines');
      $title.find('span').wrapInner('<i></i>');
    }
  };

  _proto.addEvent = function () {
    _this.$control.playBtn.on('click', function (e) {
      e.preventDefault();
      if ($(this).hasClass('pause')) {
        _this.$video.get(0).pause();
        if (_this.$video.length > 1) {
          _this.$video.get(1).pause();
        }
        $(this).removeClass('pause').addClass('play');
        $(this)
          .find('button span')
          .text(langSet[lang]['slide']['playStr'].toString());
      } else {
        _this.$video.get(0).play();
        if (_this.$video.length > 1) {
          _this.$video.get(1).play();
        }
        $(this).removeClass('play').addClass('pause');
        $(this)
          .find('button span')
          .text(langSet[lang]['slide']['pauseStr'].toString());
      }
      return false;
    });

    /** 20230303 클라우드배너 페이지 추가 */
    // Window resize
    if (!this.$cloudCont.hasClass('M01_cloud')) {
      $(window).on('resize', function () {
        var resizeHeight = $(window).height();
        var resizeHeaderHeight = $('#header').height();
        resizeTimer.start();
        _this.$carousel.trigger('updateSizes');
        _this.$carousel.css('height', resizeHeight - resizeHeaderHeight);
      });
    }
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1200) {
      return 'PC_LARGE';
    } else if (window.innerWidth > 1023) {
      return 'PC_SMALL';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  /**  고객요청 -  한번에 배너까지 보이게 / M33_A모듈과 함께 사용  **/
  function checkBanner(_plugin) {
    if (!_plugin.$el.find('.M33_A').length) return;
    var isM33A = _plugin.$el.find('.M33_A');
    switch (deviceType) {
      case 'PC_LARGE':
      case 'PC_SMALL':
        var bnrHeight =
          isM33A.height() +
          parseInt(isM33A.css('padding-top')) +
          parseInt(isM33A.css('padding-bottom'));
        _plugin.$control.wrap.css({
          bottom: bnrHeight + 48 + 'px',
        });
        break;
      case 'TABLET':
        _plugin.$control.wrap.css({
          bottom: '40px',
        });
      case 'MOBILE':
        _plugin.$control.wrap.css({
          bottom: '28px',
        });
        break;
      // default:
      //     break;
    }
  }
  this.init();
}
fo.addPlugin(M01_E);

/*** M01_F | Hero ***/
function M01_F(el) {
  _proto = M01_F.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.startIndex = 0;
  this.currentIndex = this.startIndex;
  this.$carousel = this.$el.find('.md_visual');
  this.$carouselItem = this.$el.find('.md_visual .li');
  this.$controlWrap = this.$el.find('.md_visual_control');
  /* 20220915 좌우 버튼 추가 */
  this.$testControl = this.$el.find('.md_visual_control.md_cont_control');
  this.$heroPagn = this.$testControl.find('.pagn');
  this.$testArrowControl = this.$el.find('.md_arrow');
  this.$pagn = this.$el.find('.md_pagn');
  this.$timer = this.$el.find('.md_timer p');
  this.$control = {
    wrap: this.$el.find('.md_play'),
    playBtn: this.$el.find('.md_btn_play'),
    stopBtn: this.$el.find('.md_btn_stop'),
  };
  this.$txtArea = this.$carousel.find('.txt');
  this.$visualArea = this.$carousel.find('.img .img_p, .img .img_m');
  this.$tailBnr = $('.tail_bnr');

  var _this = this;
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: M01_F")
    // Device type check
    deviceType = checkDeviceType();

    // Set visual img
    this.setVisualImg();

    // Set visual txt break
    this.setTxtBreak();

    // FIREFOX
    this.$visualArea.find('video').attr('tabindex', -1);

    if (this.$carouselItem.length < 2) {
      this.$pagn.remove();
      this.$timer.parent().remove();
      this.$control.wrap.remove();
      this.$carouselItem.eq(0).addClass('act');
      return;
    }

    // Set carousel
    setCarousel(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarouselAria(_this);
        checkBanner(_this);
      }
      updateCarouselStyle(_this);
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visualArea.parent().css({
      height: '100%',
    });
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  // Set visual txt break
  _proto.setTxtBreak = function () {
    var $title = this.$txtArea.find('.md_tit');
    $title.lettering('linesHtml');
    $title.find('span').wrapInner('<i></i>');
  };

  _proto.addEvent = function () {
    _this.$carouselItem.on({
      focusin: function (e) {
        switch (deviceType) {
          case 'PC':
            break;
          case 'TABLET':
          case 'MOBILE':
            var isPagnToSlide = $(e.relatedTarget).is(_this.$pagn);

            if (!isPagnToSlide) {
              var currentIndex = _this.$carouselItem.index(e.delegateTarget);
            } else {
              var currentIndex = 0;
              _this.$carouselItem.eq(0).find('a, button').first().focus();
            }
            _this.$carousel.trigger('slideTo', [currentIndex, 0, true]);
            break;
          // default:
          //     break;
        }
      },
      focusout: function (e) {
        switch (deviceType) {
          case 'PC':
            break;
          case 'TABLET':
          case 'MOBILE':
            var isSameSequence = $(e.delegateTarget).find(
              e.relatedTarget,
            ).length;
            var isLastSequence = $(e.delegateTarget).is(
              _this.$carouselItem.last(),
            );
            if (!isSameSequence && isLastSequence) {
              _this.$pagn.focus();
            }
            break;
          // default:
          //     break;
        }
      },
    });

    _this.$control.stopBtn.on('click', function (e) {
      e.preventDefault();
      sequenceControl(_this, 'STOP', true);
      return false;
    });

    _this.$control.playBtn.on('click', function (e) {
      e.preventDefault();
      sequenceControl(_this, 'PLAY', true);
      return false;
    });

    _this.$carousel.on('focusin', function () {
      sequenceControl(_this, 'STOP', false);
    });

    _this.$pagn.on('focusin', function (e) {
      if (!$(e.target).is(':hover')) {
        sequenceControl(_this, 'STOP', false);
      }
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  // Set carousel
  function setCarousel(_plugin) {
    /* 20220721 네비게이터 수정 */
    var $prevBtn = _plugin.$testArrowControl.find('.md_pagn_prev');
    var $nextBtn = _plugin.$testArrowControl.find('.md_pagn_next');
    $prevBtn.wrapInner(
      '<em class="blind">' +
        langSet[lang]['slide']['prevStr'].toString() +
        '</em>',
    );
    $nextBtn.wrapInner(
      '<em class="blind">' +
        langSet[lang]['slide']['nextStr'].toString() +
        '</em>',
    );
    _plugin.$carousel.carouFredSel({
      responsive: true,
      height: $(window).height(), // has tail => MP_page.css => .tail_chk .M01_F_cont, ... {height:calc(100vh - 70px) !important;}
      auto: {
        play: true,
        progress: _plugin.$timer,
        timeoutDuration: 7000,
      },
      /* 20220721 네비게이터 수정 */
      prev: {
        button: $prevBtn,
        key: 'left',
      },
      next: {
        button: $nextBtn,
        key: 'right',
      },
      // dot 기본 셋팅 : 슬라이드 개수마다 하나씩
      pagination: {
        container: _plugin.$pagn,
        anchorBuilder: function (nr) {
          /* 0+1 ~ 0+10 방지 */
          return '<a href="#">' + (nr < 10 ? '0' + nr : nr) + '</a>';
        },
      },
      items: {
        start: _plugin.currentIndex,
        visible: 1,
        height: $(window).height(), // has tail => MP_page.css => .tail_chk .M01_F_cont, ... {height:calc(100vh - 70px) !important;}
      },
      swipe: {
        onMouse: true,
        onTouch: true,
      },
      scroll: {
        fx: 'fade',
        duration: 0,
        items: 1,
        onAfter: function (data) {
          _plugin.currentIndex = _plugin.$carouselItem.index(
            data.items.visible,
          );
          _plugin.$carouselItem
            .eq(_plugin.currentIndex)
            .find('video').currentTime = 0;
          _plugin.$carouselItem
            .removeClass('act')
            .eq(_plugin.currentIndex)
            .addClass('act');

          // Update
          // updatePagn(_plugin);
          updateControl(_plugin);
          updateCarouselAria(_plugin);
          updateDuration(_plugin);

          if (_plugin.$control.wrap.hasClass('on')) {
            _plugin.$timer.css('width', '0');
            sequenceControl(_plugin, 'STOP', true);
          }
        },
      },
      onCreate: function () {
        _plugin.$control.playBtn
          .find('.blind')
          .text(langSet[lang]['slide']['playStr'].toString());
        _plugin.$control.stopBtn
          .find('.blind')
          .text(langSet[lang]['slide']['pauseStr'].toString());
        _plugin.$testControl
          .find('.md_cont_bar_ed')
          .text(setNum(_plugin.$carouselItem.length));
        _plugin.$carouselItem
          .eq(_plugin.currentIndex)
          .find('video').currentTime = 0;
        _plugin.$carouselItem
          .removeClass('act')
          .eq(_plugin.currentIndex)
          .addClass('act');

        // Update
        // updatePagn(_plugin); //추가
        updateControl(_plugin);
        updateCarouselAria(_plugin);
        updateControl(_plugin);
        checkBanner(_plugin);
        updateDuration(_plugin);
      },
    });
  }

  // Set carousel Style
  function updateCarouselStyle(_plugin) {
    _plugin.$carousel.trigger('configuration', {
      height: $(window).height(), // has tail => MP_page.css => .tail_chk .M01_F_cont, ... {height:calc(100vh - 70px) !important;}
      items: {
        height: $(window).height(), // has tail => MP_page.css => .tail_chk .M01_F_cont, ... {height:calc(100vh - 70px) !important;}
      },
    });
    _plugin.$carousel.trigger('updateSizes');
  }

  function getTitlePos(_plugin) {
    var cotrolTop = parseInt(_plugin.$controlWrap.css('top'));
    var txtTop = parseInt(
      _plugin.$carouselItem.find('.txt').css('padding-top'),
    );
    return {
      cotrolTop: cotrolTop,
      txtTop: txtTop,
    };
  }

  //chech banner style update
  function checkBanner(_plugin) {
    if (!_plugin.$tailBnr.length) return;
    switch (deviceType) {
      case 'PC':
        _plugin.$controlWrap.css('top', '');
        _plugin.$carouselItem.find('.txt').css('padding-top', '');

        break;
      case 'TABLET':
      case 'MOBILE':
        _plugin.$controlWrap.css('top', '');
        _plugin.$carouselItem.find('.txt').css('padding-top', '');
        break;
      // default:
      //     break;
    }
  }

  // Set carousel Aria
  function updateCarouselAria(_plugin) {
    _plugin.$carouselItem
      .attr('aria-hidden', true)
      .find('a, button')
      .attr('tabindex', -1);
    _plugin.$carouselItem
      .eq(_plugin.currentIndex)
      .removeAttr('aria-hidden')
      .find('a, button')
      .removeAttr('tabindex');
    _plugin.$pagn.is('[tabindex]') && _plugin.$pagn.removeAttr('tabindex');
  }

  // Update Control
  function updateControl(_plugin) {
    if (!_plugin.$control.wrap.hasClass('on')) {
      sequenceControl(_plugin, 'PLAY', false);
    } else {
      sequenceControl(_plugin, 'STOP', false);
    }
  }

  // Update Duration
  function updateDuration(_plugin) {
    var defaultInterval = 7000; // 닷컴요청 기본값 15초 ICS 개발 디폴트값도 확인필요함
    var dataInterval = _plugin.$carouselItem
      .eq(_plugin.currentIndex)
      .data('interval');
    var carouselInterval = dataInterval ? dataInterval : defaultInterval;
    _plugin.$carousel.trigger('configuration', {
      auto: {
        play: true,
        timeoutDuration: carouselInterval,
      },
    });
  }

  // Sequence Control: play, stop
  // 영상 플레이 옵션 기능 함수
  function sequenceControl(_plugin, option, changeFocus) {
    switch (option) {
      case 'PLAY':
        _plugin.$carousel.trigger('isPaused', function () {
          _plugin.$control.wrap.removeClass('on'); // 20220721 네비게이터 수정
          _plugin.$carousel.trigger('play', true);
          _plugin.$carouselItem.find('video').trigger('play');
        });
        break;
      case 'STOP':
        _plugin.$carousel.trigger('isScrolling', function () {
          _plugin.$control.wrap.addClass('on'); // 20220721 네비게이터 수정
          _plugin.$carousel.trigger('pause', true);
          _plugin.$carouselItem.find('video').trigger('pause');
        });
        break;
      case 'SCOLL_STOP':
        _plugin.$carousel.trigger('isPaused', function () {
          _plugin.$control.wrap.addClass('on'); // 20220721 네비게이터 수정
          _plugin.$carousel.trigger('pause', true);
        });
        break;
      // default:
      //     break;
    }
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  this.init();
}
fo.addPlugin(M01_F);

/*** M01_G | Hero ***/
function M01_G(el) {
  _proto = M01_G.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.startIndex = 0;
  this.currentIndex = this.startIndex;
  this.$mainSlick = this.$el.find('.md_visual');
  this.$mainSlickItem = this.$el.find('.md_visual .li');
  //슬라이드 stop,play button
  this.$indigatorArea = this.$el.find('.indi_area');
  this.$pausePlayBtnArea = this.$el.find('.pausePlayBtn');
  this.$stopPlayBtn = this.$pausePlayBtnArea.find('button');
  //슬라이드 arrow button
  this.$arrowArea = this.$el.find('.md_arrow');
  this.$ArrowBtn = this.$arrowArea.find('button');
  this.$prevArrowBtn = this.$arrowArea.find('.slick_prev');
  this.$nextArrowBtn = this.$arrowArea.find('slick_next');
  this.$txtArea = this.$mainSlick.find('.txt');
  this.$visualArea = this.$mainSlick.find('.img .img_p, .img .img_m');
  this.$tailBnr = $('.tail_bnr');

  var _this = this;
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  var isPause;

  _proto.init = function () {
    //console.log("init:: M01_G")
    // Device type check
    deviceType = checkDeviceType();

    // Set visual img
    this.setVisualImg();

    // Set visual txt break
    this.setTxtBreak();

    // FIREFOX
    this.$visualArea.find('video').attr('tabindex', -1);

    if (this.$mainSlickItem.length < 2) {
      this.$pagn.remove();
      // this.$timer.parent().remove();
      this.$control.wrap.remove();
      this.$mainSlickItem.eq(0).addClass('slick-active');
      return;
    }

    // Set carousel
    setMainKBSlick(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarouselAria(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visualArea.parent().css({
      height: '100%',
    });
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  // Set visual txt break
  _proto.setTxtBreak = function () {
    var $title = this.$txtArea.find('.md_tit');
    $title.lettering('linesHtml');
    $title.find('span').wrapInner('<i></i>');
  };

  _proto.addEvent = function () {
    _this.$mainSlickItem.on({
      focusin: function (e) {
        switch (deviceType) {
          case 'PC':
            break;
          case 'TABLET':
          case 'MOBILE':
            var isPagnToSlide = $(e.relatedTarget).is(_this.$pagn);
            if (!isPagnToSlide) {
              var currentIndex = _this.$mainSlickItem.index(e.delegateTarget);
            } else {
              var currentIndex = 0;
              _this.$mainSlickItem.eq(0).find('a, button').first().focus();
            }
            _this.$mainSlick.trigger('slideTo', [currentIndex, 0, true]);
            break;
          // default:
          //     break;
        }
      },
      focusout: function (e) {
        switch (deviceType) {
          case 'PC':
            break;
          case 'TABLET':
          case 'MOBILE':
            break;
          // default:
          //     break;
        }
      },
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  // Set setMainKBSlick
  function setMainKBSlick(_plugin) {
    var percentTime;
    var tick;
    var time = 0;
    var progressBarIndex = 0;
    var $autoPlaySpeed = _plugin.$mainSlick.data('interval') + '000';

    _plugin.$mainSlick.on('init', function (e, slick, currentSlide, nextSlide) {
      var currentSlideView = $(slick.$slides.get(0)); //currentSlide
      setTimeout(() => {
        currentSlideView.attr('tabindex', '');
      }, 100);

      // 스탑,플레이 버튼 이벤트
      _plugin.$stopPlayBtn.on('click', function () {
        if (_plugin.$indigatorArea.hasClass('on')) {
          setTimeout(() => {
            _plugin.$pausePlayBtnArea.find('button.stop_btn').focus();
          }, 100);
          isPause = false;
          sequenceControl(_plugin, 'PLAY');
          startProgressbar();
          return false;
        } else {
          setTimeout(() => {
            _plugin.$pausePlayBtnArea.find('button.play_btn').focus();
          }, 100);
          isPause = true;
          // resetProgressbar();
          sequenceControl(_plugin, 'STOP');
          return false;
        }
      });

      // 도트 버튼
      var MainSectionSlideDot = slick.$dots;
      var slideDotList = MainSectionSlideDot.find('li');
      var slideDotBtn = slideDotList.find('button');

      slideDotBtn.on('click', function () {
        // console.log("도트 click");
        if (isPause === false) {
          // console.log("1.도트클릭 플레이중일때 도트 클릭 : isPause?", isPause); //플레이중 = false
        } else {
          // console.log("1.도트클릭 정지했을때 도트 클릭 : isPause?", isPause); //정지 = true
          resetProgressbar();
          // startProgressbar();
        }
      });
    });

    _plugin.$mainSlick.slick({
      dots: true,
      fade: true,
      arrows: true,
      autoplay: false,
      appendDots: $('.progressBarContainer'),
      prevArrow: $('.md_arrow .slick_prev'),
      nextArrow: $('.md_arrow .slick_next'),
      slidesToShow: 1,
      slidesToScroll: 1,
      autoplaySpeed: $autoPlaySpeed,
      customPaging: function (slider, i) {
        return (
          '<button class="tab">' +
          '<span data-slick-index="' +
          i +
          '" class="progressBar"></span>' +
          '</button>'
        );
      },
    });

    _plugin.$mainSlick.on(
      'afterChange',
      function (e, slick, currentSlide, direction) {
        var currentSlideView = $(slick.$slides.get(currentSlide));
        setTimeout(() => {
          currentSlideView.attr('tabindex', '');
        }, 100);
      },
    );

    $('.progressBarContainer .progressBar').each(function (index) {
      var progress = "<i class='inProgress inProgress" + index + "'></i>";
      $(this).html(progress);
    });

    function startProgressbar() {
      resetProgressbar();
      percentTime = 0;
      isPause = false;
      tick = setInterval(slideITV, 10);
      // updateControl(_plugin);
    }

    function slideITV() {
      var defaultInterval = 3; // 닷컴요청 기본값 15초 ICS 개발 디폴트값도 확인필요함
      var dataInterval = _plugin.$mainSlick.data('interval');
      var carouselInterval = dataInterval ? dataInterval : defaultInterval;

      if (
        $(
          '.slider .slick-track div[data-slick-index="' +
            progressBarIndex +
            '"]',
        ).attr('aria-hidden') === 'true'
      ) {
        progressBarIndex = $(
          '.slider .slick-track div[aria-hidden="false"]',
        ).data('slickIndex');
        if (isPause === false) {
          startProgressbar();
          // resetProgressbar();
        } else {
          // startProgressbar();
          resetProgressbar();
        }
      } else {
        if (isPause === false) {
          //만약 정지했을때
          percentTime += 1 / (time + carouselInterval);
          $('.inProgress' + progressBarIndex).css({
            width: percentTime + '%',
          });

          if (percentTime >= 100) {
            if (isPause === false) {
              //만약 정지했을때
              $('.single-item').slick('slickNext');
              progressBarIndex++;
              if (progressBarIndex > 2) {
                progressBarIndex = 0;
              }
              startProgressbar();
            }
          }
        }
      }
    }

    function resetProgressbar() {
      $('.inProgress').css({
        width: 0 + '%',
      });
      clearInterval(tick);
    }
    startProgressbar();
  }
  // setMainKBSlick end

  // Set carousel Aria
  function updateCarouselAria(_plugin) {
    _plugin.$mainSlickItem
      .attr('aria-hidden', true)
      .find('a, button')
      .attr('tabindex', -1);
    _plugin.$mainSlickItem
      .eq(_plugin.currentIndex)
      .removeAttr('aria-hidden')
      .find('a, button')
      .removeAttr('tabindex');
  }

  // Sequence Control: play, stop
  function sequenceControl(_plugin, option, changeFocus) {
    switch (option) {
      case 'PLAY':
        _plugin.$indigatorArea.removeClass('on'); // 20220721 네비게이터 수정
        _this.$mainSlick.slick('slickPlay');
        _plugin.$mainSlickItem.find('video').trigger('play');
        break;
      case 'STOP':
        _plugin.$indigatorArea.addClass('on'); // 20220721 네비게이터 수정
        _this.$mainSlick.slick('slickPause');
        _plugin.$mainSlickItem.find('video').trigger('pause');
        break;
      // default:
      //     break;
    }
  }

  this.init();
}
fo.addPlugin(M01_G);

/** M04_B | Related Offering 2 **/
function M04_B(el) {
  _proto = M04_B.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$carousel = this.$el.find('.owl-carousel');
  this.$carouselItem = this.$el.find('.owl-carousel .item');
  this.$pagn = this.$el.find('.owl-pagn');

  var lang = $('html').attr('lang') || 'en'; /* 210510 | 접근성 | 언어 추가 */
  var _this = this; // M04_B
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;

  _proto.init = function () {
    //console.log("init:: M04_B")
    // Device type check
    deviceType = checkDeviceType();

    if (this.$carouselItem.length < 2) {
      this.$pagn.remove();
      return;
    }

    /* 210510 | 접근성 | 모바일 활성화 Nav */
    if (this.$carouselItem.length >= 2) {
      this.$carousel.after(
        '<div class="owl-navm"><button class="owl-prevm"><em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em></button><button class="owl-nextm"><em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em></button></div>',
      );
    }
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    updateCarousel(this);
    setAriaAttr(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarousel(_this);
        setAriaAttr(_this);
      }

      /* 2023-04 접근성 수정 시작 */
      if (currentDeviceType.toLowerCase() === 'pc') {
        _this.$carousel
          .find('.btn_arrow')
          .add(_this.$carousel.find('.md_link'))
          .removeAttr('aria-hidden tabindex');
        _this.$carousel
          .find('.md_tit')
          .add(_this.$carousel.find('.md_txt'))
          .removeAttr('style');
        _this.$carousel.find('a, button').removeAttr('aria-hidden tabindex');
        _this.$carousel
          .find('.md_tit')
          .add(_this.$carousel.find('.md_txt'))
          .removeAttr('style');
      }
      /* // 2023-04 접근성 수정 끝 */
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$carouselItem.on('focusin', function (e) {
      // [default] in focus not click
      if (!$(e.target).is(':hover')) {
        var currentIndex = _this.$carouselItem.index(e.delegateTarget);
        _this.$carousel.trigger('to.owl.carousel', currentIndex);
        _this.$carousel.children().scrollLeft() != 0 &&
          _this.$carousel.children().scrollLeft(0);
      }
    });

    _this.$el.on('keyup', function (e) {
      e.stopPropagation();
      if (!_this.$carousel.data('owl.carousel')) {
        return;
      }

      if (e.keyCode == 37) {
        _this.$carousel.trigger('prev.owl.carousel');
      } else if (e.keyCode == 39) {
        _this.$carousel.trigger('next.owl.carousel');
      }
    });

    /* 210510 | 접근성 | 모바일 활성화 Nav */
    _this.$el.find('.owl-navm button').on('click', function (e) {
      e.stopPropagation();

      /* 2023-04 접근성 수정 시작 */
      function _fn() {
        setTimeout(function () {
          _this.$carousel
            .find('.owl-item')
            .filter('.active')
            .find('a, button')
            .removeAttr('aria-hidden tabindex');
          _this.$carousel
            .find('.owl-item')
            .not('.active')
            .add(
              _this.$carousel
                .find('.owl-item')
                .not('.active')
                .find('a, button'),
            )
            .attr({ 'aria-hidden': true, tabindex: -1 });
        }, 1);
      }

      if ($(this).hasClass('owl-prevm')) {
        _this.$carousel.trigger('prev.owl.carousel');
        _fn();
      } else if ($(this).hasClass('owl-nextm')) {
        _this.$carousel.trigger('next.owl.carousel');
        _fn();
      }
      /* // 2023-04 접근성 수정 끝 */
    });
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    /* 2023-04 접근성 수정 시작 */
    _this.$carousel
      .find('.owl-item')
      .add(_this.$carousel.find('.owl-item').find('.btn_arrow'))
      .on('blur', function () {
        $(this).removeAttr('tabindex');
      });
    /* // 2023-04 접근성 수정 끝 */

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setCarousel(_plugin) {
    if (_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    _plugin.$carousel.owlCarousel({
      stageElement: 'ul',
      itemElement: 'li',
      loop: true,
      nav: false,
      dots: false,
      items: 1,
      margin: 16,
      smartSpeed: 500,
      onInitialized: function (e) {
        initPagn(e, _plugin);
      },
      onRefreshed: function (e) {
        // FIREFOX
        initPagn(e, _plugin);
      },
      onChanged: function (e) {
        updatePagn(e, _plugin);
        setInterval(function () {
          _plugin.$el.scrollLeft(0);
        }, 100);

        let $currentSlide = $(e.target).find('.owl-item').eq(e.item.index);

        $currentSlide
          .find('.btn_arrow')
          .add($currentSlide.find('.md_link'))
          .attr({ 'aria-hidden': 'false', tabindex: '0' });
        $currentSlide
          .siblings()
          .find('.btn_arrow')
          .add($currentSlide.siblings().find('.md_link'))
          .attr({ 'aria-hidden': 'true', tabindex: '-1' });

        setTimeout(function () {
          let $currentSlide = _this.$carouselItem
            .closest('.owl-item')
            .filter('.active');

          if ($currentSlide.length > 0) {
            $currentSlide.removeAttr('aria-hidden tabindex');
            $currentSlide.find('a, button').removeAttr('aria-hidden tabindex');
            $currentSlide
              .siblings()
              .attr({ 'aria-hidden': true, tabindex: -1 });
            $currentSlide
              .siblings()
              .find('a, button')
              .attr({ 'aria-hidden': true, tabindex: -1 });
          }
        }, 1);
        /* // 2023-04 접근성 수정 끝 */
      },
    });
  }

  function updateCarousel(_plugin) {
    switch (deviceType) {
      case 'PC':
      case 'TABLET':
        destroyCarousel(_plugin);
        break;
      case 'MOBILE':
        setCarousel(_plugin);
        break;
      // default:
      //     break;
    }
  }

  function initPagn(e, _plugin) {
    var activeIndex = 1;
    var barWidth = (100 / e.item.count) * activeIndex;

    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
    _plugin.$pagn.find('.owl-pagn-ed').text(setNum(e.item.count));
    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
  }

  function updatePagn(e, _plugin) {
    if (!_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;

    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
  }

  function destroyCarousel(_plugin) {
    if (!_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    _plugin.$carousel.owlCarousel('destroy');
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  function setAriaAttr(_plugin) {
    switch (deviceType) {
      case 'PC':
      case 'TABLET':
        _plugin.$carousel
          .find('.item')
          .removeAttr('aria-hidden')
          .find('a, button')
          .removeAttr('tabindex');
        break;
      case 'MOBILE':
        _plugin.$carousel.find('a, button').attr('tabindex', -1);
        break;
      // default:
      //     break;
    }
  }

  this.init();
}
fo.addPlugin(M04_B);

/** M04_D | Related Offering 3 **/
function M04_D(el) {
  _proto = M04_D.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$carousel = this.$el.find('.owl-carousel');
  this.$carouselItem = this.$el.find('.owl-carousel .item');
  this.$pagn = this.$el.find('.owl-pagn');

  var lang = $('html').attr('lang') || 'en'; /* 210510 | 접근성 | 언어 추가 */
  var _this = this; // M04_D
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;

  _proto.init = function () {
    //console.log("init:: M04_D")
    // Device type check
    deviceType = checkDeviceType();

    if (this.$carouselItem.length < 2) {
      this.$pagn.remove();
      return;
    }

    /* 210510 | 접근성 | 모바일 활성화 Nav */
    if (this.$carouselItem.length >= 2) {
      this.$carousel.after(
        '<div class="owl-navm"><button class="owl-prevm"><em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em></button><button class="owl-nextm"><em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em></button></div>',
      );
    }
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    updateCarousel(this);
    setAriaAttr(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarousel(_this);
        setAriaAttr(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$carouselItem.on('focusin', function (e) {
      // [default] in focus not click
      if (!$(e.target).is(':hover')) {
        var currentIndex = _this.$carouselItem.index(e.delegateTarget);
        _this.$carousel.trigger('to.owl.carousel', currentIndex);
        _this.$carousel.children().scrollLeft() != 0 &&
          _this.$carousel.children().scrollLeft(0);
      }
    });

    _this.$el.on('keyup', function (e) {
      e.stopPropagation();
      if (!_this.$carousel.data('owl.carousel')) {
        return;
      }

      if (e.keyCode == 37) {
        _this.$carousel.trigger('prev.owl.carousel');
      } else if (e.keyCode == 39) {
        _this.$carousel.trigger('next.owl.carousel');
      }
    });

    /* 210510 | 접근성 | 모바일 활성화 Nav */
    _this.$el.find('.owl-navm button').on('click', function (e) {
      e.stopPropagation();
      if ($(this).hasClass('owl-prevm')) {
        _this.$carousel.trigger('prev.owl.carousel');
      } else if ($(this).hasClass('owl-nextm')) {
        _this.$carousel.trigger('next.owl.carousel');
      }
    });
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setCarousel(_plugin) {
    if (_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    _plugin.$carousel.owlCarousel({
      stageElement: 'ul',
      itemElement: 'li',
      loop: true,
      nav: false,
      dots: false,
      items: 1,
      margin: 16,
      smartSpeed: 500,
      onInitialized: function (e) {
        initPagn(e, _plugin);
      },
      onRefreshed: function (e) {
        // FIREFOX
        initPagn(e, _plugin);
      },
      onChanged: function (e) {
        updatePagn(e, _plugin);
        setInterval(function () {
          _plugin.$el.scrollLeft(0);
        }, 100);
        setAriaHidden(e, _plugin); /* 210510 | 접근성 | 모바일 활성화 Nav */
      },
    });
  }

  function updateCarousel(_plugin) {
    switch (deviceType) {
      case 'PC':
      case 'TABLET':
        destroyCarousel(_plugin);
        break;
      case 'MOBILE':
        setCarousel(_plugin);
        break;
      // default:
      //     break;
    }
  }

  function initPagn(e, _plugin) {
    var activeIndex = 1;
    var barWidth = (100 / e.item.count) * activeIndex;

    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
    _plugin.$pagn.find('.owl-pagn-ed').text(setNum(e.item.count));
    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
  }

  function updatePagn(e, _plugin) {
    if (!_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;

    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
  }

  function destroyCarousel(_plugin) {
    if (!_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    _plugin.$carousel.owlCarousel('destroy');
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  function setAriaAttr(_plugin) {
    switch (deviceType) {
      case 'PC':
      case 'TABLET':
        _plugin.$carousel
          .find('.item')
          .removeAttr('aria-hidden')
          .find('a, button')
          .removeAttr('tabindex');
        break;
      case 'MOBILE':
        _plugin.$carousel
          .find('.cloned .item')
          .attr('aria-hidden', true)
          .find('a, button')
          .attr('tabindex', -1);
        break;
      // default:
      //     break;
    }
  }

  function setAriaHidden(e, _plugin) {
    var currentIdx = e.item.index;
    var activeItem = $(e.target).find('.owl-item').eq(currentIdx);

    $(e.target).find('.owl-item').attr('aria-hidden', true); //.attr("tabindex", -1) 220413 | 접근성
    activeItem.attr('aria-hidden', false); //.attr("tabindex", 0) 220413 | 접근성

    setTimeout(function () {
      _this.$carousel
        .find('.owl-item')
        .filter('.active')
        .find('a, button')
        .removeAttr('aria-hidden tabindex');
      _this.$carousel
        .find('.owl-item')
        .not('.active')
        .add(_this.$carousel.find('.owl-item').not('.active').find('a, button'))
        .attr({ 'aria-hidden': true, tabindex: -1 });
    }, 1);
  }

  this.init();
}
fo.addPlugin(M04_D);

/** M04_E | Related Offering 4 **/
function M04_E(el) {
  _proto = M04_E.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;

  this.$carousel = this.$el.find('.owl-carousel');
  this.$carouselItem = this.$el.find('.owl-carousel .item');
  this.$pagn = this.$el.find('.owl-pagn');

  var lang = $('html').attr('lang') || 'en'; /* 210510 | 접근성 | 언어 추가 */

  var _this = this; // M04_E
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;

  _proto.init = function () {
    //console.log("init:: M04_E")

    // Device type check
    deviceType = checkDeviceType();

    if (this.$carouselItem.length < 2) {
      this.$pagn.remove();
      return;
    }

    /* 210510 | 접근성 | 모바일 활성화 Nav */
    if (this.$carouselItem.length >= 2) {
      this.$carousel.after(
        '<div class="owl-navm"><button class="owl-prevm"><em class=\"blind\">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em></button><button class="owl-nextm"><em class=\"blind\">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em></button></div>',
      );
    }
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    updateCarousel(this);
    setAriaAttr(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();

      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarousel(_this);
        setAriaAttr(_this);
      }

      /* 2023-04 접근성 수정 시작 */
      if (currentDeviceType.toLowerCase() === 'pc') {
        _this.$carousel
          .find('.btn_arrow')
          .add(_this.$carousel.find('.md_link'))
          .removeAttr('aria-hidden tabindex');
        _this.$carousel
          .find('.md_tit')
          .add(_this.$carousel.find('.md_txt'))
          .removeAttr('style');
        _this.$carousel.find('a, button').removeAttr('aria-hidden tabindex');
        _this.$carousel
          .find('.md_tit')
          .add(_this.$carousel.find('.md_txt'))
          .removeAttr('style');
      }
      /* // 2023-04 접근성 수정 끝 */
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$carouselItem.on('focusin', function (e) {
      // [default] in focus not click
      if (!$(e.target).is(':hover')) {
        var currentIndex = _this.$carouselItem.index(e.delegateTarget);
        _this.$carousel.trigger('to.owl.carousel', currentIndex);
        _this.$carousel.children().scrollLeft() != 0 &&
          _this.$carousel.children().scrollLeft(0);
      }
    });

    _this.$el.on('keyup', function (e) {
      e.stopPropagation();

      if (!_this.$carousel.data('owl.carousel')) {
        return;
      }

      if (e.keyCode == 37) {
        _this.$carousel.trigger('prev.owl.carousel');
      } else if (e.keyCode == 39) {
        _this.$carousel.trigger('next.owl.carousel');
      }
    });

    /* 210510 | 접근성 | 모바일 활성화 Nav */
    _this.$el.find('.owl-navm button').on('click', function (e) {
      e.stopPropagation();

      /* 2023-04 접근성 수정 시작 */
      function _fn() {
        setTimeout(function () {
          // _this.$carousel.find('.owl-item.active').focus();

          // _this.$carousel.find('.owl-item').filter('.active').attr({ 'aria-hidden': false, tabindex: 0 }).focus();
          _this.$carousel
            .find('.owl-item')
            .filter('.active')
            .find('a, button')
            .removeAttr('aria-hidden tabindex');

          _this.$carousel
            .find('.owl-item')
            .not('.active')
            .add(
              _this.$carousel
                .find('.owl-item')
                .not('.active')
                .find('a, button'),
            )
            .attr({ 'aria-hidden': true, tabindex: -1 });
        }, 1);
      }

      if ($(this).hasClass('owl-prevm')) {
        _this.$carousel.trigger('prev.owl.carousel');
        // _this.$carousel.find('.owl-item.active').focus();

        _fn();
      } else if ($(this).hasClass('owl-nextm')) {
        _this.$carousel.trigger('next.owl.carousel');
        // _this.$carousel.find('.owl-item.active').focus();

        _fn();
      }
      /* // 2023-04 접근성 수정 끝 */
    });
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    /* 2023-04 접근성 수정 시작 */
    _this.$carousel
      .find('.owl-item')
      .add(_this.$carousel.find('.owl-item').find('.btn_arrow'))
      .on('blur', function () {
        $(this).removeAttr('tabindex');
      });
    /* // 2023-04 접근성 수정 끝 */

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setCarousel(_plugin) {
    if (_plugin.$carousel.data('owl.carousel')) {
      return;
    }

    _plugin.$carousel.owlCarousel({
      stageElement: 'ul',
      itemElement: 'li',
      loop: true,
      nav: false,
      dots: false,
      items: 1,
      margin: 16,
      smartSpeed: 500,
      onInitialized: function (e) {
        initPagn(e, _plugin);
      },
      onRefreshed: function (e) {
        // FIREFOX
        initPagn(e, _plugin);
      },
      onChanged: function (e) {
        updatePagn(e, _plugin);
        setInterval(function () {
          _plugin.$el.scrollLeft(0);
        }, 100);
        // setAriaHidden(e, _plugin); /* 210510 | 접근성 | 모바일 활성화 Nav */
        /* 2023-04 접근성 수정 시작 */
        // setAriaHidden(e, _plugin); /* 210510 | 접근성 | 모바일 활성화 Nav */

        let $currentSlide = $(e.target).find('.owl-item').eq(e.item.index);

        $currentSlide
          .find('.btn_arrow')
          .add($currentSlide.find('.md_link'))
          .attr({ 'aria-hidden': 'false', tabindex: '0' });
        $currentSlide
          .siblings()
          .find('.btn_arrow')
          .add($currentSlide.siblings().find('.md_link'))
          .attr({ 'aria-hidden': 'true', tabindex: '-1' });

        setTimeout(function () {
          let $currentSlide = _this.$carouselItem
            .closest('.owl-item')
            .filter('.active');

          if ($currentSlide.length > 0) {
            $currentSlide.removeAttr('aria-hidden tabindex');
            $currentSlide.find('a, button').removeAttr('aria-hidden tabindex');

            $currentSlide
              .siblings()
              .attr({ 'aria-hidden': true, tabindex: -1 });
            $currentSlide
              .siblings()
              .find('a, button')
              .attr({ 'aria-hidden': true, tabindex: -1 });
          }
        }, 1);
        /* // 2023-04 접근성 수정 끝 */
      },
    });
  }

  function updateCarousel(_plugin) {
    switch (deviceType) {
      case 'PC':
      case 'TABLET':
        destroyCarousel(_plugin);
        break;
      case 'MOBILE':
        setCarousel(_plugin);
        break;
      // default:
      //     break;
    }
  }

  function initPagn(e, _plugin) {
    var activeIndex = 1;
    var barWidth = (100 / e.item.count) * activeIndex;
    var ariaTxt = setNum(activeIndex) + ' of ' + setNum(e.item.count);

    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
    _plugin.$pagn.find('.owl-pagn-ed').text(setNum(e.item.count));

    // _plugin.$pagn.attr("aria-live","polite");
    /* 2023-04 접근성 수정 시작 */
    // _plugin.$pagn.find(".owl-pagn-inner").attr("aria-hidden",true);
    /* 2023-04 접근성 수정 끝 */

    // _plugin.$pagn.attr("aria-labelledby", ariaTxt);
    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
  }

  function updatePagn(e, _plugin) {
    if (!_plugin.$carousel.data('owl.carousel')) {
      return;
    }

    var slides = e.relatedTarget;

    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;
    var ariaTxt = setNum(activeIndex) + ' of ' + setNum(e.item.count);

    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));

    // _plugin.$pagn.attr("aria-labelledby", ariaTxt);
    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
  }

  function destroyCarousel(_plugin) {
    if (!_plugin.$carousel.data('owl.carousel')) {
      return;
    }

    _plugin.$carousel.owlCarousel('destroy');
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  function setAriaAttr(_plugin) {
    switch (deviceType) {
      case 'PC':
      case 'TABLET':
        _plugin.$carousel
          .find('.item')
          .removeAttr('aria-hidden')
          .find('a, button')
          .removeAttr('tabindex');
        break;
      case 'MOBILE':
        _plugin.$carousel
          // .find(".cloned .item").attr("aria-hidden", true) // 2023-04 접근성 수정
          .find('a, button')
          .attr('tabindex', -1);
        break;
      // default:
      //     break;
    }
  }

  /* 2023-04 접근성 수정 시작 */
  // function setAriaHidden(e, _plugin){
  /*
        var currentIdx = e.item.index;
        var activeItem = $(e.target).find(".owl-item").eq(currentIdx);

        $(e.target).find('.owl-item').attr('aria-hidden', true); // .attr('tabindex', -1);
        // activeItem.attr('aria-hidden', false).attr('tabindex', 0);

        let _checkClass = setInterval(() => {
            if (_this.$carousel.find('.owl-item').hasClass('active')) {
                activeItem.attr('aria-hidden', false);

                clearInterval(_checkClass);
            }
        }, 40);
        */
  // }
  /* // 2023-04 접근성 수정 끝 */

  this.init();
}

fo.addPlugin(M04_E);

/** M05_A | Industry */
function M05_A(el) {
  _proto = M05_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$tabList = this.$el.find('.tab_nav');
  this.$tabListBtn = this.$tabList.find('a, button');
  this.$tabPanel = this.$el.find('.tab_cont');
  this.$visualArea = this.$el.find('.img .img_p');
  this.$carousel = [];
  this.$carouselItem = [];
  this.$pagn = [];
  this.key = Math.floor(this.$el.offset().top);
  this.activeTab = 0;
  this.mhItems;
  this.lengthArr = [];

  var _this = this; // M05_A
  var deviceType; // "PC_LARGE", "PC_SMALL", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';
  var $nav = $(
    '<div class="owl-navm"><button class="owl-prevm"><em class="blind">' +
      langSet[lang]['slide']['prevStr'].toString() +
      '</em></button><button class="owl-nextm"><em class="blind">' +
      langSet[lang]['slide']['nextStr'].toString() +
      '</em></button></div>',
  );

  _proto.init = function () {
    //console.log("init:: M05_A")

    // Device type check
    deviceType = checkDeviceType();

    if (this.$el.find('.cont_all').length) {
      this.$tabList.remove();
    } else {
      setOpenTab(this);
      setTabAria(this);
    }

    // Set visual img
    this.setVisualImg();

    // Set each slide
    for (var index = 0; index < _this.$tabPanel.length; index++) {
      this.lengthArr.push(index);
    }
    this.lengthArr.map(function (index) {
      var $currentPanel = _this.$tabPanel.eq(index);
      var $innerWrap = $currentPanel.find('.M05_A_inner');

      _this.$carousel.push($currentPanel.find('.owl-carousel'));
      _this.$carouselItem.push($currentPanel.find('.owl-carousel .item'));
      _this.$pagn.push($currentPanel.find('.owl-pagn'));

      $innerWrap.addClass('m' + _this.$carouselItem[index].length);
      updateCarousel(_this, index);
    });

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        _this.lengthArr.map(function (index) {
          updateCarousel(_this, index);
        });
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });

    /* 210406 | 웹접근성 | 이미지 대체텍스트 추가 */
    this.$visualArea.each(function (e) {
      var $this = $(this);
      var imgAlt = $this.find('img').attr('alt');
      var thisTit = $this.parents('.item').find('.md_tit span').text();
      var thisTarget = $this.closest('.md_link');

      $this.find('img').attr('aria-hidden', 'true');
      if (thisTarget.attr('target') == '_blank' && !thisTarget.attr('title')) {
        thisTarget.attr('title', langSet[lang]['openWindow']);
      }
      if (imgAlt) {
        thisTarget.append('<div class="blind">' + imgAlt + '</div>');
      } else {
        thisTarget.append('<div class="blind">' + thisTit + '</div>');
      }
    });
    /* //210406 | 웹접근성 | 이미지 대체텍스트 추가 */
  };

  _proto.addEvent = function () {
    // Tab button click
    _this.$tabListBtn.on('click', function () {
      _this.activeTab = _this.$tabListBtn.index($(this));
      setOpenTab(_this);
    });

    _this.$tabPanel.find('.item').on('focusin', function (e) {
      if ($(e.target).is(':hover')) {
        return;
      }
      var panelIndex = _this.$tabPanel.index($(this).parents('.tab_cont'));
      var itemIndex = _this.$carouselItem[panelIndex].index(e.delegateTarget);
      _this.$carousel[panelIndex].trigger('to.owl.carousel', itemIndex);
      _this.$carousel[panelIndex].children().scrollLeft() != 0 &&
        _this.$carousel[panelIndex].children().scrollLeft(0);
    });

    _this.$el.on('keyup', function (e) {
      e.stopPropagation();

      var panelIndex = _this.$tabPanel.index($(this).find('.tab_cont.on'));
      if (!_this.$carousel[panelIndex].data('owl.carousel')) {
        return;
      }
      if (e.keyCode == 37) {
        _this.$carousel[panelIndex].trigger('prev.owl.carousel');
      } else if (e.keyCode == 39) {
        _this.$carousel[panelIndex].trigger('next.owl.carousel');
      }
    });

    /* 210510 | 접근성 | 모바일 활성화 Nav */
    _this.$tabPanel.find('.owl-navm button').on('click', function (e) {
      e.stopPropagation();

      var panelIndex = _this.$tabPanel.index($(this).parents('.tab_cont'));
      var itemIndex = _this.$carouselItem[panelIndex].index(e.delegateTarget);

      if ($(this).hasClass('owl-prevm')) {
        _this.$carousel[panelIndex].trigger('prev.owl.carousel');
        _this.$carousel[panelIndex].find('.owl-item.active').get(0).focus();
      } else if ($(this).hasClass('owl-nextm')) {
        _this.$carousel[panelIndex].trigger('next.owl.carousel');
        _this.$carousel[panelIndex].find('.owl-item.active').get(0).focus();
      }
    });
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1400) {
      return 'PC_LARGE';
    } else if (window.innerWidth > 1023) {
      return 'PC_SMALL';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setCarousel(_plugin, index) {
    if (_plugin.$carousel[index].data('owl.carousel')) {
      return;
    }
    /* 2023-08-10 지속 가능경영전략 추가 시작 */
    const defaultOptions = {
      stageElement: 'ul',
      itemElement: 'li',
      autoWidth: true,
      loop: true,
      nav: true,
      navText: [
        '<em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em>',
        '<em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em>',
      ],
      dots: false,
      items: 5,
      smartSpeed: 500,
      responsive: {
        0: {
          margin: 16,
        },
        500: {
          margin: 16,
        },
        1023: {
          margin: 26,
        },
      },
      onInitialized: function (e) {
        initPagn(e, _plugin, index);
        setCarouselAria(_plugin, index);

        if (index !== _plugin.activeTab) {
          _plugin.$carousel[index].addClass('owl-hidden');
        } else {
          _plugin.$carousel[index].removeClass('owl-hidden');
        }
      },
      onRefreshed: function (e) {
        // FIREFOX
        initPagn(e, _plugin, index);
        setCarouselAria(_plugin, index);

        if (index !== _plugin.activeTab) {
          _plugin.$carousel[index].addClass('owl-hidden');
        } else {
          _plugin.$carousel[index].removeClass('owl-hidden');
        }
      },
      onChanged: function (e) {
        updatePagn(e, _plugin, index);
        updateNavm(e, _plugin, index);
        setInterval(function () {
          _plugin.$el.scrollLeft(0);
        }, 100);
        setAriaHidden(e, _plugin); /* 210510 | 접근성 | 모바일 활성화 Nav */
      },
    };

    const extendOptions = {
      responsive: {
        0: {
          autoWidth: false,
          items: 1,
          margin: 16,
        },
        1025: {
          autoWidth: true,
          items: 5,
          margin: 26,
        },
      },
    };

    const owlCarouselOptions = $.extend({}, defaultOptions, extendOptions);
    _plugin.$carousel[index].owlCarousel(
      _plugin.$carousel[index].hasClass('type_tuning')
        ? owlCarouselOptions
        : defaultOptions,
    );
    /* // 2023-08-10 지속 가능경영전략 추가 끝 */
  }

  function destroyCarousel(_plugin, index) {
    if (!_plugin.$carousel[index].data('owl.carousel')) {
      return;
    }
    _plugin.$carousel[index].owlCarousel('destroy');
  }

  function setCarouselAria(_plugin, index) {
    var $clonedItem = _plugin.$carousel[index].find('.owl-item.cloned');

    $clonedItem.attr('aria-hidden', true);
    $clonedItem.find('a, button').attr('tabindex', -1);
  }

  function updateCarousel(_plugin, index) {
    var $carouselItem = _plugin.$carouselItem[index];

    switch (deviceType) {
      case 'PC_LARGE':
        $carouselItem.length < 4
          ? destroyCarousel(_plugin, index) // 1,2,3
          : setCarousel(_plugin, index); // 4,5,6,7...
        break;
      case 'PC_SMALL':
        $carouselItem.length < 3
          ? destroyCarousel(_plugin, index) // 1,2
          : setCarousel(_plugin, index); // 3,4,5,6,7...
        break;
      case 'TABLET':
      case 'MOBILE':
        $carouselItem.length < 2
          ? destroyCarousel(_plugin, index) // 1
          : setCarousel(_plugin, index); // 2,3,4,5,6,7...
        break;
      // default:
      //     break;
    }
  }

  function initPagn(e, _plugin, index) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;
    var ariaTxt = setNum(activeIndex) + ' of ' + setNum(e.item.count);

    // _plugin.$pagn[index].attr("aria-labelledby", ariaTxt);
    _plugin.$pagn[index].find('.owl-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn[index].find('.owl-pagn-st').text(setNum(activeIndex));
    _plugin.$pagn[index].find('.owl-pagn-ed').text(setNum(e.item.count));
  }

  function updatePagn(e, _plugin, index) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;
    var ariaTxt = setNum(activeIndex) + ' of ' + setNum(e.item.count);

    if (isNaN(activeIndex)) return;

    // _plugin.$pagn[index].attr("aria-labelledby", ariaTxt);
    _plugin.$pagn[index].find('.owl-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn[index].find('.owl-pagn-st').text(setNum(activeIndex));
  }

  function updateNavm(e, _plugin, index) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;
    var ariaTxt = setNum(activeIndex) + ' of ' + setNum(e.item.count);

    if (isNaN(activeIndex)) return;
    if (_plugin.$carousel[index].find('.item').length >= 2) {
      _plugin.$carousel[index].after($nav);
      return;
    }
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  // Apply aria properties
  function setTabAria(_plugin) {
    _plugin.$tabList
      .attr('role', 'tablist') // fixed
      .find('li')
      .attr('role', 'presentation'); // fixed

    _plugin.$tabListBtn.each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this).attr({
        role: 'tab', // fixed
        id: 'tab_btn_' + key, // fixed
        'aria-controls': 'tab_panel_' + key, // fixed
        'aria-selected': false, // changeable
      });
    });

    _plugin.$tabPanel.each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this).attr({
        role: 'region', // fixed
        id: 'tab_panel_' + key, // fixed
        'aria-labelledby': 'tab_btn_' + key, // fixed
      });
    });
  }

  function setOpenTab(_plugin) {
    // Exception, if there is no activation tab
    if (_plugin.activeTab >= _plugin.$tabPanel.length) {
      return;
    }
    // Activate tab button
    _plugin.$tabListBtn
      .attr({
        'aria-selected': false,
      })
      .parent()
      .removeClass('on');
    _plugin.$tabListBtn
      .eq(_plugin.activeTab)
      .attr({
        'aria-selected': true,
      })
      .parent()
      .addClass('on');

    // Activate tab panel
    _plugin.$tabPanel.removeClass('on').eq(_plugin.activeTab).addClass('on');

    _plugin.$tabPanel
      .eq(_plugin.activeTab)
      .find('.owl-carousel')
      .removeClass('owl-hidden'); // 2023-08-10 지속 가능경영전략 추가
  }

  function setAriaHidden(e, _plugin) {
    var currentIdx = e.item.index;
    var activeItem = $(e.target).find('.owl-item').eq(currentIdx);

    $(e.target).find('.owl-item').attr('aria-hidden', true); //.attr("tabindex", -1) 220413 | 접근성
    activeItem.attr('aria-hidden', false); //.attr("tabindex", 0) 220413 | 접근성
  }

  this.init();
}
fo.addPlugin(M05_A);

/** M06_A | Award */
function M06_A(el) {
  _proto = M06_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$visualArea = this.$el.find('.img .img_p');
  this.$carousel = this.$el.find('.owl-carousel');
  this.$carouselItem = this.$el.find('.owl-carousel .item');
  this.$pagn = this.$el.find('.owl-pagn');

  var _this = this; // M06_A
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: M06_A")
    // Device type check
    deviceType = checkDeviceType();

    // Set visual img
    this.setVisualImg();

    this.$el.find('.M06_A_cont').addClass('m' + this.$carouselItem.length);

    if (this.$carouselItem.length < 2) return;

    /* 210510 | 접근성 | 모바일 활성화 Nav */
    if (this.$carouselItem.length >= 2) {
      this.$carousel.after(
        '<div class="owl-navm"><button class="owl-prevm"><em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em></button><button class="owl-nextm"><em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em></button></div>',
      );
    }
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    updateCarousel(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarousel(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  _proto.addEvent = function () {
    _this.$carouselItem.on('focusin', function (e) {
      if ($(e.target).is(':hover')) {
        return;
      }
      var currentIndex = _this.$carouselItem.index(e.delegateTarget);
      _this.$carousel.trigger('to.owl.carousel', currentIndex);

      _this.$carousel.children().scrollLeft() != 0 &&
        _this.$carousel.children().scrollLeft(0);
      _this.$el.scrollLeft() != 0 && _this.$el.scrollLeft(0);
    });

    _this.$el.on('keyup', function (e) {
      e.stopPropagation();

      if (!_this.$carousel.data('owl.carousel')) {
        return;
      }

      if (e.keyCode == 37) {
        _this.$carousel.trigger('prev.owl.carousel');
      } else if (e.keyCode == 39) {
        _this.$carousel.trigger('next.owl.carousel');
      }
    });

    /* 210510 | 접근성 | 모바일 활성화 Nav */
    _this.$el.find('.owl-navm button').on('click', function (e) {
      e.stopPropagation();

      if ($(this).hasClass('owl-prevm')) {
        _this.$carousel.trigger('prev.owl.carousel');
        _this.$carousel.find('.owl-item.active').get(0).focus();
      } else if ($(this).hasClass('owl-nextm')) {
        _this.$carousel.trigger('next.owl.carousel');
        _this.$carousel.find('.owl-item.active').get(0).focus();
      }
    });
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setCarousel(_plugin) {
    if (_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    _plugin.$carousel.owlCarousel({
      stageElement: 'ul',
      itemElement: 'li',
      autoWidth: true,
      loop: true,
      nav: true,
      navText: [
        '<em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em>',
        '<em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em>',
      ],
      dots: false,
      smartSpeed: 500,
      onInitialized: function (e) {
        initPagn(e, _plugin);
        setCarouselAria(_plugin);
        _plugin.$carousel.addClass('act');
      },
      onRefreshed: function (e) {
        // FIREFOX
        initPagn(e, _plugin);
        setCarouselAria(_plugin);

        _plugin.$carousel.addClass('act');
      },
      onChanged: function (e) {
        updatePagn(e, _plugin);
        setInterval(function () {
          _plugin.$el.scrollLeft(0);
        }, 100);
        _plugin.$carousel.removeClass('act');
        setAriaHidden(e, _plugin); /* 210510 | 접근성 | 모바일 활성화 Nav */
      },
    });
  }

  function updateCarousel(_plugin) {
    switch (deviceType) {
      case 'PC':
        _plugin.$carouselItem.length < 3
          ? destroyCarousel(_plugin) // 1,2
          : setCarousel(_plugin); // 3,4,5,6,7...
        break;
      case 'TABLET':
      case 'MOBILE':
        _plugin.$carouselItem.length < 2
          ? destroyCarousel(_plugin) // 1
          : setCarousel(_plugin); // 2,3,4,5,6,7...
        break;
      // default:
      //     break;
    }
  }

  function setCarouselAria(_plugin) {
    var $clonedItem = _plugin.$carousel.find('.owl-item.cloned');

    $clonedItem.attr('aria-hidden', true);
    $clonedItem.find('a, button').attr('tabindex', -1);
  }

  function initPagn(e, _plugin) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;

    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
    _plugin.$pagn.find('.owl-pagn-ed').text(setNum(e.item.count));
  }

  function updatePagn(e, _plugin) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;

    if (isNaN(activeIndex)) return;

    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
  }

  function destroyCarousel(_plugin) {
    if (!_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    _plugin.$carousel.owlCarousel('destroy');
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  function setAriaHidden(e, _plugin) {
    var currentIdx = e.item.index;
    var activeItem = $(e.target).find('.owl-item').eq(currentIdx);

    $(e.target).find('.owl-item').attr('aria-hidden', true); //.attr("tabindex", -1) 220413 | 접근성
    activeItem.attr('aria-hidden', false); //.attr("tabindex", 0) 220413 | 접근성
  }

  this.init();
}
fo.addPlugin(M06_A);

/** M06_B | Testimonial **/
function M06_B(el) {
  _proto = M06_B.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.startIndex = 0;
  this.currentIndex = this.startIndex;
  this.$carousel = this.$el.find('.md_cont');
  this.$carouselItem = this.$el.find('.md_cont .li');
  this.$control = this.$el.find('.md_cont_control');
  this.$txtArea = this.$carousel.find('.txt');
  this.$visualArea = this.$carousel.find('.img .img_p, .img .img_m');

  var _this = this;
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  var carouselHeight = {
    PC: 740,
    TABLET: 580,
    MOBILE: 580,
  };

  _proto.init = function () {
    //console.log("init:: M06_B")

    // Device type check
    deviceType = checkDeviceType();

    // Set visual txt break
    this.setVisualImg();
    this.setTxtBreak();

    // Set scroll bar
    this.$carousel.find('.scrollbar-inner').scrollbar();

    if (this.$carouselItem.length < 2) {
      this.$control.remove();
      this.$carouselItem.eq(0).addClass('act');
      // this.$carouselItem.eq(0).find('.scrollbar-inner.scroll-content').attr('tabindex', 0); // 2023-04 접근성 수정
      return;
    }

    /* 220405 | 접근성 | 모바일 활성화 Nav */
    if (this.$carouselItem.length >= 2) {
      this.$control.after(
        '<div class="owl-navm"><button class="owl-prevm"><em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em></button><button class="owl-nextm"><em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em></button></div>',
      );
    }
    /* //220405 | 접근성 | 모바일 활성화 Nav */

    // Set carousel
    setCarousel(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();

      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarouselStyle(_this);
        updateCarouselAria(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  // Set visual txt break
  _proto.setTxtBreak = function () {
    var $title = this.$txtArea.find('.md_tit');

    $title.find('p, em').lettering('lines');
    $title.find('span').wrapInner('<i></i>');
  };

  // Event
  _proto.addEvent = function () {
    /* 220405 | 접근성 | 모바일 활성화 Nav */
    _this.$el.find('.owl-navm button').on('click', function (e) {
      e.stopPropagation();

      if ($(this).hasClass('owl-prevm')) {
        _this.$carousel.trigger('prev');
      } else if ($(this).hasClass('owl-nextm')) {
        _this.$carousel.trigger('next');
      }
    });
    /* //220405 | 접근성 | 모바일 활성화 Nav */

    /* 2023-04 접근성 수정 시작 */
    _this.$carouselItem.find('.txt_inner').on('blur', function () {
      $(this).removeAttr('tabindex');
    });
    /* // 2023-04 접근성 수정 끝 */

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setCarousel(_plugin) {
    var $prevBtn = _plugin.$control.find('.md_pagn_prev');
    var $nextBtn = _plugin.$control.find('.md_pagn_next');

    $prevBtn.wrapInner(
      '<em class="blind">' +
        langSet[lang]['slide']['prevStr'].toString() +
        '</em>',
    );
    $nextBtn.wrapInner(
      '<em class="blind">' +
        langSet[lang]['slide']['nextStr'].toString() +
        '</em>',
    );

    _plugin.$carousel.carouFredSel({
      responsive: true,
      height: carouselHeight[deviceType],
      auto: {
        play: false,
      },
      prev: {
        button: $prevBtn,
        key: 'left',
      },
      next: {
        button: $nextBtn,
        key: 'right',
      },
      items: {
        start: _plugin.currentIndex,
        visible: 1,
        height: carouselHeight[deviceType],
      },
      swipe: {
        onMouse: true,
        onTouch: true,
      },
      scroll: {
        fx: 'fade',
        duration: 0,
        items: 1,
        onAfter: function (data) {
          _plugin.currentIndex = _plugin.$carouselItem.index(
            data.items.visible,
          );

          // Update
          updatePagn(_plugin);
          updateCarouselAria(_plugin);

          _plugin.$carouselItem
            .removeClass('act')
            .eq(_plugin.currentIndex)
            .addClass('act')
            .find('.scrollbar-inner.scroll-content')
            .stop()
            .animate({ scrollTop: 0 }, 100);

          /* 2023-04 접근성 수정 시작 */
          _plugin.$carouselItem
            .attr({ 'aria-hidden': true, tabindex: -1 })
            .find('a, button')
            .attr({ 'aria-hidden': true, tabindex: -1 });
          _plugin.$carouselItem
            .eq(_plugin.currentIndex)
            .removeAttr('aria-hidden tabindex')
            .find('a, button')
            .removeAttr('aria-hidden tabindex');
          _plugin.$carouselItem
            .eq(_plugin.currentIndex)
            .find('.txt_inner')
            .attr({ tabindex: 0 });

          setTimeout(function () {
            _plugin.$carouselItem
              .eq(_plugin.currentIndex)
              .find('.txt_inner')
              .focus();
          }, 1);
          /* // 2023-04 접근성 수정 끝 */
        },
      },
      onCreate: function () {
        _plugin.$control
          .find('.md_cont_bar_ed')
          .text(setNum(_plugin.$carouselItem.length));

        // Update
        updatePagn(_plugin);
        updateCarouselStyle(_plugin);
        updateCarouselAria(_plugin);

        _plugin.$carouselItem
          .removeClass('act')
          .eq(_plugin.currentIndex)
          .addClass('act')
          .find('.scrollbar-inner.scroll-content')
          .stop()
          .animate({ scrollTop: 0 }, 100);

        /* 2023-04 접근성 수정 시작 */
        _plugin.$carouselItem
          .attr({ 'aria-hidden': true, tabindex: -1 })
          .find('a, button')
          .attr({ 'aria-hidden': true, tabindex: -1 });
        _plugin.$carouselItem
          .filter('.act')
          .removeAttr('aria-hidden tabindex')
          .find('a, button')
          .removeAttr('aria-hidden tabindex');
        /* // 2023-04 접근성 수정 끝 */
      },
    });
  }

  // Set carousel Style
  function updateCarouselStyle(_plugin) {
    _plugin.$carousel.trigger('configuration', {
      height: carouselHeight[deviceType],
      items: {
        height: carouselHeight[deviceType],
      },
    });
    _plugin.$carousel.trigger('updateSizes');
  }

  function updateCarouselAria(_plugin) {
    _plugin.$carouselItem.attr('aria-hidden', true); // .find('a, button').attr('tabindex', -1); // 2023-04 접근성 수정
    // _plugin.$carouselItem.find('.scrollbar-inner.scroll-content').attr('tabindex', -1); // 2023-04 접근성 수정
    _plugin.$carouselItem.eq(_plugin.currentIndex).removeAttr('aria-hidden'); // .find('a, button').removeAttr('tabindex'); // 2023-04 접근성 수정
    // _plugin.$carouselItem.eq(_plugin.currentIndex).find('.scrollbar-inner.scroll-content').attr('tabindex', 0); // 2023-04 접근성 수정

    _plugin.$control.is('[tabindex]') &&
      _plugin.$control.removeAttr('tabindex');
  }

  // Update
  function updatePagn(_plugin) {
    var width =
      (100 / _plugin.$carouselItem.length) * (_plugin.currentIndex + 1);
    var ariaTxt =
      setNum(_plugin.currentIndex + 1) +
      ' of ' +
      setNum(_plugin.$carouselItem.length);

    _plugin.$control
      .find('.md_cont_bar_st')
      .text(setNum(_plugin.currentIndex + 1));
    _plugin.$control.find('.bar p').css('width', width + '%');
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  this.init();
}
fo.addPlugin(M06_B);

/** M06_C | Testimonial **/
function M06_C(el) {
  _proto = M06_C.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.startIndex = 0;
  this.currentIndex = this.startIndex;
  this.$carousel = this.$el.find('.md_cont');
  this.$carouselItem = this.$el.find('.md_cont .li');
  this.$control = this.$el.find('.md_cont_control');
  this.$txtArea = this.$carousel.find('.txt');
  this.$visualArea = this.$carousel.find('.img .img_p, .img .img_m');

  var _this = this;
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  var carouselHeight = {
    PC: 740,
    TABLET: 580,
    MOBILE: 580,
  };

  _proto.init = function () {
    //console.log("init:: M06_C")

    // Device type check
    deviceType = checkDeviceType();

    // Set visual txt break
    this.setVisualImg();
    this.setTxtBreak();

    // Set scroll bar
    this.$carousel.find('.scrollbar-inner').scrollbar();

    /* 2023-04 접근성 수정 시작 */
    /*
        this.$carouselItem.each(function () {
            var blindTxt = "<div class='blind'>" + ($(this).hasClass('chk') ? 'Not reported' : 'Reported') + '</div>';
            $(this).find('.txt_inner').before(blindTxt);
        });
        */
    /* // 2023-04 접근성 수정 끝 */

    if (this.$carouselItem.length < 2) {
      this.$control.remove();
      this.$carouselItem.eq(0).addClass('act');
      // this.$carouselItem.eq(0).find('.scrollbar-inner.scroll-content').attr('tabindex', 0); // 2023-04 접근성 수정
      return;
    }

    /* 220405 | 접근성 | 모바일 활성화 Nav */
    if (this.$carouselItem.length >= 2) {
      this.$control.after(
        '<div class="owl-navm"><button class="owl-prevm"><em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em></button><button class="owl-nextm"><em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em></button></div>',
      );
    }
    /* //220405 | 접근성 | 모바일 활성화 Nav */

    // Set carousel
    setCarousel(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarouselStyle(_this);
        updateCarouselAria(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  // Set visual txt break
  _proto.setTxtBreak = function () {
    var $title = this.$txtArea.find('.md_tit');
    $title.find('p, em').lettering('lines');
    $title.find('span').wrapInner('<i></i>');
  };

  // Event
  _proto.addEvent = function () {
    /* 220405 | 접근성 | 모바일 활성화 Nav */
    _this.$el.find('.owl-navm button').on('click', function (e) {
      e.stopPropagation();
      if ($(this).hasClass('owl-prevm')) {
        _this.$carousel.trigger('prev');
      } else if ($(this).hasClass('owl-nextm')) {
        _this.$carousel.trigger('next');
      }
    });
    /* //220405 | 접근성 | 모바일 활성화 Nav */

    /* 2023-04 접근성 수정 시작 */
    _this.$carouselItem.find('.txt_inner').on('blur', function () {
      $(this).removeAttr('tabindex');
    });
    /* // 2023-04 접근성 수정 끝 */

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setCarousel(_plugin) {
    var $prevBtn = _plugin.$control.find('.md_pagn_prev');
    var $nextBtn = _plugin.$control.find('.md_pagn_next');

    $prevBtn.wrapInner(
      '<em class="blind">' +
        langSet[lang]['slide']['prevStr'].toString() +
        '</em>',
    );
    $nextBtn.wrapInner(
      '<em class="blind">' +
        langSet[lang]['slide']['nextStr'].toString() +
        '</em>',
    );

    _plugin.$carousel.carouFredSel({
      responsive: true,
      height: carouselHeight[deviceType],
      auto: {
        play: false,
      },
      prev: {
        button: $prevBtn,
        key: 'left',
      },
      next: {
        button: $nextBtn,
        key: 'right',
      },
      items: {
        start: _plugin.currentIndex,
        visible: 1,
        height: carouselHeight[deviceType],
      },
      swipe: {
        onMouse: true,
        onTouch: true,
      },
      scroll: {
        fx: 'fade',
        duration: 0,
        items: 1,
        onAfter: function (data) {
          _plugin.currentIndex = _plugin.$carouselItem.index(
            data.items.visible,
          );

          // Update
          updatePagn(_plugin);
          updateCarouselAria(_plugin);

          _plugin.$carouselItem
            .removeClass('act')
            .eq(_plugin.currentIndex)
            .addClass('act')
            .find('.scrollbar-inner.scroll-content')
            .stop()
            .animate({ scrollTop: 0 }, 100);

          /* 2023-04 접근성 수정 시작 */
          _plugin.$carouselItem
            .attr({ 'aria-hidden': true, tabindex: -1 })
            .find('a, button')
            .attr({ 'aria-hidden': true, tabindex: -1 });
          _plugin.$carouselItem
            .eq(_plugin.currentIndex)
            .removeAttr('aria-hidden tabindex')
            .find('a, button')
            .removeAttr('aria-hidden tabindex');
          _plugin.$carouselItem
            .eq(_plugin.currentIndex)
            .find('.txt_inner')
            .attr({ tabindex: 0 });

          setTimeout(function () {
            _plugin.$carouselItem
              .eq(_plugin.currentIndex)
              .find('.txt_inner')
              .focus();
          }, 1);
          /* // 2023-04 접근성 수정 끝 */
        },
      },
      onCreate: function () {
        _plugin.$control
          .find('.md_cont_bar_ed')
          .text(setNum(_plugin.$carouselItem.length));

        // Update
        updatePagn(_plugin);
        updateCarouselStyle(_plugin);
        updateCarouselAria(_plugin);

        _plugin.$carouselItem
          .removeClass('act')
          .eq(_plugin.currentIndex)
          .addClass('act')
          .find('.scrollbar-inner.scroll-content')
          .stop()
          .animate({ scrollTop: 0 }, 100);

        /* 2023-04 접근성 수정 시작 */
        _plugin.$carouselItem
          .attr({ 'aria-hidden': true, tabindex: -1 })
          .find('a, button')
          .attr({ 'aria-hidden': true, tabindex: -1 });
        _plugin.$carouselItem
          .filter('.act')
          .removeAttr('aria-hidden tabindex')
          .find('a, button')
          .removeAttr('aria-hidden tabindex');
        /* // 2023-04 접근성 수정 끝 */
      },
    });
  }

  // Set carousel Style
  function updateCarouselStyle(_plugin) {
    _plugin.$carousel.trigger('configuration', {
      height: carouselHeight[deviceType],
      items: {
        height: carouselHeight[deviceType],
      },
    });
    _plugin.$carousel.trigger('updateSizes');
  }

  function updateCarouselAria(_plugin) {
    // 220405 | 웹접근성 | 임시 추후 롤백
    _plugin.$carouselItem
      .attr('aria-hidden', true)
      .find('a, button')
      .attr('tabindex', -1);
    // _plugin.$carouselItem.find('.scrollbar-inner.scroll-content').attr('tabindex', -1); // 2023-04 접근성 수정

    _plugin.$carouselItem
      .eq(_plugin.currentIndex)
      .removeAttr('aria-hidden')
      .find('a, button')
      .removeAttr('tabindex');
    // _plugin.$carouselItem.eq(_plugin.currentIndex).find('.scrollbar-inner.scroll-content').attr('tabindex', 0); // 2023-04 접근성 수정

    _plugin.$control.is('[tabindex]') &&
      _plugin.$control.removeAttr('tabindex');
  }

  // Update
  function updatePagn(_plugin) {
    var width =
      (100 / _plugin.$carouselItem.length) * (_plugin.currentIndex + 1);
    var ariaTxt =
      setNum(_plugin.currentIndex + 1) +
      ' of ' +
      setNum(_plugin.$carouselItem.length);

    _plugin.$control
      .find('.md_cont_bar_st')
      .text(setNum(_plugin.currentIndex + 1));
    _plugin.$control.find('.bar p').css('width', width + '%');
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  this.init();
}
fo.addPlugin(M06_C);

/** M06_D | People 1 */
function M06_D(el) {
  _proto = M06_D.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$carousel = this.$el.find('.slider_cont');
  this.$carouselItem = this.$el.find('.slider_cont .item');
  this.$pagn = this.$el.find('.carousel-pagn');
  this.$control = {
    wrap: this.$el.find('.md_play'),
    playBtn: this.$el.find('.md_btn_play'),
    stopBtn: this.$el.find('.md_btn_stop'),
  };
  this.$arrowNav = this.$el.find('.carousel-nav');
  this.$prevBtn = this.$arrowNav.find('.carousel-prev');
  this.$nextBtn = this.$arrowNav.find('.carousel-next');
  this.$keyBtn = this.$el.find('.md_btn_box a'); //202304-01 웹접근 추가
  this.mhItems;
  this.$txtArea = this.$carousel.find('.md_tit');

  var _this = this; // M06_D
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var mhTarget = ['.md_tit'];
  var lang = $('html').attr('lang') || 'en';
  var stopChk = false;

  _proto.init = function () {
    //console.log("init:: M06_D")

    // Device type check
    deviceType = checkDeviceType();

    this.$el.find('.M06_D_cont').addClass('m' + this.$carouselItem.length);

    //if(this.$carouselItem.length < 2) return;

    setCarousel(this);
    // updatePagnAria(this); //202304-01 웹접근 : 삭제

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    _this.$carouselItem.each(function (i, e) {
      if ($(e).hasClass('slick-active')) {
        $(e).attr({ tabindex: '', 'aria-hidden': 'false' });
        $(e).find('a').attr({ tabindex: '', 'aria-hidden': '' });
      }
    });

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        // updatePagnAria(_this); //202304-01 웹접근 : 삭제
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$control.stopBtn.on('click', function (e) {
      e.preventDefault();
      stopChk = true;
      sequenceControl(_this, 'STOP', true);
      return false;
    });

    _this.$control.playBtn.on('click', function (e) {
      e.preventDefault();
      stopChk = false;
      sequenceControl(_this, 'PLAY', true);
      return false;
    });

    _this.$prevBtn.on('click', function (e) {
      e.preventDefault();
      stopChk = true;
      // sequenceControl(_this, "STOP", true);
      //var currentSlide = _this.$carousel.slick('slickCurrentSlide');
      _this.$carousel.slick('slickPrev');
      mobileSlide_btnFocus(_this);
      return false;
    });
    _this.$nextBtn.on('click', function (e) {
      e.preventDefault();
      stopChk = true;
      // sequenceControl(_this, "STOP", true);
      //var currentSlide = _this.$carousel.slick('slickCurrentSlide');
      _this.$carousel.slick('slickNext');
      mobileSlide_btnFocus(_this);
      return false;
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function mobileSlide_btnFocus(_plugin) {
    switch (deviceType) {
      case 'PC':
        break;
      case 'TABLET':
      case 'MOBILE':
        _this.$carousel.find('.item.slick-current').find('a').focus();
        break;
      // default:
      //     break;
    }
  }

  function setCarousel(_plugin) {
    _plugin.$carousel.on('init', function (e, slick, currentSlide, nextSlide) {
      initPagn(e, _plugin, slick, currentSlide);
      _plugin.$carousel.addClass('act');

      /** 202304-01 웹접근 추가 : 키보드 접근 slide init */
      var currentSlideView = $(slick.$slides.get(0)); //currentSlide
      $(slick.$slides).each(function (i, e) {
        if ($(e).hasClass('slick-active')) {
          $(e).attr({ tabindex: '', 'aria-hidden': 'false' });
        } else {
          $(e).attr('aria-hidden', 'true');
          $(e).find('a').attr({ tabindex: '-1', 'aria-hidden': 'true' });
        }
      });
      _plugin.$keyBtn.on('keydown', function (e) {
        if (e.shiftKey && e.keyCode === 9) {
          // $(':focus').blur(); //빽탭키 이용시 바로가기 버튼에 가면 포커스 날림
          // return false;
        } else if (e.keyCode === 9) {
          currentSlideView.find('a').focus();
          return false;
        }
      });
      /** 202304-01 //웹접근 추가 : 키보드 접근 */
    });

    _plugin.$carousel.slick({
      accessibility: true, //202304-01 웹접근 수정 : tabindex 삭제 false
      slidesToShow: 2,
      autoplay: true,
      autoplaySpeed: 2000,
      arrows: true,
      prevArrow: _plugin.$prevBtn,
      nextArrow: _plugin.$nextBtn,
      pauseOnHover: true,
      pauseOnFocus: true,
      variableWidth: true,
      swipeToSlide: true,
      responsive: [
        {
          breakpoint: 1024,
          settings: {
            accessibility: true, //202304-01 웹접근 수정 : tabindex 삭제 false
            slidesToShow: 1,
            centerMode: true,
            swipeToSlide: true,
            speed: 200,
            swipe: true,
            autoplay: false,
            pauseOnHover: false,
            pauseOnFocus: false,
          },
        },
      ],
    });

    _plugin.$carousel.on(
      'afterChange',
      function (e, slick, currentSlide, direction) {
        var currentSlideView = $(slick.$slides.get(currentSlide));

        updatePagn(e, _plugin, slick, currentSlide);
        _plugin.$carousel.removeClass('act');

        //slick 웹접근 accessibility: true,로 해서 자동으로 after 됐을시 tabIndex가 강제로 먹어서 시간차로 조정
        setTimeout(function () {
          /** 202304-01 웹접근 추가 : 키보드 접근 slide afterChange */
          $(slick.$slides).each(function (i, e) {
            if ($(e).hasClass('slick-active')) {
              $(e).attr({ tabindex: '', 'aria-hidden': 'false' });
              $(e).find('a').attr({ tabindex: '0', 'aria-hidden': 'false' });
            } else {
              $(e).attr({ tabindex: '-1', 'aria-hidden': 'true' });
              $(e).find('a').attr({ tabindex: '-1', 'aria-hidden': 'true' });
            }
          });
        }, 100);

        _plugin.$keyBtn.on('keydown', function (e) {
          if (e.shiftKey && e.keyCode === 9) {
            // return false;
          } else if (e.keyCode === 9) {
            currentSlideView.find('a').focus();
            return false;
          }
        });
        /** //202304-01 웹접근 추가 : 키보드 접근 slide afterChange */
      },
    );
    _plugin.$carousel.on(
      'beforeChange',
      function (e, slick, currentSlide, direction) {
        updatePagn(e, _plugin, slick, currentSlide);
        _plugin.$carousel.removeClass('act');
      },
    );
  }

  function initPagn(e, _plugin, slick, currentSlide) {
    var activeIndex = (currentSlide ? currentSlide : 0) + 1;
    var barWidth = (100 / slick.slideCount) * activeIndex;

    _plugin.$pagn.find('.carousel-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.carousel-pagn-st').text(setNum(activeIndex));
    _plugin.$pagn.find('.carousel-pagn-ed').text(setNum(slick.slideCount));
  }

  function updatePagn(e, _plugin, slick, currentSlide) {
    var activeIndex = (currentSlide ? currentSlide : 0) + 1;
    var barWidth = (100 / slick.slideCount) * activeIndex;

    if (isNaN(activeIndex)) return;

    _plugin.$pagn.find('.carousel-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.carousel-pagn-st').text(setNum(activeIndex));
  }

  function updatePagnAria(_plugin) {
    switch (deviceType) {
      case 'PC':
        _plugin.$carouselItem.length < 4
          ? _plugin.$pagn.attr('aria-live', 'off') // 1,2,3
          : _plugin.$pagn.attr('aria-live', 'polite'); // 4,5,6,7...
        break;
      case 'TABLET':
      case 'MOBILE':
        _plugin.$carouselItem.length < 2
          ? _plugin.$pagn.attr('aria-live', 'off') // 1
          : _plugin.$pagn.attr('aria-live', 'polite'); // 2,3,4,5,6,7...
        break;
      // default:
      //     break;
    }
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  // Sequence Control: play, stop
  function sequenceControl(_plugin, option, changeFocus) {
    switch (option) {
      case 'PLAY':
        _this.$carousel.slick('slickPlay');
        _plugin.$control.wrap.removeClass('on');
        break;
      case 'STOP':
        _this.$carousel.slick('slickPause');
        _plugin.$control.wrap.addClass('on');
        break;
      // default:
      //     break;
    }
  }

  /** 텍스트 주변 높이 */
  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$carousel.find(target);
    });
  }

  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };
    switch (deviceType) {
      case 'PC':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        _plugin.$txtArea.find('em').matchHeight(opt.init);
        break;
      case 'TABLET':
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        _plugin.$txtArea.find('em').matchHeight(opt.remove);
        break;
      // default:
      //     break;
    }
  }
  /** 텍스트 주변 높이 */
  this.init();
}
fo.addPlugin(M06_D);

/** M06_E | People 1 */
function M06_E(el) {
  _proto = M06_E.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;

  this.$carousel = this.$el.find('.slider_cont');
  this.$carouselItem = this.$el.find('.slider_cont .item');
  this.$carouselRealItem = this.$el.find('.slider_cont .item');

  this.$pagn = {
    wrap: this.$el.find('.carousel-pagn'),
    st: this.$el.find('.carousel-pagn-st'),
    ed: this.$el.find('.carousel-pagn-ed'),
    bar: this.$el.find('.carousel-pagn-bar p'),
  };

  this.$control = {
    wrap: this.$el.find('.md_play'),
    playBtn: this.$el.find('.md_btn_play'),
    stopBtn: this.$el.find('.md_btn_stop'),
  };

  this.$nav = {
    wrap: this.$el.find('.carousel-nav'),
    prevBtn: this.$el.find('.carousel-prev'),
    nextBtn: this.$el.find('.carousel-next'),
  };

  this.$cloneNum = 0;

  this.$animate = null;
  this.$beforeSelectedIndex = null;
  this.$selectedIndex = null;

  this.$isPaused = false;
  this.$isStop = false;

  var _this = this;
  var deviceType;
  var resizeTimer;
  var $smoothScroll = null;
  var tickerSpeed = 1.5;
  var flkty = null;

  let isLogistics = el.closest('.MP_logistics').length > 0;

  _proto.init = function () {
    deviceType = checkDeviceType();

    if (_this.$carouselRealItem.length <= 1) {
      _this.$el
        .find('.M06_E_cont')
        .addClass(`m${_this.$carouselItem.length} notloop`);
      _this.$el.find('.navigation').remove();
      return;
    }

    setCarouselItemClone();
    setCarousel(this);
    updateSlideByDevice(this);
    getMaxHeight();

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();

      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateSlideByDevice(_this);
        updateAccessibility();
        getMaxHeight();
      }
      window.cancelAnimationFrame(_this.$animate); // animation kill
      setSlideUpdate(_this);
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    clickEvent();
    KeyboardEvent();
    keyboardFocusEvent();

    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setCarouselItemClone() {
    const handleCloneNode = function () {
      for (let i = 0; i < _this.$carouselRealItem.length; i++) {
        const clone = _this.$carouselRealItem[i].cloneNode(true);
        clone.classList.add('cloneNode');
        _this.$el.find('.slider_cont').append(clone);
      }
      _this.$cloneNum++;
      _this.$carousel = _this.$el.find('.slider_cont');
      _this.$carouselItem = _this.$el.find('.slider_cont .item');
    };

    while (
      _this.$carouselItem.length <= 6 &&
      _this.$carouselRealItem.length >= 2
    ) {
      handleCloneNode();
    }
  }

  function setCarousel(_plugin) {
    $smoothScroll = _plugin.$carousel.flickity({
      accessibility: true,
      autoPlay: false,
      prevNextButtons: false,
      pageDots: false,
      draggable: true,
      wrapAround: true,
      selectedAttraction: 0.015,
      friction: 0.25,
      resize: true,
      on: {
        ready() {
          updatePagn(_plugin, this);
          updateAccessibility();
        },
        change(event) {
          updatePagn(_plugin, this);
          updateAccessibility(event);

          _this.activeIdx = event;
        },
      },
    });

    $smoothScroll.x = 0;
    flkty = $smoothScroll.data('flickity');

    setSlideUpdate(_plugin);
  }

  function updatePagn(_plugin, slider) {
    const data = {
      carousel: _this.$carousel,
      slides: _this.$carouselItem.length,
      activeIdx: slider.selectedIndex,
      element: {
        st: _this.$pagn.st,
        ed: _this.$pagn.ed,
        bar: _this.$pagn.bar,
      },
      clone: _this.$cloneNum,
    };
    slide.setPagn(_this, data);
  }

  function setSlideUpdate(_plugin) {
    if (_this.$isPaused || _this.$isStop) return;

    if (flkty.slides) {
      flkty.x = (flkty.x - tickerSpeed) % flkty.slideableWidth;
      flkty.selectedIndex = flkty.dragEndRestingSelect();
      flkty.settle(flkty.x);

      _this.$selectedIndex = flkty.selectedIndex;

      if (_this.$beforeSelectedIndex !== _this.$selectedIndex) {
        _this.$beforeSelectedIndex = _this.$selectedIndex;

        flkty.updateSelectedSlide();
        updatePagn(_plugin, flkty);
        updateAccessibility();
      }
    }
    _this.$animate = requestAnimationFrame(setSlideUpdate);
  }

  function sequenceControl(_plugin, option, changeFocus) {
    const data = {
      carousel: _this.$carousel,
      option: option,
      changeFocus: changeFocus,
      element: {
        wrap: _this.$control.wrap,
        playBtn: _this.$control.playBtn,
        stopBtn: _this.$control.stopBtn,
      },
    };

    switch (option) {
      case 'PLAY':
        if (_this.$isStop) return;
        if (_this.$isPaused) return;

        window.cancelAnimationFrame(_this.$animate);
        setSlideUpdate(_this);

        slide.setControlAttr(_this, data);

        break;
      case 'STOP':
        slide.setControlAttr(_this, data);

        break;
      default:
        break;
    }
  }

  function updateSlideByDevice(_plugin) {
    switch (deviceType) {
      case 'PC':
        _this.$isPaused = false;
        _this.$isStop = false;
        sequenceControl(_this, 'PLAY', false);
        break;
      case 'TABLET':
      case 'MOBILE':
        _this.$isPaused = true;
        _this.$isStop = true;
        sequenceControl(_this, 'STOP', false);
        break;
      default:
    }
  }

  function updateAccessibility() {
    setTimeout(() => {
      const data = {
        carousel: _this.$carousel,
        slides: _this.$carousel.find('.item'),
        activeSlides: [$(flkty.selectedElements)],
      };
      slide.setSlideItemAttr(_this, data);
    }, 5);
  }

  function clickEvent() {
    _this.$control.stopBtn.on('click', function () {
      _this.$isStop = true;
      sequenceControl(_this, 'STOP', true);
    });
    _this.$control.playBtn.on('click', function () {
      _this.$isStop = false;
      sequenceControl(_this, 'PLAY', true);
    });

    _this.$nav.prevBtn.on('click', function () {
      _this.$isStop = true;
      $smoothScroll.flickity('previous');
      sequenceControl(_this, 'STOP', false);
    });
    _this.$nav.nextBtn.on('click', function () {
      _this.$isStop = true;
      $smoothScroll.flickity('next');
      sequenceControl(_this, 'STOP', false);
    });
  }

  function KeyboardEvent() {
    _this.$carousel.on('keydown', function (e) {
      let flag = false;

      if (e.keyCode === 37) {
        _this.$isStop = true;
        flag = true;
        $smoothScroll.flickity('previous');
        sequenceControl(_this, 'STOP', false);
        _this.$carouselItem.eq(flkty.selectedIndex).find('a, button').focus();
      } else if (e.keyCode === 39) {
        _this.$isStop = true;
        flag = true;
        $smoothScroll.flickity('next');
        sequenceControl(_this, 'STOP', false);
        _this.$carouselItem.eq(flkty.selectedIndex).find('a, button').focus();
      }
      if (flag) {
        e.stopPropagation();
        e.preventDefault();
      }
    });
  }

  function keyboardFocusEvent() {
    if (isLogistics) return;

    _this.$carousel.on('focusin', function (e) {
      _this.$isPaused = true;
      sequenceControl(_this, 'STOP', false);
    });

    _this.$carousel.on('focusout', function () {
      _this.$isPaused = false;
      sequenceControl(_this, 'PLAY', false);
    });
  }

  function getMaxHeight() {
    _this.$carousel.find('.md_tit').css({ height: '' });
    _this.$carousel.find('.md_txt').css({ height: '' });

    const titH = _this.$carousel
      .find('.md_tit')
      .map((i, a) => a.scrollHeight)
      .sort((a, b) => b - a)[0];
    const txtH = _this.$carousel
      .find('.md_txt')
      .map((i, a) => a.scrollHeight)
      .sort((a, b) => b - a)[0];

    _this.$carousel.find('.md_tit').css({ height: `${titH}px` });
    _this.$carousel.find('.md_txt').css({ height: `${txtH}px` });
  }

  this.init();
}
fo.addPlugin(M06_E);

/** M06_F | Relation Offering */
function M06_F(el) {
  _proto = M06_F.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$carousel = this.$el.find('.owl-carousel');
  this.$carouselItem = this.$el.find('.owl-carousel .item');
  this.$pagn = this.$el.find('.owl-pagn');
  this.$control = {
    wrap: this.$el.find('.md_play'),
    playBtn: this.$el.find('.md_btn_play'),
    stopBtn: this.$el.find('.md_btn_stop'),
    prevBtn: this.$el.find('.owl-prev'),
    nextBtn: this.$el.find('.owl-next'),
  };

  var _this = this; // M06_F
  var deviceType; // "PC_LARGE", "PC_MEDIUM", "PC_SMALL", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';
  var stopChk = false;
  var mhTarget = ['.b_title', '.s_txt'];

  _proto.init = function () {
    //console.log("init:: M06_F")
    // Device type check
    deviceType = checkDeviceType();

    this.$el.find('.M06_F_cont').addClass('m' + this.$carouselItem.length);

    if (this.$carouselItem.length < 2) return;

    if (this.$carouselItem.length > 3) {
      this.$el.find('.M06_F_cont').addClass('itemMax');
    }

    updateCarousel(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarousel(_this);
      }
    }, 100);

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    /* 210510 | 접근성 | 모바일 활성화 Nav */
    _this.$el.find('.owl-navm button').on('click', function (e) {
      e.stopPropagation();

      if ($(this).hasClass('owl-prevm')) {
        _this.$carousel.trigger('prev.owl.carousel');
        _this.$carousel.find('.owl-item.active.center').get(0).focus();
      } else if ($(this).hasClass('owl-nextm')) {
        _this.$carousel.trigger('next.owl.carousel');
        _this.$carousel.find('.owl-item.active.center').get(0).focus();
      }
    });
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    // 슬라이드 play,stop 버튼
    _this.$control.stopBtn.on('click', function (e) {
      e.preventDefault();
      _this.$carousel.find('.owl-item').attr('data-slideStop', true);

      stopChk = true;
      sequenceControl(_this, 'STOP', true);
      return false;
    });
    _this.$control.playBtn.on('click', function (e) {
      e.preventDefault();
      _this.$carousel.find('.owl-item').attr('data-slideStop', '');

      stopChk = false;
      sequenceControl(_this, 'PLAY', true);
      return false;
    });

    // 슬라이드 arrow 버튼
    _this.$control.prevBtn.on('click', function (e) {
      // console.log("prev click");
      e.preventDefault();
      arrowBtnControl(_this, 'PREV', true);

      if (_this.$carousel.find('.owl-item').attr('data-slideStop') == 'true') {
        sequenceControl(_this, 'STOP', true);
      }
      return false;
    });
    _this.$control.nextBtn.on('click', function (e) {
      e.preventDefault();
      arrowBtnControl(_this, 'NEXT', true);

      if (_this.$carousel.find('.owl-item').attr('data-slideStop') == 'true') {
        sequenceControl(_this, 'STOP', true);
      }
      return false;
    });
    _this.$control.prevBtn
      .add(_this.$control.nextBtn)
      .on('mouseover', function (e) {
        sequenceControl(_this, 'STOP', true);
      });
    _this.$control.prevBtn
      .add(_this.$control.nextBtn)
      .on('mouseleave', function (e) {
        sequenceControl(_this, 'PLAY', true);
        if (
          _this.$carousel.find('.owl-item').attr('data-slideStop') == 'true'
        ) {
          sequenceControl(_this, 'STOP', true);
        }
      });

    /** 모달 팝업이 클릭됐을때 slide stop */
    $(document).on('click', '.is_showPopup', function (e) {
      sequenceControl(_this, 'STOP', true);
    });
    /** 모달 팝업 닫기 버튼을 클릭됐을때 slide play */
    $(document).on('click', '.is_closePopup', function (e) {
      sequenceControl(_this, 'PLAY', true);
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$carouselItem.find(target);
    });
  }

  // Update Match Height Item
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };
    for (idx = 0; idx < len; idx++) {
      el.find('.M06_F_cont .owl-item .b_title').matchHeight(opt.init);
      el.find('.M06_F_cont .owl-item .s_txt').matchHeight(opt.init);
      el.find('.M06_F_cont .owl-item .bullet_list').matchHeight(opt.init);
      el.find('.M06_F_cont .owl-item .link_box').matchHeight(opt.init);
    }
  }

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setCarousel(_plugin) {
    if (_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    _plugin.$carousel.owlCarousel({
      autoplay: true,
      autoplayTimeout: 3000,
      autoplaySpeed: 700, //넘어가는 속도
      autoplayHoverPause: true,
      stopOnHover: true,
      autoWidth: false,
      loop: true,
      nav: false,
      dots: false,
      items: 2, //기존3씩 나오던 item pc에서는 2개씩 나오게 수정
      singleItem: true,
      responsive: {
        0: {
          margin: 10, //mobile
          items: 3, //모바일에선 기존 3개씩
          autoWidth: true,
          center: true,
          autoplay: false,
          autoplayHoverPause: false,
        },
        1023: {
          margin: 16, //pc
        },
      },
      onInitialized: function (e) {
        initPagn(e, _plugin);
        setAriaHidden(e, _plugin);
        _plugin.$carousel.addClass('act');
      },
      onRefreshed: function (e) {
        // FIREFOX
        initPagn(e, _plugin);
        _plugin.$carousel.addClass('act');
      },
      onChanged: function (e) {
        updatePagn(e, _plugin);
        _plugin.$carousel.removeClass('act');
        setAriaHidden(e, _plugin); /* 210510 | 접근성 | 모바일 활성화 Nav */
      },
      onResized: function (e) {
        if (
          _plugin.$carousel.find('.owl-item').attr('data-slideStop') == 'true'
        ) {
          sequenceControl(_plugin, 'STOP', true);
        }
        _plugin.$carousel.removeClass('act');
      },
    });
  }

  function updateCarousel(_plugin) {
    switch (deviceType) {
      case 'PC':
        _plugin.$carouselItem.length < 3 //3개 였을때 슬라이드 비활성화 되던 수정내용 삭제
          ? destroyCarousel(_plugin) // 1,2
          : setCarousel(_plugin); // 3,4,5,6,7...
        break;
      case 'TABLET':
      case 'MOBILE':
        _plugin.$carouselItem.length < 2
          ? destroyCarousel(_plugin) // 1
          : setCarousel(_plugin); // 2,3,4,5,6,7...
        break;
      // default:
      //     break;
    }
  }

  function initPagn(e, _plugin) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;

    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
    _plugin.$pagn.find('.owl-pagn-ed').text(setNum(e.item.count));
  }

  function updatePagn(e, _plugin) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;

    if (isNaN(activeIndex)) return;

    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
  }

  function destroyCarousel(_plugin) {
    if (!_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    _plugin.$carousel.owlCarousel('destroy');
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  // Sequence Control: play, stop
  function sequenceControl(_plugin, option, changeFocus) {
    const isMobile = $('html').attr('data-device') === 'mobile';
    switch (option) {
      case 'PLAY':
        if (isMobile) return;
        _this.$carousel.trigger('play.owl.autoplay');
        _plugin.$control.wrap.removeClass('on');
        break;
      case 'STOP':
        _this.$carousel.trigger('stop.owl.autoplay');
        _plugin.$control.wrap.addClass('on');
        break;
      // default:
      //     break;
    }
  }
  // slide left right button
  function arrowBtnControl(_plugin, option, changeFocus) {
    switch (option) {
      case 'PREV':
        _this.$carousel.trigger('prev.owl.carousel');
        break;
      case 'NEXT':
        _this.$carousel.trigger('next.owl.carousel');
        break;
      // default:
      //     break;
    }
  }

  function setAriaHidden(e, _plugin) {
    // 모든 owl-item의 a 태그와 arrow_btn 내의 a 태그를 비활성화
    $(e.target)
      .find('.owl-item')
      .add($(e.target).find('.owl-item .md_btn a'))
      .add($(e.target).find('.arrow_btn a'))
      .attr({ 'aria-hidden': true, tabindex: -1 });

    setTimeout(function () {
      var activeEls =
        deviceType === 'MOBILE'
          ? $(e.target).find('.owl-item.active, .owl-item.active.center')
          : $(e.target).find('.owl-item.active');

      // active 및 center 클래스가 붙은 슬라이드의 a 태그와 arrow_btn 내의 a 태그를 활성화
      activeEls
        .add(activeEls.find('.md_btn a'))
        .add(activeEls.find('.arrow_btn a'))
        .attr({ 'aria-hidden': false, tabindex: '' });
    }, 100);
  }

  this.init();
}
fo.addPlugin(M06_F);

/** M06_H */
function M06_H(el) {
  _proto = M06_H.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$slickSlide = this.$el.find('.slider_cont');
  this.$slickItem = this.$slickSlide.find('.item');
  this.$pagn = this.$el.find('.carousel-pagn');
  this.$control = {
    wrap: this.$el.find('.md_play'),
    playBtn: this.$el.find('.md_btn_play'),
    stopBtn: this.$el.find('.md_btn_stop'),
  };
  this.$arrowNav = this.$el.find('.carousel-nav');
  this.$prevBtn = this.$arrowNav.find('.slick-prev');
  this.$nextBtn = this.$arrowNav.find('.slick-next');

  var _this = this;
  var deviceType;
  var resizeTimer;

  var isPause;

  _proto.init = function () {
    //console.log("init:: M06_H")
    // Device type check
    deviceType = checkDeviceType();

    updateSlick(this);
    webAcc(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateSlick(_this);
        webAcc(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$control.stopBtn.on('click', function (e) {
      e.preventDefault();
      isPause = true;
      sequenceControl(_this, 'STOP');
      return false;
    });
    _this.$control.playBtn.on('click', function (e) {
      e.preventDefault();
      isPause = false;
      sequenceControl(_this, 'PLAY');
      return false;
    });

    _this.$prevBtn.on('click', function (e) {
      e.preventDefault();
      _this.$slickSlide.slick('slickPrev');
      return false;
    });
    _this.$nextBtn.on('click', function (e) {
      e.preventDefault();
      _this.$slickSlide.slick('slickNext');
      return false;
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else {
      return 'MOBILE';
    }
  }

  function setSlider(_plugin) {
    _plugin.$slickSlide.on('init', function (e, slick, currentSlide) {
      _plugin.$slickSlide.closest('.inner').removeClass('no_slide');
      initPagn(e, _plugin, slick, currentSlide);
    });
    _plugin.$slickSlide.not('.slick-initialized').slick({
      accessibility: true,
      slidesToShow: 2,
      slidesToScroll: 1,
      autoplay: true,
      speed: 300,
      autoplaySpeed: 2000,
      arrows: false,
      prevArrow: _plugin.$prevBtn,
      nextArrow: _plugin.$nextBtn,
      pauseOnHover: true,
      pauseOnFocus: true,
      variableWidth: true,
      swipeToSlide: true,
      touchThreshold: 100,
      responsive: [
        {
          breakpoint: 1024,
          settings: {
            slidesToShow: 1,
            centerMode: true,
            autoplay: false,
            pauseOnHover: false,
            pauseOnFocus: false,
          },
        },
      ],
    });

    _plugin.$slickSlide.on(
      'afterChange',
      function (e, slick, currentSlide, direction) {
        updatePagn(e, _plugin, slick, currentSlide);
        webAcc(_plugin);
      },
    );
  }

  //unslick 슬라이드 해제
  function unslickSlider(_plugin) {
    _plugin.$slickSlide.filter('.slick-initialized').slick('unslick');
    _plugin.$slickSlide.closest('.inner').addClass('no_slide');
    _plugin.$slickItem.removeAttr('tabindex');
  }

  function webAcc(_plugin) {
    var all_item = _plugin.$el.find('.slider_cont .item');
    setTimeout(function () {
      all_item.each(function (i, e) {
        if (
          $(e).hasClass('slick-active') ||
          _plugin.$el.find('.inner').is('.no_slide')
        ) {
          $(e).attr({ tabindex: '', 'aria-hidden': 'false' });
          $(e).find('a').attr({ tabindex: '0', 'aria-hidden': 'false' });
        } else {
          $(e).attr({ tabindex: '-1', 'aria-hidden': 'true' });
          $(e).find('a').attr({ tabindex: '-1', 'aria-hidden': 'true' });
        }
      });
    }, 100);
  }

  function initPagn(e, _plugin, slick, currentSlide) {
    var activeIndex = (currentSlide ? currentSlide : 0) + 1;
    var barWidth = (100 / slick.slideCount) * activeIndex;

    _plugin.$pagn.find('.carousel-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.carousel-pagn-st').text(setNum(activeIndex));
    _plugin.$pagn.find('.carousel-pagn-ed').text(setNum(slick.slideCount));
  }

  function updatePagn(e, _plugin, slick, currentSlide) {
    var activeIndex = (currentSlide ? currentSlide : 0) + 1;
    var barWidth = (100 / slick.slideCount) * activeIndex;

    _plugin.$pagn.find('.carousel-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.carousel-pagn-st').text(setNum(activeIndex));
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  //slick slider 반응형 조건
  function updateSlick(_plugin) {
    switch (deviceType) {
      case 'PC':
        if (_plugin.$slickItem.length <= 2) {
          unslickSlider(_plugin); //.item 2개 이하였을때 slick 비활성
        } else {
          setSlider(_plugin); //slick 활성
          if (isPause == true) {
            sequenceControl(_this, 'STOP');
          } else {
            sequenceControl(_this, 'PLAY');
          }
        }
        break;
      case 'MOBILE':
        if (_plugin.$slickItem.length <= 1) {
          unslickSlider(_plugin);
        } else {
          setSlider(_plugin);
          _plugin.$slickSlide.slick('slickGoTo', 0);
          sequenceControl(_this, 'STOP');
        }
        break;
      // default:
      //     break;
    }
  }

  // Sequence Control: play, stop
  function sequenceControl(_plugin, option) {
    switch (option) {
      case 'PLAY':
        _this.$slickSlide.slick('slickPlay');
        _plugin.$control.wrap.removeClass('on');
        break;
      case 'STOP':
        _this.$slickSlide.slick('slickPause');
        _plugin.$control.wrap.addClass('on');
        break;
      // default:
      //     break;
    }
  }
  this.init();
}

fo.addPlugin(M06_H);

/** M06_J */
function M06_J(el) {
  _proto = M06_J.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$slickSlide = this.$el.find('.slider_cont');
  this.$slickItem = this.$slickSlide.find('.item');
  this.$pagn = this.$el.find('.carousel-pagn');
  this.$control = {
    wrap: this.$el.find('.md_play'),
    playBtn: this.$el.find('.md_btn_play'),
    stopBtn: this.$el.find('.md_btn_stop'),
  };
  this.$arrowNav = this.$el.find('.carousel-nav');
  this.$prevBtn = this.$arrowNav.find('.slick-prev');
  this.$nextBtn = this.$arrowNav.find('.slick-next');

  var _this = this; // M06_J
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;

  var isPause; //슬라이드 autoPlay 정지 활성화 되었을때, 리사이징시 슬라이드 auto로 풀리는 이슈 제어

  _proto.init = function () {
    //console.log("init:: M06_J")
    // Device type check
    deviceType = checkDeviceType();

    updateSlick(this); // 슬라이드 함수 포함되어 있음
    webAcc(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateSlick(_this); // 슬라이드 함수 포함되어 있음
        webAcc(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$control.stopBtn.on('click', function (e) {
      e.preventDefault();
      isPause = true;
      sequenceControl(_this, 'STOP');
      return false;
    });
    _this.$control.playBtn.on('click', function (e) {
      e.preventDefault();
      isPause = false;
      sequenceControl(_this, 'PLAY');
      return false;
    });

    _this.$prevBtn.on('click', function (e) {
      e.preventDefault();
      _this.$slickSlide.slick('slickPrev');
      return false;
    });
    _this.$nextBtn.on('click', function (e) {
      e.preventDefault();
      _this.$slickSlide.slick('slickNext');
      return false;
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else {
      return 'MOBILE';
    }
  }

  function setSlider(_plugin) {
    _plugin.$slickSlide.on('init', function (e, slick, currentSlide) {
      // console.log("init")
      _plugin.$slickSlide.closest('.inner').removeClass('no_slide');
      initPagn(e, _plugin, slick, currentSlide);
      // webAcc(_plugin);
    });
    _plugin.$slickSlide.not('.slick-initialized').slick({
      accessibility: true,
      // infinite: true,
      // slidesToShow: _plugin.$slickItem.length == 2 ? 1 : 2,
      slidesToShow: 2, // 슬라이드 개수가 2개면 infinite가 되지 않아 개수체크 조건 추가
      slidesToScroll: 1,
      autoplay: true,
      speed: 300,
      autoplaySpeed: 2000,
      arrows: false,
      prevArrow: _plugin.$prevBtn,
      nextArrow: _plugin.$nextBtn,
      pauseOnHover: true,
      pauseOnFocus: true,
      variableWidth: true,
      swipeToSlide: true,
      touchThreshold: 100,
      responsive: [
        {
          breakpoint: 1024,
          settings: {
            slidesToShow: 1,
            centerMode: true,
            autoplay: false,
            pauseOnHover: false,
            pauseOnFocus: false,
          },
        },
      ],
    });

    _plugin.$slickSlide.on(
      'afterChange',
      function (e, slick, currentSlide, direction) {
        // console.log("after")
        updatePagn(e, _plugin, slick, currentSlide);
        webAcc(_plugin);
      },
    );
  }

  //unslick 슬라이드 해제
  function unslickSlider(_plugin) {
    _plugin.$slickSlide.filter('.slick-initialized').slick('unslick');
    _plugin.$slickSlide.closest('.inner').addClass('no_slide');
    _plugin.$slickItem.removeAttr('tabindex');
  }

  // 웹접근 tabindex : 0, aria-hidden
  function webAcc(_plugin) {
    // console.log("웹접근 데이터 속성", _plugin.$el)
    var all_item = _plugin.$el.find('.slider_cont .item');
    setTimeout(function () {
      all_item.each(function (i, e) {
        if (
          $(e).hasClass('slick-active') ||
          _plugin.$el.find('.inner').is('.no_slide')
        ) {
          $(e).attr({ tabindex: '', 'aria-hidden': 'false' });
          $(e).find('a').attr({ tabindex: '0', 'aria-hidden': 'false' });
        } else {
          $(e).attr({ tabindex: '-1', 'aria-hidden': 'true' });
          $(e).find('a').attr({ tabindex: '-1', 'aria-hidden': 'true' });
        }
      });
    }, 100);
  }

  function initPagn(e, _plugin, slick, currentSlide) {
    var activeIndex = (currentSlide ? currentSlide : 0) + 1;
    var barWidth = (100 / slick.slideCount) * activeIndex;

    _plugin.$pagn.find('.carousel-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.carousel-pagn-st').text(setNum(activeIndex));
    _plugin.$pagn.find('.carousel-pagn-ed').text(setNum(slick.slideCount));
  }

  function updatePagn(e, _plugin, slick, currentSlide) {
    var activeIndex = (currentSlide ? currentSlide : 0) + 1;
    var barWidth = (100 / slick.slideCount) * activeIndex;

    _plugin.$pagn.find('.carousel-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.carousel-pagn-st').text(setNum(activeIndex));
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  //slick slider 반응형 조건
  function updateSlick(_plugin) {
    switch (deviceType) {
      case 'PC':
        if (_plugin.$slickItem.length <= 2) {
          unslickSlider(_plugin); //.item 2개 이하였을때 slick 비활성
        } else {
          setSlider(_plugin); //slick 활성
          if (isPause == true) {
            sequenceControl(_this, 'STOP');
          } else {
            sequenceControl(_this, 'PLAY');
          }
        }
        break;
      case 'MOBILE':
        if (_plugin.$slickItem.length <= 1) {
          unslickSlider(_plugin);
        } else {
          setSlider(_plugin);
          _plugin.$slickSlide.slick('slickGoTo', 0); //실시간 리사이징 됐을때 centerMode에선 슬라이드 위칠를 못잡는 이슈가 있어 강제로 슬라이드를 움직이게 해서 위치값 찾게 해줌
          sequenceControl(_this, 'STOP');
        }
        break;
      // default:
      //     break;
    }
  }

  // Sequence Control: play, stop
  function sequenceControl(_plugin, option) {
    switch (option) {
      case 'PLAY':
        _this.$slickSlide.slick('slickPlay');
        _plugin.$control.wrap.removeClass('on');
        break;
      case 'STOP':
        _this.$slickSlide.slick('slickPause');
        _plugin.$control.wrap.addClass('on');
        break;
      // default:
      //     break;
    }
  }

  this.init();
}

fo.addPlugin(M06_J);

/** main_2024 section5 post **/
function M06_K(el) {
  _proto = M06_K.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$swiper = el.find('.verticalSwiper'); // jQuery 객체
  this.swiper_item = el.find('.swiper-wrapper').find('> li');
  this.btn_ul = el.find('.common-list__control-btns ul');
  this.startIndex = this.data.activeTab || 0;
  this.currentIndex = this.startIndex;
  this.$speed = 0;

  this.$btn_wrap = el.find('.common-list__control');

  this.mhItems;
  this.$arBox = this.$el;
  this.$ar_BoxItem = this.$arBox.find('.item');

  var _this = this; // M06_K
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;

  let autoTimer = this.data.timer ? this.data.timer * 1000 : 5 * 1000; // 데이터 타이머 없을 때 기본 5초 설정 추가

  _proto.init = function () {
    // console.log("init:: M06_K")

    var slideItemLength_check = this.swiper_item.length;
    var lang = document.documentElement.lang || 'ko';

    // 언어별 안내 문구
    var guideText = {
      ko: '이 슬라이드와 슬라이드 버튼은 키보드 좌 우 방향키로 이전, 다음 조작이 가능하며 탭 키로 단계 조작이 가능합니다.',
      en: 'This slide and slide buttons can be controlled using keyboard left/right arrow keys, and the tab key to move to previous/next steps.',
    };

    for (var i = 0; i < slideItemLength_check; i++) {
      var itemNumber = i + 1 < 10 ? `0${i + 1}` : `${i + 1}`;
      var totalNumber =
        slideItemLength_check < 10
          ? `0${slideItemLength_check}`
          : slideItemLength_check;

      // 기본 aria-label 텍스트
      var ariaLabelText =
        lang === 'ko'
          ? `${totalNumber}개 중 ${itemNumber} 번째`
          : `button ${itemNumber} of ${totalNumber}`;

      // 첫 번째 버튼일 때 안내 문구 추가
      if (i === 0) {
        ariaLabelText += ' ' + guideText[lang];
      }

      var itemHTML =
        `<li>` +
        `<div class="common-list__number">${itemNumber}</div>` +
        `<button class="tab" role="button" aria-controls="slick-slide${itemNumber}" aria-label="${ariaLabelText}"  aria-pressed="false"><span></span></button>` +
        `</li>`;

      this.btn_ul.append(itemHTML);
    }

    // Device type check
    deviceType = checkDeviceType();

    this.$el.find('.M06_K_cont').addClass('m' + slideItemLength_check);
    if (slideItemLength_check < 2) return;
    if (slideItemLength_check > 3) {
      this.$el.find('.M06_K_cont').addClass('itemMax');
    }

    createSwiper(this);
    createPost(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        // updateMhItem(this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
      createSwiper(_this);
      createPost(_this);
    });

    setupKeyboardSlideNavigation({
      swiperInstance: _this.$swiper.data('swiperInstance'),
      $swiperContainer: _this.$swiper,
      $buttonWrapper: _this.$btn_wrap,
      $buttons: _this.$btn,
      slideSpeed: _this.$speed,
      onIndexChange: (idx) => {
        _this.currentIndex = idx;
      },
    });
  };

  // Device type check
  function checkDeviceType() {
    // 20250310 메인 슬라이드dot 모바일 이슈 : common_module.js에서 수정
    mainSlideDot_countCheck(_this, _this.btn_ul);
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }
  let cSwiper = undefined;

  /** 공지사항 슬라이드 */
  function createSwiper(_plugin) {
    let swiperBox = _plugin.$el;
    let btnLeft = swiperBox.find('.common-list__control-btn--left');
    let btnRight = swiperBox.find('.common-list__control-btn--right');
    let isPlay = true;
    let itemLength = _plugin.$ar_BoxItem.length;
    // Swiper 인스턴스 생성
    if (
      (itemLength > 3 && window.innerWidth > 1023) ||
      (itemLength > 1 && window.innerWidth < 1024)
    ) {
      if (cSwiper == undefined) {
        _plugin.$swiper.addClass('activeSlide');
        cSwiper = new Swiper('.verticalSwiper', {
          slidesPerView: 3,
          spaceBetween: 26,
          loop: true,
          loopPreventsSlide: true,
          observer: true,
          // observeParents: true,

          autoplay: {
            delay: autoTimer,
            disableOnInteraction: false,
          },

          breakpoints: {
            1023: {
              slidesPerView: 1,
            },
          },

          navigation: {
            nextEl: btnRight,
            prevEl: btnLeft,
          },
        });
      }
    } else {
      if (cSwiper !== undefined) {
        cSwiper.destroy(true, true);
        cSwiper = undefined;
        if (_plugin.$swiper.hasClass('activeSlide')) {
          _plugin.$swiper.removeClass('activeSlide');
        }
      }
    }

    // 생성된 swiper 인스턴스를 jQuery 객체에 저장
    _plugin.$swiper.data('swiperInstance', cSwiper);

    let postItems = swiperBox.find('.item');
    let btns = swiperBox
      .find('.common-list__control-btns')
      .find('li')
      .find('button');
    let activeIndex = 0;
    let playBtn = swiperBox.find('.common-list__control-btn--play');
    _plugin.$btn = btns;

    function playBtnClick($e) {
      isPlay = !isPlay;

      let btnBg = $(btns[activeIndex]).find('span');
      gsap.killTweensOf(btnBg);
      gsap.set(btnBg, { scaleX: 1 });

      if (isPlay) {
        playBtn.removeClass('on');
        playBtn.attr('aria-label', '슬라이드 일시정지');
        gsap.to(btnBg, {
          duration: autoTimer / 1000,
          scaleX: 0,
          ease: Power0.easeInOut,
        });

        cSwiper.autoplay.start();
      } else {
        playBtn.addClass('on');
        cSwiper.autoplay.stop();
        playBtn.attr('aria-label', '슬라이드 자동 재생');
      }
    }

    function showSwiperChange($index) {
      btns.each(function (index) {
        let btnBg = $(this).find('span');
        let btnNum = $(this).parents('li').find('.common-list__number');

        gsap.killTweensOf(btnBg);
        gsap.set(btnBg, { scaleX: 0 });

        if ($index === index) {
          gsap.set(btnBg, { scaleX: 1 });
          btnNum.css('opacity', 1);
          $(this).attr('aria-pressed', 'true');
          if (isPlay) {
            gsap.to(btnBg, {
              duration: autoTimer / 1000,
              scaleX: 0,
              ease: Power0.easeInOut,
            });
          }
        } else {
          btnNum.css('opacity', 0);
          $(this).attr('aria-pressed', 'false');
        }
      });
    }

    function btnClickHandler($e) {
      let idx = $(this).parents('li').index() + postItems.length / 3;
      cSwiper.slideTo(idx);
    }

    function slideChange() {
      activeIndex = cSwiper.realIndex;
      showSwiperChange(activeIndex);
    }

    function slideChangeEnd() {
      postItems.each(function () {
        let item = $(this);
        let btn = item.find('a')[0];
        // 2025 접근성 수정
        let btn_m = item.find('.btn_m')[0];

        btn.tabIndex = item.hasClass('swiper-slide-active') ? 0 : -1;
        if (btn_m) {
          btn_m.tabIndex = item.hasClass('swiper-slide-active') ? 0 : -1;
        }
        // 2025 접근성 수정
      });
    }

    if (cSwiper) {
      cSwiper.on('slideChange', slideChange);
      cSwiper.on('slideChangeTransitionEnd', slideChangeEnd);
      playBtn.on('click', playBtnClick);
      btns.on('click', btnClickHandler);

      slideChangeEnd();
      showSwiperChange(activeIndex);
    }
  }

  function createPost(_plugin) {
    let swiperBox = _plugin.$el;
    let items = swiperBox.find('.item');
    let titleBx = swiperBox.find('.common-title-bx');
    let btn = titleBx.find('.common-btn--bx');

    let postControl = swiperBox.find('.post-control').find('.common-control');
    gsap.timeline({
      scrollTrigger: {
        trigger: swiperBox,
        start: 'top center',
        end: 'top center',
        scrub: true,
        once: true,
        onEnter: () => {
          items.each(function ($index) {
            let item = $(this);
            gsap.fromTo(
              item,
              { x: '20vw', opacity: 0 },
              {
                duration: 1,
                x: 0,
                ease: Cubic.easeOut,
                opacity: 1,
                delay: 0.1 * $index,
              },
            );
          });

          gsap.fromTo(
            postControl,
            { opacity: 0, y: 50 },
            {
              duration: 0.75,
              y: 0,
              ease: Cubic.easeOut,
              opacity: 1,
              delay: 0.8,
            },
          );

          titleBx.find('.common-title__item').each(function (index) {
            let item = $(this);
            let text = item.find('.common-title__text');

            gsap.set(text, { opacity: 1, y: '100%' });
            gsap.to(text, { duration: 0.5, y: 0, ease: Cubic.easeOut });
          });

          gsap.fromTo(
            btn,
            { opacity: 0, y: 30 },
            {
              duration: 0.5,
              delay: 0.35,
              opacity: 1,
              y: 0,
              ease: Cubic.easeOut,
            },
          );
        },
      },
    });
  }
  /** //공지사항 슬라이드 */

  this.init();
}
fo.addPlugin(M06_K);

/** M06_L | slide **/
function M06_L(el) {
  _proto = M06_L.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$swiper = el.find('.verticalSwiper'); // jQuery 객체
  this.swiper_item = el.find('.swiper-wrapper').find('> li');
  this.btn_ul = el.find('.common-list__control-btns ul');
  this.startIndex = this.data.activeTab || 0;
  this.currentIndex = this.startIndex;
  this.$speed = 0;

  this.$btn_wrap = el.find('.common-list__control');

  this.mhItems;
  this.$arBox = this.$el;
  this.$ar_BoxItem = this.$arBox.find('.item');

  var _this = this; // M06_L
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;

  let autoTimer = this.data.timer ? this.data.timer * 1000 : 5 * 1000; // 데이터 타이머 없을 때 기본 5초 설정 추가

  _proto.init = function () {
    // console.log("init:: M06_L")

    var slideItemLength_check = this.swiper_item.length;
    var lang = document.documentElement.lang || 'ko';

    // 언어별 안내 문구
    var guideText = {
      ko: '이 슬라이드와 슬라이드 버튼은 키보드 좌 우 방향키로 이전, 다음 조작이 가능하며 탭 키로 단계 조작이 가능합니다.',
      en: 'This slide and slide buttons can be controlled using keyboard left/right arrow keys, and the tab key to move to previous/next steps.',
    };

    for (var i = 0; i < slideItemLength_check; i++) {
      var itemNumber = i + 1 < 10 ? `0${i + 1}` : `${i + 1}`;
      var totalNumber =
        slideItemLength_check < 10
          ? `0${slideItemLength_check}`
          : slideItemLength_check;

      // 기본 aria-label 텍스트
      var ariaLabelText =
        lang === 'ko'
          ? `${totalNumber}개 중 ${itemNumber} 번째`
          : `button ${itemNumber} of ${totalNumber}`;

      // 첫 번째 버튼일 때 안내 문구 추가
      if (i === 0) {
        ariaLabelText += ' ' + guideText[lang];
      }

      var itemHTML =
        `<li>` +
        `<div class="common-list__number">${itemNumber}</div>` +
        `<button class="tab" role="button" aria-controls="slick-slide${itemNumber}" aria-label="${ariaLabelText}"  aria-pressed="false"><span></span></button>` +
        `</li>`;

      this.btn_ul.append(itemHTML);
    }

    // Device type check
    deviceType = checkDeviceType();

    this.$el.find('.M06_L_cont').addClass('m' + slideItemLength_check);
    if (slideItemLength_check < 2) return;
    if (slideItemLength_check > 3) {
      this.$el.find('.M06_L_cont').addClass('itemMax');
    }

    createSwiper(this);
    createPost(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        // updateMhItem(this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
      createSwiper(_this);
      createPost(_this);
    });

    setupKeyboardSlideNavigation({
      swiperInstance: _this.$swiper.data('swiperInstance'),
      $swiperContainer: _this.$swiper,
      $buttonWrapper: _this.$btn_wrap,
      $buttons: _this.$btn,
      slideSpeed: _this.$speed,
      onIndexChange: (idx) => {
        _this.currentIndex = idx;
      },
    });
  };

  // Device type check
  function checkDeviceType() {
    // 20250310 메인 슬라이드dot 모바일 이슈 : common_module.js에서 수정
    mainSlideDot_countCheck(_this, _this.btn_ul);
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 767) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }
  let cSwiper = undefined;

  /** section6 포스트 슬라이드 */
  function createSwiper(_plugin) {
    let swiperBox = _plugin.$el;
    let btnLeft = swiperBox.find('.common-list__control-btn--left');
    let btnRight = swiperBox.find('.common-list__control-btn--right');
    let isPlay = true;
    let itemLength = _plugin.$ar_BoxItem.length;
    // Swiper 인스턴스 생성
    if (
      (itemLength > 3 && window.innerWidth > 1023) ||
      (itemLength > 1 && window.innerWidth < 1024)
    ) {
      if (cSwiper == undefined) {
        _plugin.$swiper.addClass('activeSlide');
        cSwiper = new Swiper('.verticalSwiper', {
          slidesPerView: 3,
          spaceBetween: 16,
          loop: true,
          loopPreventsSlide: true,
          loopAdditionalSlides: 3,
          observer: true,
          // observeParents: true,

          autoplay: {
            delay: autoTimer,
            disableOnInteraction: false,
          },

          breakpoints: {
            767: {
              slidesPerView: 1,
            },
          },

          navigation: {
            nextEl: btnRight,
            prevEl: btnLeft,
          },
        });
      }
    } else {
      if (cSwiper !== undefined) {
        cSwiper.destroy(true, true);
        cSwiper = undefined;
        if (_plugin.$swiper.hasClass('activeSlide')) {
          _plugin.$swiper.removeClass('activeSlide');
        }
      }
    }

    // 생성된 swiper 인스턴스를 jQuery 객체에 저장
    _plugin.$swiper.data('swiperInstance', cSwiper);

    let postItems = swiperBox.find('.item');
    let btns = swiperBox
      .find('.common-list__control-btns')
      .find('li')
      .find('button');
    let activeIndex = 0;
    let playBtn = swiperBox.find('.common-list__control-btn--play');
    _plugin.$btn = btns;

    function playBtnClick($e) {
      isPlay = !isPlay;

      let btnBg = $(btns[activeIndex]).find('span');
      gsap.killTweensOf(btnBg);
      gsap.set(btnBg, { scaleX: 1 });

      if (isPlay) {
        playBtn.removeClass('on');
        playBtn.attr('aria-label', '슬라이드 일시정지');
        gsap.to(btnBg, {
          duration: autoTimer / 1000,
          scaleX: 0,
          ease: Power0.easeInOut,
        });

        cSwiper.autoplay.start();
      } else {
        playBtn.addClass('on');
        cSwiper.autoplay.stop();
        playBtn.attr('aria-label', '슬라이드 자동 재생');
      }
    }

    function showSwiperChange($index) {
      btns.each(function (index) {
        let btnBg = $(this).find('span');
        let btnNum = $(this).parents('li').find('.common-list__number');

        gsap.killTweensOf(btnBg);
        gsap.set(btnBg, { scaleX: 0 });

        if ($index === index) {
          gsap.set(btnBg, { scaleX: 1 });
          btnNum.css('opacity', 1);
          $(this).attr('aria-pressed', 'true');
          if (isPlay) {
            gsap.to(btnBg, {
              duration: autoTimer / 1000,
              scaleX: 0,
              ease: Power0.easeInOut,
            });
          }
        } else {
          btnNum.css('opacity', 0);
          $(this).attr('aria-pressed', 'false');
        }
      });
    }

    function btnClickHandler($e) {
      let idx = $(this).parents('li').index() + postItems.length / 3;
      cSwiper.slideTo(idx);
    }

    function slideChange() {
      activeIndex = cSwiper.realIndex;
      showSwiperChange(activeIndex);
    }

    function slideChangeEnd() {
      postItems.each(function () {
        let item = $(this);
        let btn = item.find('a')[0];
        // 2025 접근성 수정
        let btn_m = item.find('.btn_m')[0];

        btn.tabIndex = item.hasClass('swiper-slide-active') ? 0 : -1;
        if (btn_m) {
          btn_m.tabIndex = item.hasClass('swiper-slide-active') ? 0 : -1;
        }
        // 2025 접근성 수정
      });
    }

    if (cSwiper) {
      cSwiper.on('slideChange', slideChange);
      cSwiper.on('slideChangeTransitionEnd', slideChangeEnd);
      playBtn.on('click', playBtnClick);
      btns.on('click', btnClickHandler);

      slideChangeEnd();
      showSwiperChange(activeIndex);
    }
  }

  function createPost(_plugin) {
    let swiperBox = _plugin.$el;
    let items = swiperBox.find('.item');
    let titleBx = swiperBox.find('.common-title-bx');
    let btn = titleBx.find('.common-btn--bx');

    let postControl = swiperBox.find('.post-control').find('.common-control');
    gsap.timeline({
      scrollTrigger: {
        trigger: swiperBox,
        start: 'top center',
        end: 'top center',
        scrub: true,
        once: true,
        onEnter: () => {
          items.each(function ($index) {
            let item = $(this);
            gsap.fromTo(
              item,
              { x: '20vw', opacity: 0 },
              {
                duration: 1,
                x: 0,
                ease: Cubic.easeOut,
                opacity: 1,
                delay: 0.1 * $index,
              },
            );
          });

          gsap.fromTo(
            postControl,
            { opacity: 0, y: 50 },
            {
              duration: 0.75,
              y: 0,
              ease: Cubic.easeOut,
              opacity: 1,
              delay: 0.8,
            },
          );

          titleBx.find('.common-title__item').each(function (index) {
            let item = $(this);
            let text = item.find('.common-title__text');

            gsap.set(text, { opacity: 1, y: '100%' });
            gsap.to(text, { duration: 0.5, y: 0, ease: Cubic.easeOut });
          });

          gsap.fromTo(
            btn,
            { opacity: 0, y: 30 },
            {
              duration: 0.5,
              delay: 0.35,
              opacity: 1,
              y: 0,
              ease: Cubic.easeOut,
            },
          );
        },
      },
    });
  }

  this.init();
}
fo.addPlugin(M06_L);

/** M07_A | Video 1 **/
function M07_A(el) {
  _proto = M07_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.startIndex = 0;
  this.currentIndex = this.startIndex;
  this.$carousel = this.$el.find('.md_cont');
  this.$carouselItem = this.$el.find('.md_cont .li');
  this.$control = this.$el.find('.md_cont_control');
  this.$txtArea = this.$carousel.find('.txt');
  this.$visualArea = this.$carousel.find('.img .img_p, .img .img_m');

  var _this = this;
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: M07_A")
    // Device type check
    deviceType = checkDeviceType();

    // Set visual txt break
    this.setVisualImg();
    this.setTxtBreak();

    // Set scroll bar
    this.$carousel.find('.scrollbar-inner').scrollbar();

    if (this.$carouselItem.length < 2) {
      this.$control.remove();
      this.$carouselItem.eq(0).addClass('act');
      this.$carouselItem
        .eq(0)
        .find('.scrollbar-inner.scroll-content')
        .attr('tabindex', 0);
      return;
    }

    /* 220405 | 접근성 | 모바일 활성화 Nav */
    if (this.$carouselItem.length >= 2) {
      this.$control.after(
        '<div class="owl-navm"><button class="owl-prevm"><em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em></button><button class="owl-nextm"><em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em></button></div>',
      );
    }
    /* //220405 | 접근성 | 모바일 활성화 Nav */

    // Set carousel
    setCarousel(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      updateContentBoxSize(_this);
      updateCarouselStyle(_this);

      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarouselAria(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  // Set visual txt break
  _proto.setTxtBreak = function () {
    var $title = this.$txtArea.find('.md_tit');

    $title.find('a').lettering('lines');
    $title.find('span').wrapInner('<i></i>');
  };

  // Event
  _proto.addEvent = function () {
    /* 220405 | 접근성 | 모바일 활성화 Nav */
    _this.$el.find('.owl-navm button').on('click', function (e) {
      e.stopPropagation();

      if ($(this).hasClass('owl-prevm')) {
        _this.$carousel.trigger('prev');
      } else if ($(this).hasClass('owl-nextm')) {
        _this.$carousel.trigger('next');
      }
    });
    /* //220405 | 접근성 | 모바일 활성화 Nav */

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setCarousel(_plugin) {
    var $prevBtn = _plugin.$control.find('.md_pagn_prev');
    var $nextBtn = _plugin.$control.find('.md_pagn_next');
    $prevBtn.wrapInner(
      '<em class="blind">' +
        langSet[lang]['slide']['prevStr'].toString() +
        '</em>',
    );
    $nextBtn.wrapInner(
      '<em class="blind">' +
        langSet[lang]['slide']['nextStr'].toString() +
        '</em>',
    );

    _plugin.$carousel.carouFredSel({
      responsive: true,
      height: null,
      auto: {
        play: false,
      },
      prev: {
        button: $prevBtn,
        key: 'left',
      },
      next: {
        button: $nextBtn,
        key: 'right',
      },
      items: {
        start: _plugin.currentIndex,
        visible: 1,
        height: null,
      },
      swipe: {
        onMouse: true,
        onTouch: true,
      },
      scroll: {
        fx: 'fade',
        duration: 0,
        items: 1,
        onAfter: function (data) {
          _plugin.currentIndex = _plugin.$carouselItem.index(
            data.items.visible,
          );
          // Update
          updatePagn(_plugin);
          updateCarouselAria(_plugin);
          _plugin.$carouselItem
            .removeClass('act')
            .eq(_plugin.currentIndex)
            .addClass('act')
            .find('.scrollbar-inner.scroll-content')
            .stop()
            .animate({ scrollTop: 0 }, 100);
        },
      },
      onCreate: function () {
        _plugin.$control
          .find('.md_cont_bar_ed')
          .text(setNum(_plugin.$carouselItem.length));
        // Update
        updatePagn(_plugin);
        updateContentBoxSize(_plugin);
        updateCarouselStyle(_this);
        updateCarouselAria(_plugin);
        _plugin.$carouselItem
          .removeClass('act')
          .eq(_plugin.currentIndex)
          .addClass('act')
          .find('.scrollbar-inner.scroll-content')
          .stop()
          .animate({ scrollTop: 0 }, 100);
      },
    });
  }

  // Set Box Style
  function updateContentBoxSize(_plugin) {
    var $box = _plugin.$carousel.find('.box');
    var heights = $box.map(function (index, item) {
      $(item).css('height', '');
      return item.clientHeight;
    });
    $box.css('height', Math.max.apply(null, heights));
  }

  // Set carousel Style
  function updateCarouselStyle(_plugin) {
    _plugin.$carousel.trigger('configuration', {
      height: null,
      items: {
        height: null,
      },
    });
    _plugin.$carousel.trigger('updateSizes');
  }

  function updateCarouselAria(_plugin) {
    //220405 | 접근성 | 임시 추후 롤백필요
    _plugin.$carouselItem
      .attr('aria-hidden', true)
      .find('a, button')
      .attr('tabindex', -1);
    _plugin.$carouselItem
      .find('.scrollbar-inner.scroll-content')
      .attr('tabindex', -1);
    _plugin.$carouselItem
      .eq(_plugin.currentIndex)
      .removeAttr('aria-hidden')
      .find('a, button')
      .removeAttr('tabindex');
    _plugin.$carouselItem
      .eq(_plugin.currentIndex)
      .find('.scrollbar-inner.scroll-content')
      .attr('tabindex', 0);
    _plugin.$control.is('[tabindex]') &&
      _plugin.$control.removeAttr('tabindex');
  }

  // Update
  function updatePagn(_plugin) {
    var width =
      (100 / _plugin.$carouselItem.length) * (_plugin.currentIndex + 1);
    _plugin.$control
      .find('.md_cont_bar_st')
      .text(setNum(_plugin.currentIndex + 1));
    _plugin.$control.find('.bar p').css('width', width + '%');
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  this.init();
}
fo.addPlugin(M07_A);

/** M07_D | Product */
function M07_D(el) {
  _proto = M07_D.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$tabTitle = this.$el.find('.title_list > h3');
  this.$carousel = this.$el.find('.slider_cont');
  this.$carouselItem = this.$carousel.find('.item');
  this.$pagn = this.$el.find('.carousel-pagn');
  this.$arrowNav = this.$el.find('.carousel-nav');
  this.$prevBtn = this.$el.find('.slick-prev');
  this.$nextBtn = this.$el.find('.slick-next');

  var _this = this; // M07_D
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var beforeChk = false;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: M07_D")
    // Device type check
    deviceType = checkDeviceType();

    setSlider(this);
    /** 20240902 새창으로 유튜브 페이지에서 이동하는 title 분기 */
    this.$carouselItem.each(function (i) {
      if ($(this).find('a').is('[data-watch]')) {
        $(this).find('a').attr('title', langSet[lang]['openWindow']);
      }
    });

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$carousel.on('afterChange', function (event, slick, currentSlide) {
      beforeChk = false;
      // Activate tab button
      _this.$tabTitle.removeClass('active').eq(currentSlide).addClass('active');
    });

    _this.$carousel.on(
      'beforeChange',
      function (event, slick, currentSlide, nextSlide) {
        beforeChk = true;
        //video stop
        _this.$carouselItem.find('.video_box iframe').remove();
        _this.$carouselItem.find('.md_link').show();
      },
    );

    _this.$nextBtn.on('click', function (e) {
      _this.$carousel.slick('slickNext');
    });

    _this.$prevBtn.on('click', function (e) {
      _this.$carousel.slick('slickPrev');
    });

    //Youtube Thumbnail
    _this.$carouselItem.find('.md_link').on('click', function (e) {
      e.preventDefault();
      /**
       * 20240902 새창으로 유튜브 페이지에서 이동하는 title 분기
       * data-watch ="n" 속성 있을 때 새창으로 띄움
       * */
      if ($(this).data('watch') == 'n') {
        popup2.videoNewWindowOpen($(this));
        return;
      }

      var $this = $(this);
      if (beforeChk) return;

      var html = '';
      var videoSrc = $this.attr('data-src');

      html +=
        "<iframe src='" +
        videoSrc +
        "?autoplay=1&wmode=opaque&enablejsapi=1' style='display:block;' frameborder='0' title='vod' allow='accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture' allowfullscreen=''></iframe>";

      $this.siblings('.video_box').append(html);
      $(this).fadeOut(100);
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setSlider(_plugin) {
    _plugin.$carousel.on('init', function (e, slick, currentSlide, nextSlide) {
      initPagn(e, _plugin, slick, currentSlide);

      var currentSlideView = $(slick.$slides.get(0)); //currentSlide
      setTimeout(function () {
        currentSlideView.attr({ tabindex: '' });
      }, 100);
    });
    _plugin.$carousel.slick({
      accessibility: true, // 2023-04 접근성 수정
      centerMode: true,
      centerPadding: '0',
      slidesToShow: 1,
      prevArrow: $('.carousel-nav .slick_prev'),
      nextArrow: $('.carousel-nav .slick_next'),
      arrows: false,
      infinite: true,
    });
    _plugin.$carousel.on(
      'afterChange',
      function (e, slick, currentSlide, direction) {
        updatePagn(e, _plugin, slick, currentSlide);

        var currentSlideView = $(slick.$slides.get(currentSlide)); //currentSlide
        setTimeout(function () {
          currentSlideView.attr({ tabindex: '' });
        }, 100);
      },
    );
  }

  function initPagn(e, _plugin, slick, currentSlide) {
    var activeIndex = (currentSlide ? currentSlide : 0) + 1;
    var barWidth = (100 / slick.slideCount) * activeIndex;

    _plugin.$pagn.find('.carousel-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.carousel-pagn-st').text(setNum(activeIndex));
    _plugin.$pagn.find('.carousel-pagn-ed').text(setNum(slick.slideCount));
  }

  function updatePagn(e, _plugin, slick, currentSlide) {
    var activeIndex = (currentSlide ? currentSlide : 0) + 1;
    var barWidth = (100 / slick.slideCount) * activeIndex;

    if (isNaN(activeIndex)) return;

    _plugin.$pagn.find('.carousel-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.carousel-pagn-st').text(setNum(activeIndex));
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }
  this.init();
}
fo.addPlugin(M07_D);

/** M07_E */
function M07_E(el) {
  _proto = M07_E.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;

  this.$slick = this.$el.find('.slider_cont');
  this.$slickItem = this.$slick.find('.item');
  this.$slideNav = this.$el.find('.navigation');
  this.$pagn = this.$slideNav.find('.carousel-pagn');
  this.$control = {
    wrap: this.$el.find('.md_play'),
    playBtn: this.$el.find('.md_btn_play'),
    stopBtn: this.$el.find('.md_btn_stop'),
  };

  this.$arrowNav = this.$el.find('.carousel-nav');
  this.$prevBtn = this.$arrowNav.find('.slick-prev');
  this.$nextBtn = this.$arrowNav.find('.slick-next');

  var _this = this; // M07_E
  var lang = $('html').attr('lang') || 'en';
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;

  var isPause; //슬라이드 autoPlay 정지 활성화 되었을때, 리사이징시 슬라이드 auto로 풀리는 이슈 제어

  _proto.init = function () {
    //console.log("init:: M07_E")
    // Device type check
    deviceType = checkDeviceType();
    this.$slickItem.find('a').attr('title', langSet[lang]['openWindow']);
    this.$control.playBtn.find('span').text(langSet[lang]['slide']['playStr']);
    this.$control.stopBtn.find('span').text(langSet[lang]['slide']['pauseStr']);

    updateSlick(this); // 슬라이드 함수 포함되어 있음

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();

      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateSlick(_this); // 슬라이드 함수 포함되어 있음
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$control.stopBtn.on('click', function (e) {
      e.preventDefault();
      isPause = true;
      sequenceControl(_this, 'STOP');
      return false;
    });
    _this.$control.playBtn.on('click', function (e) {
      e.preventDefault();
      isPause = false;
      sequenceControl(_this, 'PLAY');
      return false;
    });

    _this.$nextBtn.on('click', function (e) {
      e.preventDefault();
      _this.$slick.slick('slickNext');
    });

    _this.$prevBtn.on('click', function (e) {
      e.preventDefault();
      _this.$slick.slick('slickPrev');
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else {
      return 'MOBILE';
    }
  }

  function setSlider(_plugin) {
    _plugin.$slick.on('init', function (e, slick, currentSlide) {
      _plugin.$slick.closest('.M07_E_cont').removeClass('no_slide');
      setTimeout(() => {
        $(slick.$slides).each(function (i, e) {
          if ($(e).hasClass('slick-active')) {
            $(e).attr({ tabindex: '', 'aria-hidden': 'false' });
          }
        });
      }, 100);
      initPagn(e, _plugin, slick, currentSlide);
    });
    _plugin.$slick.not('.slick-initialized').slick({
      accessibility: true,
      slidesToShow: 4,
      slidesToScroll: 1, //1개씩 이동
      variableWidth: true,
      swipeToSlide: true,
      touchThreshold: 400,
      prevArrow: _plugin.$prevBtn,
      nextArrow: _plugin.$nextBtn,
      arrows: false,
      infinite: true,
      responsive: [
        {
          breakpoint: 1024,
          settings: {
            slidesToShow: 2,
            autoplay: false,
          },
        },
        {
          breakpoint: 500,
          settings: {
            slidesToShow: 1,
          },
        },
      ],
    });
    _plugin.$slick.on('beforeChange', function (e) {
      _this.$slick.addClass('fade');
    });
    _plugin.$slick.on('afterChange', function (e, slick, currentSlide) {
      updatePagn(e, _plugin, slick, currentSlide);
      var all_item = $(el).find('.slider_cont .item');
      setTimeout(function () {
        all_item.each(function (i, e) {
          if ($(e).hasClass('slick-active')) {
            $(e).attr({ tabindex: '', 'aria-hidden': 'false' });
            $(e).find('a').attr({ tabindex: '0', 'aria-hidden': 'false' });
          } else {
            $(e).attr({ tabindex: '-1', 'aria-hidden': 'true' });
            $(e).find('a').attr({ tabindex: '-1', 'aria-hidden': 'true' });
          }
        });
      }, 100);
    });
  }

  //unslick 슬라이드 해제
  function unslickSlider(_plugin) {
    _plugin.$slick.filter('.slick-initialized').slick('unslick');
    _plugin.$slick.closest('.M07_E_cont').addClass('no_slide');
    _plugin.$slickItem.removeAttr('tabindex');
  }

  function initPagn(e, _plugin, slick, currentSlide) {
    var activeIndex = (currentSlide ? currentSlide : 0) + 1;
    var barWidth = (100 / slick.slideCount) * activeIndex;

    _plugin.$pagn.find('.carousel-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.carousel-pagn-st').text(setNum(activeIndex));
    _plugin.$pagn.find('.carousel-pagn-ed').text(setNum(slick.slideCount));
  }

  function updatePagn(e, _plugin, slick, currentSlide) {
    var activeIndex = (currentSlide ? currentSlide : 0) + 1;
    var barWidth = (100 / slick.slideCount) * activeIndex;

    _plugin.$pagn.find('.carousel-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.carousel-pagn-st').text(setNum(activeIndex));
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  //slick slider 반응형 조건
  function updateSlick(_plugin) {
    switch (deviceType) {
      case 'PC':
        if (_plugin.$slickItem.length <= 3) {
          unslickSlider(_plugin); //.item 3개 이하였을때 slick 비활성
        } else {
          setSlider(_plugin); //slick 활성
          if (isPause == true) {
            sequenceControl(_this, 'STOP');
          } else {
            sequenceControl(_this, 'PLAY');
          }
        }
        // stop & play 버튼 없을때 nav 간 간격
        if (
          _plugin.$slideNav.is(':visible') &&
          _plugin.$control.wrap.is(':hidden')
        ) {
          _plugin.$slideNav.css('width', '242px');
        }
        break;
      case 'MOBILE':
        if (_plugin.$slickItem.length <= 1) {
          unslickSlider(_plugin);
        } else {
          setSlider(_plugin);
          sequenceControl(_this, 'STOP');
        }
        break;
      // default:
      //     break;
    }
  }

  // Sequence Control: play, stop
  function sequenceControl(_plugin, option) {
    switch (option) {
      case 'PLAY':
        // console.log("play")
        _this.$slick.slick('slickPlay');
        _plugin.$control.wrap.removeClass('on');
        break;
      case 'STOP':
        // console.log("stop")
        _this.$slick.slick('slickPause');
        _plugin.$control.wrap.addClass('on');
        break;
      // default:
      //     break;
    }
  }

  this.init();
}
fo.addPlugin(M07_E);

/** M08_A | Link 1 **/
function M08_A(el) {
  _proto = M08_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.startIndex = 0;
  this.currentIndex = this.startIndex;
  this.$carousel = this.$el.find('.module_ty');
  this.$carouselItem = this.$el.find('.module_ty .li');
  this.$navWrap = this.$el.find('.navigation');
  this.$nav = this.$el.find('.owl-nav');
  this.$pagn = this.$el.find('.owl-pagn');
  this.$txtArea = this.$carousel.find('.txt');
  this.$visualArea = this.$carousel.find('.img .img_p');

  var _this = this;
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: M08_A")
    // Device type check
    deviceType = checkDeviceType();

    if (this.$carouselItem.length < 2) {
      this.$nav.remove();
      this.$pagn.remove();
      return;
    }

    /* 220405 | 접근성 | 모바일 활성화 Nav */
    if (this.$carouselItem.length >= 2) {
      this.$navWrap.after(
        '<div class="owl-navm"><button class="owl-prevm"><em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em></button><button class="owl-nextm"><em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em></button></div>',
      );
    }
    /* //220405 | 접근성 | 모바일 활성화 Nav */

    // Set carousel
    setCarousel(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarouselAria(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Event
  _proto.addEvent = function () {
    _this.$el.on('M08A.UPDATE', function () {
      updateCarouselStyle(_this);
    });

    /* 220405 | 접근성 | 모바일 활성화 Nav */
    _this.$el.find('.owl-navm button').on('click', function (e) {
      e.stopPropagation();

      if ($(this).hasClass('owl-prevm')) {
        _this.$carousel.trigger('prev');
      } else if ($(this).hasClass('owl-nextm')) {
        _this.$carousel.trigger('next');
      }
    });
    /* //220405 | 접근성 | 모바일 활성화 Nav */

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });

    // Window resize && matchHeight after update
    $.fn.matchHeight._afterUpdate = function (event, groups) {
      $('.M08_A').trigger('M08A.UPDATE');
    };
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setCarousel(_plugin) {
    var $prevBtn = _plugin.$nav.find('.owl-prev');
    var $nextBtn = _plugin.$nav.find('.owl-next');

    $prevBtn.wrapInner(
      '<em class="blind">' +
        langSet[lang]['slide']['prevStr'].toString() +
        '</em>',
    );
    $nextBtn.wrapInner(
      '<em class="blind">' +
        langSet[lang]['slide']['nextStr'].toString() +
        '</em>',
    );

    _plugin.$carousel.carouFredSel({
      responsive: true,
      auto: {
        play: false,
      },
      prev: {
        button: $prevBtn,
        key: 'left',
      },
      next: {
        button: $nextBtn,
        key: 'right',
      },
      items: {
        start: _plugin.currentIndex,
        visible: 1,
      },
      swipe: {
        onMouse: true,
        onTouch: true,
      },
      scroll: {
        fx: 'fade',
        duration: 0,
        items: 1,
        onAfter: function (data) {
          _plugin.currentIndex = _plugin.$carouselItem.index(
            data.items.visible,
          );
          _plugin.$carouselItem
            .removeClass('active')
            .eq(_plugin.currentIndex)
            .addClass('active');
          // Update
          updatePagn(_plugin);
          updateCarouselAria(_plugin);
        },
      },
      onCreate: function () {
        _plugin.$pagn
          .find('.owl-pagn-ed')
          .text(setNum(_plugin.$carouselItem.length));
        _plugin.$carouselItem
          .removeClass('active')
          .eq(_plugin.currentIndex)
          .addClass('active');
        // Update
        updatePagn(_plugin);
        updateCarouselStyle(_plugin);
        updateCarouselAria(_plugin);
      },
    });
  }

  function updateCarouselStyle(_plugin) {
    _plugin.$carouselItem.height('auto');
    var heights = _plugin.$carouselItem.map(function () {
      return this.clientHeight;
    });
    _plugin.$carousel.trigger('configuration', {
      height: Math.max.apply(null, heights),
      items: {
        height: Math.max.apply(null, heights),
      },
    });
    _plugin.$carousel.trigger('updateSizes');
  }

  function updateCarouselAria(_plugin) {
    _plugin.$carouselItem
      .attr('aria-hidden', true)
      .find('a, button')
      .attr('tabindex', -1);
    _plugin.$carouselItem
      .eq(_plugin.currentIndex)
      .removeAttr('aria-hidden')
      .find('a, button')
      .removeAttr('tabindex');
    _plugin.$pagn.is('[tabindex]') && _plugin.$pagn.removeAttr('tabindex');
  }

  // Update
  function updatePagn(_plugin) {
    var width =
      (100 / _plugin.$carouselItem.length) * (_plugin.currentIndex + 1);
    var ariaTxt =
      setNum(_plugin.currentIndex + 1) +
      ' of ' +
      setNum(_plugin.$carouselItem.length);

    _plugin.$pagn.find('.owl-pagn-st').text(setNum(_plugin.currentIndex + 1));
    _plugin.$pagn.find('.owl-pagn-bar p').css('width', width + '%');
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  this.init();
}
fo.addPlugin(M08_A);

/** M09_A | People 1 */
function M09_A(el) {
  _proto = M09_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$visualArea = this.$el.find('.img .img_p');
  this.$carousel = this.$el.find('.owl-carousel');
  this.$carouselItem = this.$el.find('.owl-carousel .item');
  this.$pagn = this.$el.find('.owl-pagn');

  var _this = this; // M09_A
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  this.currentCarouselIndex = 0; // 2023-04 접근성 수정

  _proto.init = function () {
    //console.log("init:: M09_A")
    // Device type check
    deviceType = checkDeviceType();

    // Set visual img
    this.setVisualImg();

    this.$el.find('.M09_A_cont').addClass('m' + this.$carouselItem.length);

    if (this.$carouselItem.length < 2) return;

    /* 210510 | 접근성 | 모바일 활성화 Nav */
    if (this.$carouselItem.length >= 2) {
      this.$carousel.after(
        '<div class="owl-navm"><button class="owl-prevm"><em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em></button><button class="owl-nextm"><em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em></button></div>',
      );
    }
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    updateCarousel(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarousel(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  _proto.addEvent = function () {
    _this.$carouselItem.on('focusin', function (e) {
      if ($(e.target).is(':hover')) {
        return;
      }

      var currentIndex = _this.$carouselItem.index(e.delegateTarget);
      _this.$carousel.trigger('to.owl.carousel', currentIndex);

      _this.$carousel.children().scrollLeft() != 0 &&
        _this.$carousel.children().scrollLeft(0);
      _this.$el.scrollLeft() != 0 && _this.$el.scrollLeft(0);
    });

    _this.$el.on('keyup', function (e) {
      e.stopPropagation();

      if (!_this.$carousel.data('owl.carousel')) {
        return;
      }

      if (e.keyCode == 37) {
        _this.$carousel.trigger('prev.owl.carousel');
      } else if (e.keyCode == 39) {
        _this.$carousel.trigger('next.owl.carousel');
      }
    });

    /* 210510 | 접근성 | 모바일 활성화 Nav */
    _this.$el.find('.owl-navm button').on('click', function (e) {
      e.stopPropagation();

      if ($(this).hasClass('owl-prevm')) {
        _this.$carousel.trigger('prev.owl.carousel');
        // _this.$carousel.find('.owl-item.active').get(0).focus(); // 2023-04 접근성 수정
      } else if ($(this).hasClass('owl-nextm')) {
        _this.$carousel.trigger('next.owl.carousel');
        // _this.$carousel.find('.owl-item.active').get(0).focus(); // 2023-04 접근성 수정
      }

      /* 2023-04 접근성 수정 시작 */
      // _this.$carousel.find('.owl-item').eq(_this.currentCarouselIndex).attr({ tabindex: 0 });

      // setTimeout(function() {
      //     _this.$carousel.find('.owl-item').eq(_this.currentCarouselIndex).focus();
      // }, 1);
      /* // 2023-04 접근성 수정 끝 */
    });
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    /* 2023-04 접근성 수정 시작 */
    // _this.$el
    //     .find('.owl-nav .owl-prev')
    //     .add(_this.$el.find('.owl-nav .owl-next'))
    //     .on('click', function() {
    //         _this.$carousel.find('.owl-item').eq(_this.currentCarouselIndex).attr({ tabindex: 0 });

    //         setTimeout(function() {
    //             _this.$carousel.find('.owl-item').eq(_this.currentCarouselIndex).focus();
    //         }, 1);
    //     });

    // _this.$carousel.find('.owl-item').on('blur', function() {
    //     $(this).removeAttr('tabindex');
    // });
    /* // 2023-04 접근성 수정 끝 */

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setCarousel(_plugin) {
    if (_plugin.$carousel.data('owl.carousel')) {
      return;
    }

    _plugin.$carousel.owlCarousel({
      stageElement: 'ul',
      itemElement: 'li',
      autoWidth: true,
      loop: true,
      nav: true,
      navText: [
        '<em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em>',
        '<em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em>',
      ],
      dots: false,
      items: 4,
      singleItem: true,
      smartSpeed: 500,
      responsive: {
        0: {
          margin: 16,
        },
        500: {
          margin: 16,
        },
        1023: {
          margin: 26,
        },
      },
      onInitialized: function (e) {
        initPagn(e, _plugin);
        setCarouselAria(_plugin);

        _plugin.$carousel.addClass('act');
      },
      onRefreshed: function (e) {
        // FIREFOX
        initPagn(e, _plugin);
        setCarouselAria(_plugin);

        _plugin.$carousel.addClass('act');
      },
      onChanged: function (e) {
        updatePagn(e, _plugin);
        setInterval(function () {
          _plugin.$el.scrollLeft(0);
        }, 100);
        _plugin.$carousel.removeClass('act');
        setAriaHidden(e, _plugin); /* 210510 | 접근성 | 모바일 활성화 Nav */

        /* 2023-04 접근성 수정 시작 */
        let $currentSlide = $(e.target).find('.owl-item').eq(e.item.index);
        $currentSlide
          .find('.btn_arrow')
          .add($currentSlide.find('.md_link'))
          .attr({ 'aria-hidden': 'false', tabindex: '0' });
        $currentSlide
          .siblings()
          .find('.btn_arrow')
          .add($currentSlide.siblings().find('.md_link'))
          .attr({ 'aria-hidden': 'true', tabindex: '-1' });

        _this.currentCarouselIndex = !!e.item.index ? e.item.index : 0;
        /* // 2023-04 접근성 수정 끝 */
      },
    });
  }

  function updateCarousel(_plugin) {
    switch (deviceType) {
      case 'PC':
        _plugin.$carouselItem.length < 4
          ? destroyCarousel(_plugin) // 1,2,3
          : setCarousel(_plugin); // 4,5,6,7...
        break;
      case 'TABLET':
      case 'MOBILE':
        _plugin.$carouselItem.length < 2
          ? destroyCarousel(_plugin) // 1
          : setCarousel(_plugin); // 2,3,4,5,6,7...
        break;
      // default:
      //     break;
    }
  }

  function setCarouselAria(_plugin) {
    var $clonedItem = _plugin.$carousel.find('.owl-item.cloned');

    $clonedItem.attr('aria-hidden', true);
    $clonedItem.find('a, button').attr('tabindex', -1);
  }

  function initPagn(e, _plugin) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;

    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
    _plugin.$pagn.find('.owl-pagn-ed').text(setNum(e.item.count));
  }

  function updatePagn(e, _plugin) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;

    if (isNaN(activeIndex)) return;

    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
  }

  function destroyCarousel(_plugin) {
    if (!_plugin.$carousel.data('owl.carousel')) {
      return;
    }

    _plugin.$carousel.owlCarousel('destroy');
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  function setAriaHidden(e, _plugin) {
    var currentIdx = e.item.index;
    var activeItem = $(e.target).find('.owl-item').eq(currentIdx);

    $(e.target).find('.owl-item').attr('aria-hidden', true); //.attr("tabindex", -1) 220413 | 접근성
    activeItem.attr('aria-hidden', false); //.attr("tabindex", 0) 220413 | 접근성
  }

  this.init();
}
fo.addPlugin(M09_A);

/** M09_B | People 2 */
function M09_B(el) {
  _proto = M09_B.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$visualArea = this.$el.find('.img .img_p');
  this.$carousel = this.$el.find('.owl-carousel');
  this.$carouselItem = this.$el.find('.owl-carousel .item');
  this.$pagn = this.$el.find('.owl-pagn');

  var _this = this; // M09_B
  var deviceType; // "PC_LARGE", "PC_MEDIUM", "PC_SMALL", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: M09_B")
    // Device type check
    deviceType = checkDeviceType();

    // Set visual img
    this.setVisualImg();
    this.$el.find('.M09_B_cont').addClass('m' + this.$carouselItem.length);

    if (this.$carouselItem.length < 2) return;

    /* 210510 | 접근성 | 모바일 활성화 Nav */
    if (this.$carouselItem.length >= 2) {
      this.$carousel.after(
        '<div class="owl-navm"><button class="owl-prevm"><em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em></button><button class="owl-nextm"><em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em></button></div>',
      );
    }
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    updateCarousel(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarousel(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  _proto.addEvent = function () {
    _this.$carouselItem.on('focusin', function (e) {
      if ($(e.target).is(':hover')) {
        return;
      }
      var currentIndex = _this.$carouselItem.index(e.delegateTarget);
      _this.$carousel.trigger('to.owl.carousel', currentIndex);
      _this.$carousel.children().scrollLeft() != 0 &&
        _this.$carousel.children().scrollLeft(0);
      _this.$el.scrollLeft() != 0 && _this.$el.scrollLeft(0);
    });

    _this.$el.on('keyup', function (e) {
      e.stopPropagation();
      if (!_this.$carousel.data('owl.carousel')) {
        return;
      }

      if (e.keyCode == 37) {
        _this.$carousel.trigger('prev.owl.carousel');
      } else if (e.keyCode == 39) {
        _this.$carousel.trigger('next.owl.carousel');
      }
    });

    /* 210510 | 접근성 | 모바일 활성화 Nav */
    _this.$el.find('.owl-navm button').on('click', function (e) {
      e.stopPropagation();
      if ($(this).hasClass('owl-prevm')) {
        _this.$carousel.trigger('prev.owl.carousel');
        _this.$carousel.find('.owl-item.active').get(0).focus();
      } else if ($(this).hasClass('owl-nextm')) {
        _this.$carousel.trigger('next.owl.carousel');
        _this.$carousel.find('.owl-item.active').get(0).focus();
      }
    });
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1504) {
      return 'PC_LARGE';
    } else if (window.innerWidth > 1168) {
      return 'PC_MEDIUM';
    } else if (window.innerWidth > 1023) {
      return 'PC_SMALL';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setCarousel(_plugin) {
    if (_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    _plugin.$carousel.owlCarousel({
      stageElement: 'ul',
      itemElement: 'li',
      autoWidth: true,
      loop: true,
      nav: true,
      navText: [
        '<em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em>',
        '<em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em>',
      ],
      dots: false,
      items: 5,
      singleItem: true,
      responsive: {
        0: {
          margin: 16,
        },
        500: {
          margin: 16,
        },
        1023: {
          margin: 26,
        },
      },
      onInitialized: function (e) {
        initPagn(e, _plugin);
        setCarouselAria(_plugin);

        _plugin.$carousel.addClass('act');
      },
      onRefreshed: function (e) {
        // FIREFOX
        initPagn(e, _plugin);
        setCarouselAria(_plugin);

        _plugin.$carousel.addClass('act');
      },
      onChanged: function (e) {
        updatePagn(e, _plugin);
        setInterval(function () {
          _plugin.$el.scrollLeft(0);
        }, 100);
        _plugin.$carousel.removeClass('act');
        setAriaHidden(e, _plugin); /* 210510 | 접근성 | 모바일 활성화 Nav */
      },
    });
  }

  function updateCarousel(_plugin) {
    switch (deviceType) {
      case 'PC_LARGE':
        _plugin.$carouselItem.length < 5
          ? destroyCarousel(_plugin) // 1,2,3,4
          : setCarousel(_plugin); // 5,6,7...
        break;
      case 'PC_MEDIUM':
        _plugin.$carouselItem.length < 4
          ? destroyCarousel(_plugin) // 1,2,3
          : setCarousel(_plugin); // 4,5,6,7...
        break;
      case 'PC_SMALL':
        _plugin.$carouselItem.length < 3
          ? destroyCarousel(_plugin) // 1,2
          : setCarousel(_plugin); // 3,4,5,6,7...
        break;
      case 'TABLET':
      case 'MOBILE':
        _plugin.$carouselItem.length < 2
          ? destroyCarousel(_plugin) // 1
          : setCarousel(_plugin); // 2,3,4,5,6,7...
        break;
      // default:
      //     break;
    }
  }

  function setCarouselAria(_plugin) {
    var $clonedItem = _plugin.$carousel.find('.owl-item.cloned');

    $clonedItem.attr('aria-hidden', true);
    $clonedItem.find('a, button').attr('tabindex', -1);
  }

  function initPagn(e, _plugin) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;

    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
    _plugin.$pagn.find('.owl-pagn-ed').text(setNum(e.item.count));
  }

  function updatePagn(e, _plugin) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;

    if (isNaN(activeIndex)) return;

    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
  }

  function destroyCarousel(_plugin) {
    if (!_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    _plugin.$carousel.owlCarousel('destroy');
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  function setAriaHidden(e, _plugin) {
    var currentIdx = e.item.index;
    var activeItem = $(e.target).find('.owl-item').eq(currentIdx);

    $(e.target).find('.owl-item').attr('aria-hidden', true); //.attr("tabindex", -1) 220413 | 접근성
    activeItem.attr('aria-hidden', false); //.attr("tabindex", 0) 220413 | 접근성
  }

  this.init();
}
fo.addPlugin(M09_B);

/** M10_B | Testimonial **/
function M10_B(el) {
  _proto = M10_B.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.startIndex = 0;
  this.currentIndex = this.startIndex;
  this.$carousel = this.$el.find('.md_cont');
  this.$carouselItem = this.$el.find('.md_cont .li');
  this.$control = {
    wrap: this.$el.find('.md_cont_control'),
    pagn: this.$el.find('.md_pagn'),
    timer: this.$el.find('.md_timer p'),
    playWrap: this.$el.find('.md_play'),
    playBtn: this.$el.find('.md_btn_play'),
    stopBtn: this.$el.find('.md_btn_stop'),
  };
  this.mhItems;
  this.$txtArea = this.$carousel.find('.txt');
  this.$visualArea = this.$carousel.find('.img .img_p, .img .img_m');

  var _this = this;
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var mhTarget = ['.md_tit'];
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: M10_B")

    // Device type check
    deviceType = checkDeviceType();

    // Set visual txt break
    this.setVisualImg();
    //this.setTxtBreak();

    if (this.$carouselItem.length < 2) {
      this.$control.wrap.remove();
      this.$carouselItem.eq(0).addClass('act');
      return;
    }

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    // Set carousel
    setCarousel(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarouselAria(_this);
        updateMhItem(_this);
      }
      updateContentBoxSize(_this);
      updateCarouselStyle(_this);
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  // Set visual txt break
  /* _proto.setTxtBreak = function(){
          var $title = this.$txtArea.find(".md_tit");

          $title.find("p, em").lettering('lines');
          $title.find("span").wrapInner('<i></i>');
    } */

  // Event
  _proto.addEvent = function () {
    _this.$carouselItem.on({
      focusin: function (e) {
        switch (deviceType) {
          case 'PC':
            //
            break;
          case 'TABLET':
          case 'MOBILE':
            var isPagnToSlide = $(e.relatedTarget).is(_this.$control.pagn);
            if (!isPagnToSlide) {
              var currentIndex = _this.$carouselItem.index(
                $(e.target).parents('.li'),
              );
            } else {
              var currentIndex = 0;
              _this.$carouselItem.eq(0).find('a, button').first().focus();
            }
            _this.$carousel.trigger('slideTo', [currentIndex, 0, true]);
            _this.$carousel.parent().scrollLeft() != 0 &&
              _this.$carousel.parent().scrollLeft(0);
            break;
          // default:
          //     break;
        }
      },
      focusout: function (e) {
        switch (deviceType) {
          case 'PC':
            //
            break;
          case 'TABLET':
          case 'MOBILE':
            var isSameSequence = $(e.delegateTarget).find(
              e.relatedTarget,
            ).length;
            var isLastSequence = $(e.delegateTarget).is(
              _this.$carouselItem.last(),
            );

            if (!isSameSequence && isLastSequence) {
              _this.$control.pagn.focus();
            }
            break;
          // default:
          //     break;
        }
      },
    });

    _this.$control.stopBtn.on('click', function (e) {
      e.preventDefault();
      sequenceControl(_this, 'STOP', true);
      return false;
    });

    _this.$control.playBtn.on('click', function (e) {
      e.preventDefault();
      sequenceControl(_this, 'PLAY', true);
      return false;
    });

    _this.$carousel.on('focusin', function () {
      sequenceControl(_this, 'STOP', false);
    });

    _this.$control.pagn.on('focusin', function (e) {
      if (!$(e.target).is(':hover')) {
        sequenceControl(_this, 'STOP', false);
      }
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setCarousel(_plugin) {
    _plugin.$carousel.carouFredSel({
      responsive: true,
      auto: {
        play: false,
        progress: _plugin.$control.timer,
        timeoutDuration: 7000,
      },
      prev: false,
      next: false,
      pagination: {
        container: _plugin.$control.pagn,
        anchorBuilder: function (nr) {
          return '<a href="#">' + (nr < 10 ? '0' + nr : nr) + '</a>';
        },
      },
      items: {
        start: _plugin.currentIndex,
        visible: 1,
      },
      swipe: {
        onMouse: true,
        onTouch: true,
      },
      scroll: {
        fx: 'fade',
        duration: 0,
        items: 1,
        onAfter: function (data) {
          _plugin.currentIndex = _plugin.$carouselItem.index(
            data.items.visible,
          );

          _plugin.$carouselItem
            .eq(_plugin.currentIndex)
            .find('video').currentTime = 0;
          _plugin.$carouselItem
            .removeClass('act')
            .eq(_plugin.currentIndex)
            .addClass('act');

          // Update
          updateCarouselAria(_plugin);
          updateControl(_plugin);
          updateBgColor(_plugin);
        },
      },
      onCreate: function () {
        _plugin.$control.playBtn
          .find('.blind')
          .text(langSet[lang]['slide']['playStr'].toString());
        _plugin.$control.stopBtn
          .find('.blind')
          .text(langSet[lang]['slide']['pauseStr'].toString());

        _plugin.$carouselItem
          .eq(_plugin.currentIndex)
          .find('video').currentTime = 0;
        _plugin.$carouselItem
          .removeClass('act')
          .eq(_plugin.currentIndex)
          .addClass('act');

        // Update
        updateCarouselAria(_plugin);
        updateCarouselStyle(_plugin);
        updateContentBoxSize(_plugin);
        updateControl(_plugin);
        updateBgColor(_plugin);
      },
    });
  }

  function updateCarouselAria(_plugin) {
    _plugin.$carouselItem
      .attr('aria-hidden', true)
      .find('a, button')
      .attr('tabindex', -1);
    _plugin.$carouselItem
      .eq(_plugin.currentIndex)
      .removeAttr('aria-hidden')
      .find('a, button')
      .removeAttr('tabindex');
    _plugin.$control.pagn.is('[tabindex]') &&
      _plugin.$control.pagn.removeAttr('tabindex');
  }

  // Update Control
  function updateControl(_plugin) {
    if (!_plugin.$control.playWrap.hasClass('on')) {
      sequenceControl(_plugin, 'PLAY', false);
    } else {
      sequenceControl(_plugin, 'STOP', false);
    }
  }

  // Sequence Control: play, stop
  function sequenceControl(_plugin, option, changeFocus) {
    switch (option) {
      case 'PLAY':
        _plugin.$carousel.trigger('isPaused', function () {
          _plugin.$control.playWrap.removeClass('on');
          _plugin.$carousel.trigger('play', true);
          _plugin.$carouselItem.find('video').trigger('play');

          changeFocus && _plugin.$control.stopBtn.focus();
        });
        break;
      case 'STOP':
        _plugin.$carousel.trigger('isScrolling', function () {
          _plugin.$control.playWrap.addClass('on');
          _plugin.$carousel.trigger('pause', true);
          _plugin.$carouselItem.find('video').trigger('pause');

          changeFocus && _plugin.$control.playBtn.focus();
        });
        break;
      // default:
      //     break;
    }
  }

  // Set Box Style
  function updateContentBoxSize(_plugin) {
    var $box = _plugin.$txtArea;
    var heights = $box.map(function (index, item) {
      $(item).css('height', '');
      return item.clientHeight;
    });
    $box.css('height', Math.max.apply(null, heights));
  }

  function updateCarouselStyle(_plugin) {
    if (!_plugin.$carousel.data('_cfs_isCarousel')) {
      return;
    }
    _plugin.$carouselItem.height('auto');
    var heights = _plugin.$carouselItem.map(function () {
      return this.clientHeight;
    });
    _plugin.$carousel.trigger('configuration', {
      height: Math.max.apply(null, heights),
      items: {
        height: Math.max.apply(null, heights),
      },
    });
    _plugin.$carousel.trigger('updateSizes');
  }

  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$carousel.find(target);
    });
  }

  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };

    switch (deviceType) {
      case 'PC':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        _plugin.$txtArea.find('.md_tit').matchHeight(opt.init);
        _plugin.$txtArea.find('.md_txt').matchHeight(opt.init);
        break;
      case 'TABLET':
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        _plugin.$txtArea.find('.md_tit').matchHeight(opt.remove);
        _plugin.$txtArea.find('.md_txt').matchHeight(opt.remove);
        break;
      // default:
      //     break;
    }
  }

  function updateBgColor(_plugin) {
    if (_plugin.$carousel.find('.act .bg_ty').length) {
      _plugin.$control.wrap.addClass('black');
    } else {
      _plugin.$control.wrap.removeClass('black');
    }
  }

  this.init();
}
fo.addPlugin(M10_B);

/*** M11_A | Trends ***/
function M11_A(el) {
  _proto = M11_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.$visualArea = this.$el.find('.img_p');

  var _this = this; // M11_A
  _proto.init = function () {
    //console.log("init:: M11_A")
    this.setVisualImg();
  };

  // Set Visual img
  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  this.init();
}
fo.addPlugin(M11_A);

/*** M11_B | Trends ***/
function M11_B(el) {
  _proto = M11_B.prototype;
  this.$el = el;
  this.data = this.$el.data();

  var _this = this; // M11_B

  this.$visualArea = this.$el.find('.img_p');

  _proto.init = function () {
    //console.log("init:: M11_B")
    this.setVisualImg();
  };

  // Set Visual img
  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  this.init();
}
fo.addPlugin(M11_B);

/** M12_B | Benefits 2 **/
function M12_B(el) {
  _proto = M12_B.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$list = this.$el.find('.owl-carousel'); // 캐로셀 기능은 삭제되었음
  this.$visual = this.$el.find('.visual_img img').parent();
  this.mhItems;

  var _this = this; // M12_B
  var deviceType; // "PC", "TABLET", "MOBILE"
  var mhTarget = ['.md_tit'];
  var resizeTimer;

  _proto.init = function () {
    //console.log("init:: M12_B")
    // Device type check
    deviceType = checkDeviceType();

    // Set visual img
    this.setVisualImg();

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateMhItem(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visual.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  _proto.addEvent = function () {
    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$list.find(target);
    });
  }

  // Update Match Height Item
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };

    switch (deviceType) {
      case 'PC':
      case 'TABLET':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        break;
      // default:
      //     break;
    }
  }

  this.init();
}
fo.addPlugin(M12_B);

/*** M12_D | Trends ***/
function M12_D(el) {
  _proto = M12_D.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.$visualArea = this.$el.find('.img_p');

  var _this = this; // M12_D

  _proto.init = function () {
    //console.log("init:: M12_D")
    this.setVisualImg();
  };

  // Set Visual img
  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  this.init();
}
fo.addPlugin(M12_D);

/** M12_E | 주요서비스 */
function M12_E(el) {
  _proto = M12_E.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.mhItems;
  this.$slider_wrap = this.$el.find('.slide_wrap');
  this.$slick = this.$slider_wrap.find('.slider_cont');
  this.$slickItem = this.$slick.find('.item');
  this.$navigation = this.$el.find('.navigation');
  this.$navigatorHtml =
    '<div class="carousel-pagn">' +
    '<div class="carousel-pagn-inner">' +
    '<div class="carousel-pagn-st"></div>' +
    '<div class="carousel-pagn-bar"><p></p></div>' +
    '<div class="carousel-pagn-ed"></div>' +
    '</div>' +
    '</div>' +
    '<div class="md_play">' +
    '<a href="#" class="md_btn_stop"><span class="blind">슬라이드 정지</span></a>' +
    '<a href="#" class="md_btn_play"><span class="blind">슬라이드 재생</span></a>' +
    '</div>' +
    '<div class="carousel-nav">' +
    '<button type="button" class="carousel-prev"><span class="blind">이전</span></button>' +
    '<button type="button" class="carousel-next"><span class="blind">다음</span></button>' +
    '</div>';

  var _this = this; // M12_E
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var mhTarget = ['.md_tit', '.md_txt'];

  _proto.init = function () {
    //console.log("init:: M12_E")
    // Device type check
    deviceType = checkDeviceType();

    // innerNavigatorHtml(this); //슬라이드 네비게이터 html
    updateSlick(this); // 슬라이드 함수 포함되어 있음

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    resizeTimer = new Timer(function (_plugin) {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateSlick(_this); // 슬라이드 함수 포함되어 있음
        updateMhItem(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$el.on('click', '.carousel-prev', function (e) {
      e.preventDefault();
      _this.$slick.slick('slickPrev');
    });
    _this.$el.on('click', '.carousel-next', function (e) {
      e.preventDefault();
      _this.$slick.slick('slickNext');
    });

    _this.$el.on('mouseover', '.carousel-prev, .carousel-next', function (e) {
      _this.$slick.slick('slickPause');
    });
    _this.$el.on('mouseleave', '.carousel-prev, .carousel-next', function (e) {
      _this.$slick.slick('slickPlay');
      if (_this.$slickItem.attr('data-slideStop') == 'true') {
        _this.$slick.slick('slickPause');
      }
    });

    _this.$el.on('click', '.md_btn_stop', function (e) {
      e.preventDefault();
      sequenceControl(_this, 'STOP', true);
      _this.$slickItem.attr('data-slideStop', true);
      return false;
    });
    _this.$el.on('click', '.md_btn_play', function (e) {
      e.preventDefault();
      sequenceControl(_this, 'PLAY', true);
      _this.$slickItem.attr('data-slideStop', '');
      return false;
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else {
      return 'MOBILE';
    }
  }

  //slick slider Navigator Html mark-up
  function innerNavigatorHtml(_plugin) {
    _plugin.$navigation.html(_this.$navigatorHtml);
    if (_plugin.$slickItem.length === 1) {
      _plugin.$navigation.empty();
    }
  }

  //slick slider 반응형 조건
  function updateSlick(_plugin) {
    switch (deviceType) {
      case 'PC':
        if (_plugin.$slickItem.length < 3) {
          unslickSlider(_plugin); //.item 3개 이하였을때 slick 비활성
          _plugin.$navigation.empty();
        } else {
          setSlider(_plugin); //slick 활성
          // 슬라이드 정지버튼 활성화 하고 resize시 정지상태 유지
          if (_plugin.$slickItem.attr('data-slideStop') == 'true') {
            _plugin.$slider_wrap.find('.md_play').addClass('on');
          }
        }
        break;
      case 'MOBILE':
        if (_plugin.$slickItem.length < 2) {
          unslickSlider(_plugin);
        } else {
          innerNavigatorHtml(_plugin);
          setSlider(_plugin);
        }
        break;
      // default:
      //     break;
    }

    // no_slide 클래스가 있으면 슬라이드 기능 x
    if (_plugin.$el.hasClass('no_slide') === true) {
      unslickSlider(_plugin);
      _plugin.$navigation.empty();
    }
  }

  // slick slider 실행
  function setSlider(_plugin) {
    _plugin.$slick.on('init', function (e, slick, currentSlide) {
      initPagn(e, _plugin, slick, currentSlide);
      var currentSlideView = $(slick.$slides.get(currentSlide)); //currentSlide
      if (
        currentSlideView.hasClass('slick-current') &&
        currentSlideView.attr('data-slideStop') == 'true'
      ) {
        _plugin.$slick.slick('slickPause');
      }
    });
    _plugin.$slick.on(
      'afterChange',
      function (e, slick, currentSlide, direction) {
        updatePagn(e, _plugin, slick, currentSlide);
        var currentSlideView = $(slick.$slides.get(currentSlide)); //currentSlide
        if (
          currentSlideView.hasClass('slick-current') &&
          currentSlideView.attr('data-slideStop') == 'true'
        ) {
          _plugin.$slick.slick('slickPause');
        }
      },
    );

    _plugin.$slick.not('.slick-initialized').slick({
      accessibility: true,
      slidesToShow: 2,
      slidesToScroll: 1,
      arrows: false,
      infinite: true,
      autoplay: true,
      autoplaySpeed: 3000,
      responsive: [
        {
          breakpoint: 1024,
          settings: {
            autoplay: false,
            pauseOnFocus: false, //마우스 포커스 시 슬라이드 멈춤
            pauseOnHover: false, //마우스 호버 시 슬라이드 멈춤
            pauseOnDotsHover: false, //네이게이션 호버 시 슬라이드 멈춤(옵션에서 실행시에만)
            slidesToShow: 1,
            adaptiveHeight: true,
          },
        },
      ],
    });
  }

  //unslick slick slider 해제
  function unslickSlider(_plugin) {
    _plugin.$slick.filter('.slick-initialized').slick('unslick');
    _plugin.$slickItem.attr('tabindex', '');
  }

  /** 슬라이드 prograss */
  function initPagn(e, _plugin, slick, currentSlide) {
    var activeIndex = (currentSlide ? currentSlide : 0) + 1;
    var barWidth = (100 / slick.slideCount) * activeIndex;

    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-bar p')
      .css('width', barWidth + '%');
    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-st')
      .text(setNum(activeIndex));
    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-ed')
      .text(setNum(slick.slideCount));
  }

  function updatePagn(e, _plugin, slick, currentSlide) {
    var activeIndex = (currentSlide ? currentSlide : 0) + 1;
    var barWidth = (100 / slick.slideCount) * activeIndex;

    if (isNaN(activeIndex)) return;

    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-bar p')
      .css('width', barWidth + '%');
    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-st')
      .text(setNum(activeIndex));
    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-ed')
      .text(setNum(slick.slideCount));
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }
  /** //슬라이드 prograss */

  // Sequence Control: play, stop
  function sequenceControl(_plugin, option, changeFocus) {
    switch (option) {
      case 'PLAY':
        _this.$slick.slick('slickPlay');
        _plugin.$slider_wrap.find('.md_play').removeClass('on');
        break;
      case 'STOP':
        _this.$slick.slick('slickPause');
        _plugin.$slider_wrap.find('.md_play').addClass('on');
        break;
      // default:
      //     break;
    }
  }

  /** 주변 아이템 텍스트 높이 동일하게 */
  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$slick.find(target);
    });
  }
  // Update Match Height Item
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };
    switch (deviceType) {
      case 'PC':
      case 'TABLET':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        break;
      // default:
      //     break;
    }
  }
  /** //주변 아이템 텍스트 높이 동일하게 */
  this.init();
}
fo.addPlugin(M12_E);

/** M13_A | Use Case **/
function M13_A(el) {
  _proto = M13_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.key = Math.floor(this.$el.offset().top);
  this.startIndex = 0;
  this.currentIndex = this.startIndex;
  this.$visualArea = this.$el.find('.img .img_p');
  this.navigation = {
    $area: this.$el.find('.navigation'),
    $pagn: this.$el.find('.navigation .owl-pagn'),
    $nav: this.$el.find('.navigation .owl-nav'),
  };
  this.carousel = {
    $area: this.$el.find('.carousel'),
    $item: this.$el.find('.carousel .li'),
  };
  this.indicator = {
    $area: this.$el.find('.indicator > ul'),
    $btn: this.$el.find('.indicator .indicator_btn'),
  };

  var _this = this; // M13_A
  var deviceType; // "PC", "TABLET", "MOBILE"
  var indicatorHeight = {
    big: 93, // "PC" size
    samll: 46, // "TABLET", "MOBILE" size
  };
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: M13_A");
    // Device type check
    deviceType = checkDeviceType();

    // Set visual img
    this.setVisualImg();

    if (this.indicator.$btn.length < 2) {
      // this.indicator.$area.parent().remove();
      this.$el.find('.M13_A_cont').css('padding-bottom', '90px');
      this.navigation.$area.remove();
      // return;
    }

    /* 220405 | 접근성 | 모바일 활성화 Nav */
    if (this.carousel.$item.length >= 2) {
      this.navigation.$area.after(
        '<div class="owl-navm"><button class="owl-prevm"><em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em></button><button class="owl-nextm"><em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em></button></div>',
      );
    }
    /* //220405 | 접근성 | 모바일 활성화 Nav */

    // Carousel set
    setCarouselSlide(this);
    setCarouselAria(this);
    // Indicator(tab button) set
    setIndicatorAria(this);
    updateIndicatorSlide(this);
    updateIndicatorStyle(this);
    updateIndicatorAria(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        // Indicator(tab button) update
        updateIndicatorSlide(_this);
        updateIndicatorAria(_this);

        // Pagn(progressbar,prev,next) update
        updatePagnStyle(_this);
      }

      // Indicator(tab button) update
      updateIndicatorStyle(_this);
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };
  // Creating Indicator(tab button) buttons
  _proto.makeIndicator = function () {
    var html = '';
    var txtMaxLengthByte = 52;
    var leftTitTxt = '';
    var txtArr;
    var slicedStr = '';
    this.carousel.$item.each(function (index) {
      leftTitTxt = $(this).find('.md_tit span').html();
      txtArr = leftTitTxt.split('<br>'); // <br>로 구분하여 array로 저장
      if (txtArr.length > 1) {
        txtMaxLengthByte = 26;
        slicedStr = sliceByByte(txtArr[1], txtMaxLengthByte); //잘린부분 없으면 "" 리턴

        if (slicedStr != '') {
          leftTitTxt = txtArr[0] + '<br>' + slicedStr + '...'; //지정한 글자수 이후 표시할 텍스트 '...'
        }
      } else {
        txtMaxLengthByte = 52;
        slicedStr = sliceByByte(leftTitTxt, txtMaxLengthByte);
        if (slicedStr != '') {
          leftTitTxt = slicedStr + '...'; //지정한 글자수 이후 표시할 텍스트 '...'
        }
      }
      html += '<li>';
      html +=
        "   <a href='#' class='" +
        (index == this.startIndex ? 'indicator_btn active' : 'indicator_btn') +
        "'>";
      html += '       <span>' + leftTitTxt + '</span>';
      html += '   </a>';
      html += '</li>';
    });
    this.indicator.$area.append(html);
    this.indicator.$btn = this.indicator.$area.find('.indicator_btn');
  };

  // Event
  _proto.addEvent = function () {
    _this.$el.on('M13A.UPDATE', function () {
      updateCarouselStyle(_this);
    });
    _this.indicator.$btn.on({
      click: function (e) {
        e.preventDefault();
        _this.currentIndex = _this.indicator.$btn.index($(this));
        _this.carousel.$area.trigger('slideTo', [_this.currentIndex, 0, true]);
        /* 20220404 웹접근성 모바일만 적용 */
        switch (deviceType) {
          case 'PC':
            //
            break;
          case 'TABLET':
          case 'MOBILE':
            _this.carousel.$item
              .eq(_this.currentIndex)
              .find('a, button')
              .first()
              .focus(); //클릭 시 초점 이동

            /* 2023-04 접근성 수정 시작 */
            _this.indicator.$area
              .closest('.indicator')
              .stop()
              .animate({
                scrollLeft: $(this).outerWidth() * $(this).parent().index(),
              });
            /* // 2023-04 접근성 수정 끝 */

            break;
        }
        /* //20220404 웹접근성 모바일만 적용 */
      },
      focusin: function (e) {
        switch (deviceType) {
          case 'PC':
            break;
          case 'TABLET':
          case 'MOBILE':
        }
      },
      focusout: function (e) {
        switch (deviceType) {
          case 'PC':
            break;
          case 'TABLET':
          case 'MOBILE':
            if (_this.isIos()) return;
            var isLastSequence = $(e.delegateTarget).is(
              _this.indicator.$btn.last(),
            );
            var toFirstSequence = $(e.relatedTarget).is(
              _this.indicator.$btn.first(),
            );
            if (isLastSequence && toFirstSequence) {
              _this.carousel.$item
                .eq(_this.currentIndex)
                .find('a, button')
                .first()
                .focus();
            }
            break;
          // default:
          //     break;
        }
      },
    });

    /* 220405 | 접근성 | 모바일 활성화 Nav */
    _this.$el.find('.owl-navm button').on('click', function (e) {
      e.stopPropagation();
      if ($(this).hasClass('owl-prevm')) {
        _this.carousel.$area.trigger('prev');
      } else if ($(this).hasClass('owl-nextm')) {
        _this.carousel.$area.trigger('next');
      }

      /* 2023-04 접근성 수정 시작 */
      const currentCarouselId = _this.carousel.$area.find('.active').attr('id');

      _this.indicator.$area
        .closest('.indicator')
        .stop()
        .animate({
          scrollLeft:
            _this.indicator.$area.find('li').outerWidth() *
            _this.indicator.$area
              .find(`[aria-controls = "${currentCarouselId}"]`)
              .parent()
              .index(),
        });
      /* // 2023-04 접근성 수정 끝 */
    });
    /* //220405 | 접근성 | 모바일 활성화 Nav */

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });

    // Window resize && matchHeight after update
    $.fn.matchHeight._afterUpdate = function (event, groups) {
      $('.M13_A').trigger('M13A.UPDATE');
    };
  };

  _proto.isIos = function () {
    var userAgent = navigator.userAgent.toLowerCase();
    var IS_IPHONE = /iphone/i.test(userAgent);
    var IS_IPAD = /iPad/i.test(userAgent);
    var IS_IPOD = /iPod/i.test(userAgent);
    return (IS_IOS = IS_IPHONE || IS_IPAD || IS_IPOD);
  };

  // Set Visual Img
  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  //tab slideByte | ICS sync M13_A안으로 함수포함
  function sliceByByte(str, maxByte) {
    var slicedStr = '';
    for (b = i = 0; (c = str.charCodeAt(i)); ) {
      b += c >> 7 ? 2 : 1;
      if (b > maxByte) break;
      i++;
    }
    if (i == str.length) {
      slicedStr = '';
    } else {
      slicedStr = str.substring(0, i);
    }
    return slicedStr;
  }

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  // Get Carousel Items Max Height
  function getCarouselHeight(_plugin) {
    _plugin.carousel.$item.height('');
    var heights = _plugin.carousel.$item.map(function () {
      return this.clientHeight;
    });
    _plugin.carousel.$item.height(Math.max.apply(null, heights) + 'px');
    return Math.max.apply(null, heights);
  }

  // Set Carousel Slide
  function setCarouselSlide(_plugin) {
    var carouselHeight = getCarouselHeight(_plugin);
    var $prevBtn = _plugin.navigation.$nav.find('.owl-prev');
    var $nextBtn = _plugin.navigation.$nav.find('.owl-next');
    $prevBtn.wrapInner(
      '<em class="blind">' +
        langSet[lang]['slide']['prevStr'].toString() +
        '</em>',
    );
    $nextBtn.wrapInner(
      '<em class="blind">' +
        langSet[lang]['slide']['nextStr'].toString() +
        '</em>',
    );

    _plugin.carousel.$area.carouFredSel({
      responsive: true,
      height: carouselHeight,
      auto: {
        play: false,
      },
      prev: {
        button: $prevBtn,
      },
      next: {
        button: $nextBtn,
      },
      items: {
        start: _plugin.currentIndex,
        visible: 1,
        height: carouselHeight,
      },
      swipe: {
        onMouse: true,
        onTouch: true,
      },
      scroll: {
        fx: 'fade',
        duration: 0,
        items: 1,
        onAfter: function (data) {
          _plugin.currentIndex = _plugin.carousel.$item.index(
            data.items.visible,
          );
          _plugin.indicator.$btn
            .removeClass('active')
            .eq(_plugin.currentIndex)
            .addClass('active');
          _plugin.carousel.$item
            .removeClass('active')
            .eq(_plugin.currentIndex)
            .addClass('active');

          // Update Carousel
          updateCarouselAria(_plugin);
          updatePagnStyle(_plugin);
          updateIndicatorAria(_plugin);

          /* 2023-04 접근성 수정 시작 */
          const currentCarouselId = data.items.visible.attr('id');
          _plugin.indicator.$area
            .closest('.indicator')
            .stop()
            .animate({
              scrollLeft:
                _plugin.indicator.$area.find('li').outerWidth() *
                _plugin.indicator.$area
                  .find(`[aria-controls = "${currentCarouselId}"]`)
                  .parent()
                  .index(),
            });
          /* // 2023-04 접근성 수정 끝 */
        },
      },
      onCreate: function () {
        _plugin.navigation.$pagn
          .find('.owl-pagn-ed')
          .text(setNum(_plugin.carousel.$item.length));
        _plugin.indicator.$btn
          .removeClass('active')
          .eq(_plugin.currentIndex)
          .addClass('active');
        _plugin.carousel.$item
          .removeClass('active')
          .eq(_plugin.currentIndex)
          .addClass('active');
        // Update Carousel
        updateCarouselAria(_plugin);
        updatePagnStyle(_plugin);
        updateIndicatorAria(_plugin);
      },
    });
  }

  // Set Carousel Aria
  function setCarouselAria(_plugin) {
    _plugin.carousel.$item.each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this).attr({
        role: 'region', // fixed
        id: 'tab_panel_' + key, // fixed
        'aria-labelledby': 'tab_btn_' + key, // fixed
      });
    });
  }

  // Update Carousel Style
  function updateCarouselStyle(_plugin) {
    var carouselHeight = getCarouselHeight(_plugin);
    if (_plugin.carousel.$area.height() === carouselHeight) return;
    _plugin.carousel.$area.trigger('configuration', {
      height: carouselHeight,
      items: {
        height: carouselHeight,
      },
    });
    _plugin.carousel.$area.trigger('updateSizes');
  }

  // Update Carousel Aria
  function updateCarouselAria(_plugin) {
    _plugin.carousel.$item
      .attr('aria-hidden', true)
      .find('a, button')
      .attr('tabindex', -1);
    _plugin.carousel.$item
      .eq(_plugin.currentIndex)
      .removeAttr('aria-hidden')
      .find('a, button')
      .removeAttr('tabindex');
  }

  // Update Carousel Style
  function updateIndicatorSlide(_plugin) {
    switch (deviceType) {
      case 'PC':
        if (!_plugin.indicator.$area.data('_cfs_isCarousel')) {
          return;
        }
        _plugin.indicator.$area.trigger('destroy', true);
        break;
      case 'TABLET':
      case 'MOBILE':
        if (_plugin.indicator.$area.data('_cfs_isCarousel')) {
          return;
        }
        break;
      // default:
      //     break;
    }
  }

  // Update Indicator(tab button) Style
  function updateIndicatorStyle(_plugin) {
    switch (deviceType) {
      case 'PC':
        var contentHeight = indicatorHeight.big * 4 + 1;
        var imageHeight = _plugin.$visualArea.height();
        _plugin.navigation.$area.css({
          'margin-top':
            imageHeight > contentHeight
              ? 30 - imageHeight + contentHeight
              : 30 + 'px',
        });
        break;
      case 'TABLET':
      case 'MOBILE':
        _plugin.indicator.$area.is('[style]') &&
          !_plugin.indicator.$area.data('_cfs_isCarousel') &&
          _plugin.indicator.$area.removeAttr('style');
        _plugin.navigation.$area.is('[style]') &&
          _plugin.navigation.$area.removeAttr('style');
        _plugin.indicator.$area.find('[style]').length &&
          _plugin.indicator.$area.find('[style]').removeAttr('style');
        break;
      // default:
      //     break;
    }
  }

  // Set Indicator(tab button) Aria
  function setIndicatorAria(_plugin) {
    _plugin.indicator.$area.attr('role', 'tablist');
    _plugin.indicator.$area.find('li').attr('role', 'presentation');
    _plugin.indicator.$btn.each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this).attr({
        role: 'tab', // fixed
        id: 'tab_btn_' + key, // fixed
        'aria-controls': 'tab_panel_' + key, // fixed
        'aria-selected': false, // changeable
      });
    });
  }

  // Update Indicator(tab button) Aria
  function updateIndicatorAria(_plugin) {
    _plugin.indicator.$btn
      .attr('aria-selected', false)
      .eq(_plugin.currentIndex)
      .attr('aria-selected', true);
    switch (deviceType) {
      case 'PC':
        var pageIndex = parseInt(_plugin.currentIndex / 4);
        var from = ':nth-child(n+' + (pageIndex * 4 + 1) + ')';
        var to = ':nth-child(-n+' + (pageIndex + 1) * 4 + ')';
        _plugin.indicator.$area
          .find('li')
          .attr('aria-hidden', true)
          .find('a')
          .attr('tabindex', -1);
        _plugin.indicator.$area
          .find('li' + from + to)
          .removeAttr('aria-hidden')
          .find('a')
          .removeAttr('tabindex');
        break;
      case 'TABLET':
      case 'MOBILE':
        if (_this.isIos()) return;
        _plugin.indicator.$area.find('[tabindex]').length &&
          _plugin.indicator.$area.find('[tabindex]').removeAttr('tabindex');
        _plugin.indicator.$area.find('[aria-hidden]').length &&
          _plugin.indicator.$area
            .find('[aria-hidden]')
            .removeAttr('aria-hidden');
        break;
      // default:
      //     break;
    }
  }

  // Update Pagn(progressbar,prev,next) Style
  function updatePagnStyle(_plugin) {
    var width =
      (100 / _plugin.carousel.$item.length) * (_plugin.currentIndex + 1);
    _plugin.navigation.$pagn
      .find('.owl-pagn-st')
      .text(setNum(_plugin.currentIndex + 1));
    _plugin.navigation.$pagn.find('.owl-pagn-bar p').css('width', width + '%');

    switch (deviceType) {
      case 'PC':
        var pageIndex = parseInt(_plugin.currentIndex / 4);
        _plugin.indicator.$area.stop().animate(
          {
            top: -1 * (indicatorHeight.big * 4) * pageIndex + 'px',
          },
          400,
        );
        break;
      case 'TABLET':
      case 'MOBILE':
        var outerWidth = _plugin.indicator.$area.parent().width();
        var innerWidth =
          _plugin.indicator.$btn.innerWidth() * _plugin.carousel.$item.length;
        outerWidth < innerWidth &&
          _plugin.indicator.$area.trigger('slideTo', [
            _plugin.currentIndex,
            0,
            true,
          ]);
        break;
      // default:
      //     break;
    }
  }
  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }
  this.makeIndicator();
  this.init();
}

fo.addPlugin(M13_A);

/** M13_B | Use Case 2 **/
function M13_B(el) {
  _proto = M13_B.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.key = Math.floor(this.$el.offset().top);
  this.startIndex = 0;
  this.currentIndex = this.startIndex;
  this.$visualArea = this.$el.find('.img .img_p');
  this.navigation = {
    $area: this.$el.find('.navigation'),
    $pagn: this.$el.find('.navigation .owl-pagn'),
    $nav: this.$el.find('.navigation .owl-nav'),
  };
  this.carousel = {
    $area: this.$el.find('.carousel'),
    $item: this.$el.find('.carousel .li'),
  };
  this.indicator = {
    $area: this.$el.find('.indicator > ul'),
    $btn: this.$el.find('.indicator .indicator_btn'),
  };

  var _this = this; // M13_B
  var deviceType; // "PC", "TABLET", "MOBILE"
  var indicatorHeight = {
    big: 92, // "PC" size
    samll: 46, // "TABLET", "MOBILE" size
  };
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: M13_B");
    // Device type check
    deviceType = checkDeviceType();

    // Set visual img
    this.setVisualImg();

    if (this.indicator.$btn.length < 2) {
      this.navigation.$area.remove();
    }

    /* 220405 | 접근성 | 모바일 활성화 Nav */
    if (this.carousel.$item.length >= 2) {
      this.navigation.$area.after(
        '<div class="owl-navm"><button class="owl-prevm"><em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em></button><button class="owl-nextm"><em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em></button></div>',
      );
    }
    /* //220405 | 접근성 | 모바일 활성화 Nav */

    // Carousel set
    setCarouselSlide(this);
    setCarouselAria(this);

    // Indicator(tab button) set
    setIndicatorAria(this);
    updateIndicatorSlide(this);
    updateIndicatorStyle(this);
    updateIndicatorAria(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        // Indicator(tab button) update
        updateIndicatorSlide(_this);
        updateIndicatorAria(_this);

        // Pagn(progressbar,prev,next) update
        updatePagnStyle(_this);
        updateCarouselStyle(_this);
      }

      // Indicator(tab button) update
      updateIndicatorStyle(_this);
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Creating Indicator(tab button) buttons
  _proto.makeIndicator = function () {
    var html = '';
    this.carousel.$item.each(function (index) {
      var thisTitle = $(this).find('.md_tit > span');
      var titTxt = thisTitle
        .contents()
        .not(thisTitle.find('.flag, .btn_arrow'))
        .text();

      html += '<li>';
      html +=
        "   <a href='#' class='" +
        (index == this.startIndex ? 'indicator_btn active' : 'indicator_btn') +
        "'>";
      html += '       <span>' + titTxt + '</span>';
      html += '   </a>';
      html += '</li>';
    });
    this.indicator.$area.append(html);
    this.indicator.$btn = this.indicator.$area.find('.indicator_btn');
  };

  // Event
  _proto.addEvent = function () {
    _this.$el.on('M13B.UPDATE', function () {
      updateCarouselStyle(_this);
      updateCarouselStyle2(_this);
    });

    _this.indicator.$btn.on({
      click: function (e) {
        e.preventDefault();
        _this.currentIndex = _this.indicator.$btn.index($(this));
        _this.carousel.$area.trigger('slideTo', [_this.currentIndex, 0, true]);
        /* 20220404 웹접근성 모바일만 적용 */
        switch (deviceType) {
          case 'PC':
            break;
          case 'TABLET':
          case 'MOBILE':
            _this.carousel.$item
              .eq(_this.currentIndex)
              .find('a, button')
              .first()
              .focus(); //클릭 시 초점 이동
            break;
        }
        /* //20220404 웹접근성 모바일만 적용 */
      },
      focusin: function (e) {
        switch (deviceType) {
          case 'PC':
            break;
          case 'TABLET':
          case 'MOBILE':
            if (_this.isIos()) return;

            var currentCarouselItem = _this.carousel.$item.eq(
              _this.currentIndex,
            );
            var isCarouselToIndicator = $(e.relatedTarget)
              .parents('.li')
              .is(currentCarouselItem);

            if (!isCarouselToIndicator) {
              var index = _this.indicator.$btn.index($(this));
              _this.indicator.$area.trigger('slideTo', [index, 0, true]);
            } else {
              var index = 0;
              _this.indicator.$area.trigger('slideTo', [index, 0, true]);
              _this.indicator.$btn.first().focus();
            }

            _this.indicator.$area.scrollLeft() != 0 &&
              _this.indicator.$area.scrollLeft(0);
            _this.indicator.$area.parent().scrollLeft() != 0 &&
              _this.indicator.$area.parent().scrollLeft(0);
            break;
          // default:
          //     break;
        }
      },
      focusout: function (e) {
        switch (deviceType) {
          case 'PC':
            //
            break;
          case 'TABLET':
          case 'MOBILE':
            if (_this.isIos()) return;

            var isLastSequence = $(e.delegateTarget).is(
              _this.indicator.$btn.last(),
            );
            var toFirstSequence = $(e.relatedTarget).is(
              _this.indicator.$btn.first(),
            );

            if (isLastSequence && toFirstSequence) {
              _this.carousel.$item
                .eq(_this.currentIndex)
                .find('a, button')
                .first()
                .focus();
            }
            break;
          // default:
          //     break;
        }
      },
    });

    /* 220405 | 접근성 | 모바일 활성화 Nav */
    _this.$el.find('.owl-navm button').on('click', function (e) {
      e.stopPropagation();
      if ($(this).hasClass('owl-prevm')) {
        _this.carousel.$area.trigger('prev');
      } else if ($(this).hasClass('owl-nextm')) {
        _this.carousel.$area.trigger('next');
      }
    });
    /* //220405 | 접근성 | 모바일 활성화 Nav */

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });

    // Window resize && matchHeight after update
    $.fn.matchHeight._afterUpdate = function (event, groups) {
      $('.M13_B').trigger('M13B.UPDATE');
    };
  };

  _proto.isIos = function () {
    var userAgent = navigator.userAgent.toLowerCase();
    var IS_IPHONE = /iphone/i.test(userAgent);
    var IS_IPAD = /iPad/i.test(userAgent);
    var IS_IPOD = /iPod/i.test(userAgent);
    return (IS_IOS = IS_IPHONE || IS_IPAD || IS_IPOD);
  };

  // Set Visual Img
  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  // Get Carousel Items Max Height
  function getCarouselHeight(_plugin) {
    _plugin.carousel.$item.height('');
    var heights = _plugin.carousel.$item.map(function () {
      return this.clientHeight;
    });
    _plugin.carousel.$item.height(Math.max.apply(null, heights) + 'px');
    return Math.max.apply(null, heights);
  }

  // Set Carousel Slide
  function setCarouselSlide(_plugin) {
    var carouselHeight = getCarouselHeight(_plugin);
    var $prevBtn = _plugin.navigation.$nav.find('.owl-prev');
    var $nextBtn = _plugin.navigation.$nav.find('.owl-next');

    $prevBtn.wrapInner(
      '<em class="blind">' +
        langSet[lang]['slide']['prevStr'].toString() +
        '</em>',
    );
    $nextBtn.wrapInner(
      '<em class="blind">' +
        langSet[lang]['slide']['nextStr'].toString() +
        '</em>',
    );

    _plugin.carousel.$area.carouFredSel({
      responsive: true,
      height: carouselHeight,
      auto: {
        play: false,
      },
      prev: {
        button: $prevBtn,
      },
      next: {
        button: $nextBtn,
      },
      items: {
        start: _plugin.currentIndex,
        visible: 1,
        height: carouselHeight,
      },
      swipe: {
        onMouse: true,
        onTouch: true,
      },
      scroll: {
        fx: 'fade',
        duration: 0,
        items: 1,
        onAfter: function (data) {
          _plugin.currentIndex = _plugin.carousel.$item.index(
            data.items.visible,
          );
          _plugin.indicator.$btn
            .removeClass('active')
            .eq(_plugin.currentIndex)
            .addClass('active');
          _plugin.carousel.$item
            .removeClass('active')
            .eq(_plugin.currentIndex)
            .addClass('active');

          // Update Carousel
          updateCarouselAria(_plugin);

          // Update Pagn(progressbar,prev,next)
          updatePagnStyle(_plugin);

          // Update Indicator(tab button)
          updateIndicatorAria(_plugin);
        },
      },
      onCreate: function () {
        _plugin.navigation.$pagn
          .find('.owl-pagn-ed')
          .text(setNum(_plugin.carousel.$item.length));
        _plugin.indicator.$btn
          .removeClass('active')
          .eq(_plugin.currentIndex)
          .addClass('active');
        _plugin.carousel.$item
          .removeClass('active')
          .eq(_plugin.currentIndex)
          .addClass('active');

        // Update Carousel
        updateCarouselAria(_plugin);

        // Update Pagn(progressbar,prev,next)
        updatePagnStyle(_plugin);

        // Update Indicator(tab button)
        updateIndicatorAria(_plugin);
      },
    });
  }

  // Set Carousel Aria
  function setCarouselAria(_plugin) {
    _plugin.carousel.$item.each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this).attr({
        role: 'region', // fixed
        id: 'tab_panel_' + key, // fixed
        'aria-labelledby': 'tab_btn_' + key, // fixed
      });
    });
  }

  // Update Carousel Style
  function updateCarouselStyle(_plugin) {
    var carouselHeight = getCarouselHeight(_plugin);
    if (_plugin.carousel.$area.height() === carouselHeight) return;

    _plugin.carousel.$area.trigger('configuration', {
      height: carouselHeight,
      items: {
        height: carouselHeight,
      },
    });
    _plugin.carousel.$area.trigger('updateSizes');
  }

  function updateCarouselStyle2(_plugin) {
    var carouselHeight = getCarouselHeight(_plugin);
    var indicatorLen = _plugin.indicator.$btn.length;
    var contentHeight =
      indicatorHeight.big * (indicatorLen >= 4 ? 4 : indicatorLen) + 1;

    if (carouselHeight < contentHeight + _plugin.navigation.$area.height()) {
      _plugin.carousel.$area.trigger('configuration', {
        height: contentHeight + _plugin.navigation.$area.height() + 30,
        items: {
          height: carouselHeight + _plugin.navigation.$area.height() + 30,
        },
      });
    }
  }

  // Update Carousel Aria
  function updateCarouselAria(_plugin) {
    _plugin.carousel.$item
      .attr('aria-hidden', true)
      .find('a, button')
      .attr('tabindex', -1);
    _plugin.carousel.$item
      .eq(_plugin.currentIndex)
      .removeAttr('aria-hidden')
      .find('a, button')
      .removeAttr('tabindex');
  }

  // Update Carousel Style
  function updateIndicatorSlide(_plugin) {
    switch (deviceType) {
      case 'PC':
        if (!_plugin.indicator.$area.data('_cfs_isCarousel')) {
          return;
        }
        _plugin.indicator.$area.trigger('destroy', true);
        break;
      case 'TABLET':
      case 'MOBILE':
        if (_plugin.indicator.$area.data('_cfs_isCarousel')) {
          return;
        }
        _plugin.indicator.$area.carouFredSel({
          responsive: false,
          auto: false,
          prev: false,
          next: false,
          items: {
            start: _plugin.currentIndex,
          },
          swipe: {
            onMouse: true,
            onTouch: true,
          },
          scroll: {
            items: 1,
          },
        });
        break;
      // default:
      //     break;
    }
  }

  // Update Indicator(tab button) Style
  function updateIndicatorStyle(_plugin) {
    switch (deviceType) {
      case 'PC':
        break;
      case 'TABLET':
      case 'MOBILE':
        _plugin.indicator.$area.is('[style]') &&
          !_plugin.indicator.$area.data('_cfs_isCarousel') &&
          _plugin.indicator.$area.removeAttr('style');
        _plugin.navigation.$area.is('[style]') &&
          _plugin.navigation.$area.removeAttr('style');
        _plugin.indicator.$area.find('[style]').length &&
          _plugin.indicator.$area.find('[style]').removeAttr('style');
        break;
      // default:
      //     break;
    }
  }

  // Set Indicator(tab button) Aria
  function setIndicatorAria(_plugin) {
    _plugin.indicator.$area.attr('role', 'tablist');
    _plugin.indicator.$area.find('li').attr('role', 'presentation');

    _plugin.indicator.$btn.each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this).attr({
        role: 'tab', // fixed
        id: 'tab_btn_' + key, // fixed
        'aria-controls': 'tab_panel_' + key, // fixed
        'aria-selected': false, // changeable
      });
    });
  }

  // Update Indicator(tab button) Aria
  function updateIndicatorAria(_plugin) {
    _plugin.indicator.$btn
      .attr('aria-selected', false)
      .eq(_plugin.currentIndex)
      .attr('aria-selected', true);
    switch (deviceType) {
      case 'PC':
        var pageIndex = parseInt(_plugin.currentIndex / 4);
        var from = ':nth-child(n+' + (pageIndex * 4 + 1) + ')';
        var to = ':nth-child(-n+' + (pageIndex + 1) * 4 + ')';
        _plugin.indicator.$area
          .find('li')
          .attr('aria-hidden', true)
          .find('a')
          .attr('tabindex', -1);
        _plugin.indicator.$area
          .find('li' + from + to)
          .removeAttr('aria-hidden')
          .find('a')
          .removeAttr('tabindex');
        break;
      case 'TABLET':
      case 'MOBILE':
        if (_this.isIos()) return;
        _plugin.indicator.$area.find('[tabindex]').length &&
          _plugin.indicator.$area.find('[tabindex]').removeAttr('tabindex');
        _plugin.indicator.$area.find('[aria-hidden]').length &&
          _plugin.indicator.$area
            .find('[aria-hidden]')
            .removeAttr('aria-hidden');
        break;
      // default:
      //     break;
    }
  }

  // Update Pagn(progressbar,prev,next) Style
  function updatePagnStyle(_plugin) {
    var width =
      (100 / _plugin.carousel.$item.length) * (_plugin.currentIndex + 1);
    _plugin.navigation.$pagn
      .find('.owl-pagn-st')
      .text(setNum(_plugin.currentIndex + 1));
    _plugin.navigation.$pagn.find('.owl-pagn-bar p').css('width', width + '%');

    switch (deviceType) {
      case 'PC':
        var pageIndex = parseInt(_plugin.currentIndex / 4);
        _plugin.indicator.$area.stop().animate(
          {
            top: -1 * (indicatorHeight.big * 4) * pageIndex + 'px',
          },
          400,
        );
        break;
      case 'TABLET':
      case 'MOBILE':
        var outerWidth = _plugin.indicator.$area.parent().width();
        var innerWidth =
          _plugin.indicator.$btn.innerWidth() * _plugin.carousel.$item.length;

        outerWidth < innerWidth &&
          _plugin.indicator.$area.trigger('slideTo', [
            _plugin.currentIndex,
            0,
            true,
          ]);
        break;
      // default:
      //     break;
    }
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  this.makeIndicator();
  this.init();
}

fo.addPlugin(M13_B);

/** M15_A | Structure */
function M15_A(el) {
  _proto = M15_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$tabList = this.$el.find('.tab_list');
  this.$tabListBtn = this.$tabList.find('.tab_btn');
  this.$tabPanel = this.$el.find('.tab_panel');
  this.$diagram = this.$el.find('.diagram_wrap');
  this.$diagramLink = this.$diagram.find('.link_btn');
  this.diagramImgSrc = {
    only_p_on: this.$diagram.find('.img_p img.on').attr('src') || null,
    only_p_on2: this.$diagram.find('.img_p img.on2').attr('src') || null,
    only_m_on: this.$diagram.find('.img_m img.on').attr('src') || null,
    only_p_off: this.$diagram.find('.img_p img:not(.on)').attr('src') || null,
    only_m_off: this.$diagram.find('.img_m img:not(.on)').attr('src') || null,
  };
  this.key = Math.floor(this.$el.offset().top);
  this.activeTab = 0;

  var hashUrl = window.location.hash;
  var hashId = hashUrl.split('#')[1];
  var _this = this; // M15_A
  var deviceType; // "PC", "TABLET", "MOBILE"

  _proto.init = function () {
    //console.log("init:: M15_A")
    // Device type check
    deviceType = checkDeviceType();

    // Tab activated on initial load
    if (this.$el.is('[data-active-tab]') && this.data.activeTab >= 0) {
      this.activeTab =
        this.data.activeTab < this.$tabListBtn.length
          ? this.data.activeTab
          : this.$tabListBtn.length - 1;
      this.$el.removeAttr('data-active-tab');
    }

    // Initial image setting
    setTabImg(this);
    setLinkImg(this);
    updateImgPos(this);

    // Initial tab setting
    setTab(this);
    setAriaAttr(this);
    setOpenTab(this);

    this.$diagram.addClass('init');

    if (this.$el.find('[data-trigger-show]').length) {
      this.$el.find('[data-trigger-show]').each(function () {
        var showTarget = $(this).attr('data-trigger-show');
        _this.$el.find(showTarget).addClass('show');
      });
    }

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    //other page url hash
    _this.$tabListBtn.each(function (index) {
      var $this = $(this);
      var key;
      if ($this.hasClass(hashId)) {
        key = _this.key;
        _this.activeTab = _this.$tabListBtn.index($(this));
        setOpenTab(_this);
        window.scrollTo(top, key);
      }
    });
    // Tab button click
    _this.$tabListBtn.on('click', function (e) {
      if ($(this).closest('.view_cont').hasClass('MP_logistics')) return; //20231120 물류 하드코딩 추가
      e.preventDefault();

      _this.activeTab = _this.$tabListBtn.index($(this));
      setOpenTab(_this);
    });

    // Window resize
    $(window).on('resize', function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
      }
      // Update tab img position
      updateImgPos(_this);
    });

    window.onload = function () {
      updateImgPos(_this);
    };
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  // Initial tab img setting
  function setTabImg(_plugin) {
    /* 20220510 데이터결함 */
    var defaultTab = _plugin.$tabList.hasClass('default-tab_list');
    if (!defaultTab) {
      if (!_plugin.$tabListBtn.length) return;
      if (!_plugin.diagramImgSrc['only_p_on']) return;

      var html = '';
      html += "<span class='tab_img' aria-hidden='true'>";
      html += "<img src='" + _plugin.diagramImgSrc['only_p_on'] + "' alt='' />";
      html += '</span>';

      html
        ? _plugin.$tabListBtn.after(html)
        : _plugin.$tabListBtn.addClass('outline');
    }
    /* //20220510 데이터결함 */
  }

  // Initial link img setting
  function setLinkImg(_plugin) {
    if (!_plugin.$diagramLink.length) return;

    var htmlPC = '';
    if (_plugin.diagramImgSrc['only_p_on']) {
      htmlPC += "<span class='link_img only_p' aria-hidden='true'>";
      htmlPC +=
        "<img src='" + _plugin.diagramImgSrc['only_p_on'] + "' alt='' />";
      htmlPC += '</span>';
    }

    var htmlMobile = '';
    if (_plugin.diagramImgSrc['only_m_on']) {
      htmlMobile += "<span class='link_img only_m' aria-hidden='true'>";
      htmlMobile +=
        "<img src='" + _plugin.diagramImgSrc['only_m_on'] + "' alt='' />";
      htmlMobile += '</span>';
    }

    htmlPC
      ? _plugin.$diagramLink.filter('.only_p').after(htmlPC)
      : _plugin.$diagramLink.filter('.only_p').addClass('outline');
    htmlMobile
      ? _plugin.$diagramLink.filter('.only_m').after(htmlMobile)
      : _plugin.$diagramLink.filter('.only_m').addClass('outline');
  }

  // Update tab/link img position
  function updateImgPos(_plugin) {
    var $img;

    switch (deviceType) {
      case 'PC':
      case 'TABLET':
        $img = _plugin.$diagram.find('.tab_img, .link_img:not(.only_m)');
        break;
      case 'MOBILE':
        $img = _plugin.$diagram.find('.link_img.only_m');
        break;
      // default:
      //     break;
    }
    $img.each(function () {
      setTimeout(() => {
        var $this = $(this);
        var pos = getPosition($this.prev('a, button'));
        $this.css('clip', pos.styleClip);
        if ($this.closest('li').find('.tab_btn').hasClass('ty02')) {
          var src = _plugin.diagramImgSrc['only_p_on2'];
          $this.find('img').attr('src', src);
        }
      }, 1000);
    });
  }

  function getPosition($el) {
    var result = {};

    result.top = $el.position().top;
    result.left = $el.position().left;
    result.bottom = result.top + $el.height();
    result.right = result.left + $el.width();
    result.styleClip =
      'rect(' +
      result.top +
      'px, ' +
      result.right +
      'px, ' +
      result.bottom +
      'px, ' +
      result.left +
      'px)';

    return result;
  }

  // Apply aria properties
  function setAriaAttr(_plugin) {
    _plugin.$tabList
      .attr('role', 'tablist') // fixed
      .find('li')
      .attr('role', 'presentation'); // fixed

    _plugin.$tabListBtn.each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this).attr({
        role: 'tab', // fixed
        id: 'tab_btn_' + key, // fixed
        'aria-controls': 'tab_panel_' + key, // fixed
        'aria-selected': false, // changeable
      });
    });

    _plugin.$tabPanel.each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this).attr({
        role: 'region', // fixed
        id: 'tab_panel_' + key, // fixed
        'aria-labelledby': 'tab_btn_' + key, // fixed
      });
    });
  }

  function setTab(_plugin) {
    _plugin.$tabListBtn.each(function (index) {
      if (
        $(this).hasClass('active') &&
        index > 0 &&
        _plugin.$tabList.find('.active').length <= 1
      ) {
        _plugin.activeTab = index;
      }
    });
  }

  function setOpenTab(_plugin) {
    // Exception, if there is no activation tab
    if (_plugin.activeTab >= _plugin.$tabPanel.length) {
      return;
    }

    // Activate tab button
    _plugin.$tabListBtn
      .removeClass('active')
      .attr({
        'aria-selected': false,
      })
      .eq(_plugin.activeTab)
      .addClass('active')
      .attr({
        'aria-selected': true,
      });

    // Activate tab panel
    _plugin.$tabPanel
      .removeClass('active')
      .eq(_plugin.activeTab)
      .addClass('active');
  }
  this.init();
}
fo.addPlugin(M15_A);

/** M15_B | Structure */
function M15_B(el) {
  _proto = M15_B.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.mhItems;
  this.addEventFlag = false;
  this.$type1_item = this.$el.find('.type-1_list .M123_B_cont li');
  this.$slider_wrap = this.$el.find('.slide_wrap');
  this.$slick = this.$slider_wrap.find('.slider_cont');
  this.$slickItem = this.$slick.find('.item');
  this.$navigation = this.$el.find('.navigation');
  this.$navigatorHtml =
    '<div class="carousel-pagn">' +
    '<div class="carousel-pagn-inner">' +
    '<div class="carousel-pagn-st"></div>' +
    '<div class="carousel-pagn-bar"><p></p></div>' +
    '<div class="carousel-pagn-ed"></div>' +
    '</div>' +
    '</div>' +
    '<div class="md_play">' +
    '<a href="#" class="md_btn_stop"><span class="blind">슬라이드 정지</span></a>' +
    '<a href="#" class="md_btn_play"><span class="blind">슬라이드 재생</span></a>' +
    '</div>' +
    '<div class="carousel-nav">' +
    '<button type="button" class="carousel-prev"><span class="blind">이전</span></button>' +
    '<button type="button" class="carousel-next"><span class="blind">다음</span></button>' +
    '</div>';

  this.$title_slides = this.$el.find('.title_slide');
  this.$title_slidesItme = this.$el.find('.title_slide ul li');

  /* dtScm_cont video */
  this.$dtScm_cont = this.$el.find('.dtScm_cont');
  this.$videoContainer = this.$dtScm_cont.find('.md_control');
  this.$video_cont = this.$videoContainer.find('.videoPlay');
  this.$video_stopBtn = this.$video_cont.find('.md_video_stop');
  this.$video_playBtn = this.$video_cont.find('.md_video_play');
  /* //dtScm_cont video */

  var scrollbar = function () {
    var r,
      l,
      o = $('<div class="inner_scrollbar"></div>'),
      s = $('<div class="outer_scrollbar"></div>').append(o),
      e = o[0],
      a = s[0];
    return (
      $('body').append(a),
      (r = e.offsetWidth),
      s.css({ overflow: 'scroll' }),
      (l = a.clientWidth),
      s.remove(),
      r - l
    );
  };

  var _this = this;
  var deviceType;
  var mhTarget = ['.txt'];
  var resizeTimer;

  _proto.init = function () {
    // console.log("init:: M15_B", this.$type1_item)
    // Device type check
    deviceType = checkDeviceType();

    updateSlick(this); // 슬라이드 함수 포함되어 있음
    dtScm_slider(this);

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateSlick(_this); // 슬라이드 함수 포함되어 있음
        updateMhItem(_this);
        // highest_item(_this);
      }
    }, 100);
    $(window).trigger('resize');
  };

  _proto.addEvent = function () {
    _this.$el.on('click', '.carousel-prev', function (e) {
      e.preventDefault();
      _this.$slick.slick('slickPrev');
    });
    _this.$el.on('click', '.carousel-next', function (e) {
      e.preventDefault();
      _this.$slick.slick('slickNext');
    });

    _this.$el.on('mouseover', '.carousel-prev, .carousel-next', function (e) {
      _this.$slick.slick('slickPause');
    });
    _this.$el.on('mouseleave', '.carousel-prev, .carousel-next', function (e) {
      _this.$slick.slick('slickPlay');
      if (_this.$slickItem.attr('data-slideStop') == 'true') {
        _this.$slick.slick('slickPause');
      }
    });

    _this.$el.on('click', '.md_btn_stop', function (e) {
      e.preventDefault();
      sequenceControl(_this, 'STOP', true);
      _this.$slickItem.attr('data-slideStop', true);
      return false;
    });
    _this.$el.on('click', '.md_btn_play', function (e) {
      e.preventDefault();
      sequenceControl(_this, 'PLAY', true);
      _this.$slickItem.attr('data-slideStop', '');
      return false;
    });

    _this.$video_stopBtn.on('click', function (e) {
      e.preventDefault();
      var videoBtnThis = $(this);
      videoControl(videoBtnThis, 'STOP');
      return false;
    });
    _this.$video_playBtn.on('click', function (e) {
      e.preventDefault();
      var videoBtnThis = $(this);
      videoControl(videoBtnThis, 'PLAY');
      return false;
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      _this.$title_slides
        .find('.slide')
        .find('a, button')
        .removeAttr('aria-hidden tabindex');
      _this.$title_slides
        .find('.slide')
        .find('.txt_comm')
        .removeAttr('tabindex');
      return 'PC';
    } else if (window.innerWidth > 768) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  //slick slider Navigator Html mark-up
  function innerNavigatorHtml(_plugin) {
    _plugin.$navigation.html(_this.$navigatorHtml);
  }

  //slick slider 반응형 조건
  function updateSlick(_plugin) {
    switch (deviceType) {
      case 'PC':
        unslickSlider(_plugin);
        _plugin.$navigation.empty();
        break;
      case 'MOBILE':
        innerNavigatorHtml(_plugin);
        setSlider(_plugin);
        break;
      // default:
      //     break;
    }

    // no_slide 클래스가 있으면 슬라이드 기능 x
    if (_plugin.$el.hasClass('no_slide') === true) {
      unslickSlider(_plugin);
      _plugin.$navigation.empty();
    }
  }

  // slick slider 실행
  function setSlider(_plugin) {
    _plugin.$slick.on('init', function (e, slick, currentSlide) {
      initPagn(e, _plugin, slick, currentSlide);
      var currentSlideView = $(slick.$slides.get(currentSlide)); //currentSlide
      if (
        currentSlideView.hasClass('slick-current') &&
        currentSlideView.attr('data-slideStop') == 'true'
      ) {
        _plugin.$slick.slick('slickPause');
      }
    });
    _plugin.$slick.on(
      'afterChange',
      function (e, slick, currentSlide, direction) {
        updatePagn(e, _plugin, slick, currentSlide);
        var currentSlideView = $(slick.$slides.get(currentSlide)); //currentSlide
        if (
          currentSlideView.hasClass('slick-current') &&
          currentSlideView.attr('data-slideStop') == 'true'
        ) {
          _plugin.$slick.slick('slickPause');
        }
      },
    );
    _plugin.$slick.not('.slick-initialized').slick({
      accessibility: false,
      slidesToShow: 2,
      slidesToScroll: 1,
      arrows: false,
      infinite: true,
      autoplay: true,
      autoplaySpeed: 3000,
      responsive: [
        {
          breakpoint: 1024,
          settings: {
            autoplay: false,
            pauseOnFocus: false, //마우스 포커스 시 슬라이드 멈춤
            pauseOnHover: false, //마우스 호버 시 슬라이드 멈춤
            pauseOnDotsHover: false, //네이게이션 호버 시 슬라이드 멈춤(옵션에서 실행시에만)
            slidesToShow: 1,
            adaptiveHeight: true,
          },
        },
      ],
    });
  }

  //unslick slick slider 해제
  function unslickSlider(_plugin) {
    _plugin.$slick.filter('.slick-initialized').slick('unslick');
  }

  /** 슬라이드 prograss */
  function initPagn(e, _plugin, slick, currentSlide) {
    var activeIndex = (currentSlide ? currentSlide : 0) + 1;
    var barWidth = (100 / slick.slideCount) * activeIndex;
    var ariaTxt = setNum(activeIndex) + ' of ' + setNum(slick.slideCount);
    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-bar p')
      .css('width', barWidth + '%');
    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-st')
      .text(setNum(activeIndex));
    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-ed')
      .text(setNum(slick.slideCount));
  }

  function updatePagn(e, _plugin, slick, currentSlide) {
    var activeIndex = (currentSlide ? currentSlide : 0) + 1;
    var barWidth = (100 / slick.slideCount) * activeIndex;
    var ariaTxt = setNum(activeIndex) + ' of ' + setNum(slick.slideCount);

    if (isNaN(activeIndex)) return;

    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-bar p')
      .css('width', barWidth + '%');
    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-st')
      .text(setNum(activeIndex));
    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-ed')
      .text(setNum(slick.slideCount));
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }
  /** //슬라이드 prograss */

  // Sequence Control: play, stop
  function sequenceControl(_plugin, option, changeFocus) {
    switch (option) {
      case 'PLAY':
        _this.$slick.slick('slickPlay');
        _plugin.$slider_wrap.find('.md_play').removeClass('on');
        break;
      case 'STOP':
        _this.$slick.slick('slickPause');
        _plugin.$slider_wrap.find('.md_play').addClass('on');
        break;
      // default:
      //     break;
    }
  }

  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$type1_item.find(target);
    });
  }
  // Update Match Height Item
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false }, //type1_item ,target: $('.type-1_list .M123_B_cont')
      remove: { tbyRow: false, remove: true },
    };
    switch (deviceType) {
      case 'PC':
      case 'TABLET':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        break;
      // default:
      //     break;
    }
  }

  function dtScm_slider(_plugin) {
    $('.dtScm_cont').each(function (key, item) {
      var $sliderWrap = $(this).find('.slider_cont');
      var $viewSlider = $sliderWrap.find('.images_slide');
      var $navSlider = $sliderWrap.find('.title_slide');
      var $sliderPrevArrow = $sliderWrap.find('.slickArrow_con .prev');
      var $slidernextArrow = $sliderWrap.find('.slickArrow_con .next');

      //slide progress
      var $slickCounter = $(this).find('.slick-counter');
      var $progressBar = $sliderWrap.find('.progress');
      var $progressBarLabel = $sliderWrap.find('.slider__label');
      var $currentTxt = $sliderWrap.find('.current');
      var $totalTxt = $sliderWrap.find('.total');

      /* 2023-04 접근성 수정 시작 */
      $sliderPrevArrow.on('click', function () {
        _this.startDeviceType = '';
      });

      $slidernextArrow.on('click', function () {
        _this.startDeviceType = '';
      });

      $viewSlider.on('init', function (event, slick) {
        _this.startDeviceType = checkDeviceType();

        /* 2023-04 접근성 수정 시작 */
        let calc = ((slick.currentSlide + 1) / slick.slideCount) * 100;
        let firstNum = 100 / slick.slideCount;
        calc = calc == 0 ? firstNum : calc;

        $progressBar.removeAttr('role aria-valuemin aria-valuemax');
        $progressBarLabel.text(Math.floor(calc) + '% completed');
        /* // 2023-04 접근성 수정 끝 */
      });
      /* // 2023-04 접근성 수정 끝 */

      $viewSlider.not('.slick-initialized').slick({
        accessibility: true, // 2023-04 접근성 수정
        slidesToShow: 1,
        slidesToScroll: 1,
        autoplay: false, //true
        autoplaySpeed: 3000, //3000
        adaptiveHeight: true,
        speed: 200,
        fade: true,
        arrows: true,
        prevArrow: $sliderPrevArrow,
        nextArrow: $slidernextArrow,
        responsive: [
          {
            breakpoint: 1024, // 2023-04 접근성 수정
            settings: {
              fade: false,
              centerMode: true,
              centerPadding: '0',
              // variableWidth: true
            },
          },
        ],
      });
      /* 탭 메뉴 리스트 슬라이드 이동시 클래스 변경 */
      $viewSlider.on('afterChange', function (event, slick, currentSlide) {
        $navSlider.slick('slickGoTo', currentSlide);
        var currrentNavSlideElem = $navSlider.find(
          '.slick-slide[data-slick-index="' + currentSlide + '"]',
        );
        $navSlider.find('.slick-slide.active').removeClass('active');
        $(currrentNavSlideElem).addClass('active');

        /* progressBar */
        $currentTxt.text(
          currentSlide + 1 < 10 ? '0' + (currentSlide + 1) : currentSlide + 1,
        );
        var calc = ((currentSlide + 1) / slick.slideCount) * 100,
          firstNum = 100 / slick.slideCount;
        calc = calc == 0 ? firstNum : calc;
        //console.log(currentSlide, firstNum, calc);
        $progressBar.css('background-size', Math.floor(calc) + '% 100%'); // .attr('aria-valuenow', calc ); // 2023-04 접근성 수정
        $progressBarLabel.text(Math.floor(calc) + '% completed'); // 2023-04 접근성 수정

        /* 2023-04 접근성 수정 시작 */
        if ($(window).width() - scrollbar() >= 1024) return;

        if (_this.startDeviceType !== 'PC') {
          $navSlider
            .find('.slick-slide')
            .find('a, button')
            .attr({ 'aria-hidden': true, tabindex: -1 });
          $navSlider
            .find('.slick-slide')
            .find('.txt_comm')
            .removeAttr('tabindex');
          $navSlider
            .find('[data-slick-index = ' + currentSlide + ']')
            .find('a, button')
            .removeAttr('aria-hidden tabindex');
          $navSlider
            .find('[data-slick-index = ' + currentSlide + ']')
            .find('.txt_comm')
            .attr('tabindex', 0);
          setTimeout(function () {
            $navSlider
              .find('[data-slick-index = ' + currentSlide + '] .txt_comm')
              .focus();
            // console.log('focus');
          }, 1);
        }
        /* // 2023-04 접근성 수정 끝 */
      });

      /* 2023-04 접근성 수정 시작 */
      $navSlider.on('blur', '.slick-slide .txt_comm', function () {
        $(this).removeAttr('tabindex');
      });
      /* // 2023-04 접근성 수정 끝 */

      $navSlider.on('init', function (event, slick, currentSlide) {
        // console.log("slick", slick.$list)
        $navSlider.find('.slick-slide.slick-current').addClass('active');

        /* total text */
        $totalTxt.text(
          slick.slideCount < 10 ? '0' + slick.slideCount : slick.slideCount,
        );
      });
      $navSlider.not('.slick-initialized').slick({
        accessibility: false, // 2023-04 접근성 수정
        slidesToShow: 3, // 5에서 4로 수정
        slidesToScroll: 1,
        autoplay: false,
        autoplaySpeed: 3000,
        speed: 100,
        dots: false,
        focusOnSelect: false,
        vertical: true,
        infinite: false,
        arrows: false,
        // pauseOnHover:true,
        // pauseOnFocus:true,
        // swipeToSlide: true,
        adaptiveHeight: true,
        responsive: [
          {
            breakpoint: 1024, // 2023-04 접근성 수정
            settings: {
              slidesToShow: 1,
              slidesToScroll: 1,
              infinite: true,
              vertical: false,
              swipe: false,
              fade: true,
              adaptiveHeight: true,
              //focusOnSelect: true,
            },
          },
        ],
      });

      if (_this.startDeviceType === 'PC') {
        $navSlider.on('mouseenter keydown', '.slick-slide', function (event) {
          var goToSingleSlide = $(this).data('slick-index');
          event.preventDefault();
          $viewSlider.slick('slickGoTo', goToSingleSlide);
          if (event.type === 'keydown') {
            // 키보드 입력일 경우만 포커스 이동 처리
            setTimeout(() => {
              $viewSlider.find('[tabindex="0"]').focus();
              $viewSlider
                .find('[data-slick-index=' + goToSingleSlide + ']')
                .on('keydown', function (e) {
                  if (e.shiftKey && e.keyCode === 9) {
                    $navSlider
                      .find('[data-slick-index ="0"] .btn_comm')
                      .focus();
                    $(':focus').blur(); // 빽탭키 이용 시 포커스 해제
                    return false;
                  } else if (e.keyCode === 9) {
                    if ($(this).siblings().last().data('slick-index') != 1) {
                      $navSlider
                        .find(
                          '[data-slick-index = ' +
                            goToSingleSlide +
                            '] .btn_comm',
                        )
                        .focus();
                    }
                  }
                });
            }, 200);
          }
        });
      }
    });
  }

  // video Control: play, stop
  function videoControl(videoBtnThis, option) {
    switch (option) {
      case 'PLAY':
        videoBtnThis.closest('.videoPlay').removeClass('on');
        videoBtnThis.closest('.video_wrap').find('.video video').get(0).play();
        // changeFocus && videoBtnThis.prev();
        break;
      case 'STOP':
        videoBtnThis.closest('.videoPlay').addClass('on');
        videoBtnThis.closest('.video_wrap').find('.video video').get(0).pause();
        // changeFocus && videoBtnThis.next();
        break;
      // default:
      //     break;
    }
  }

  this.init();
}
fo.addPlugin(M15_B);

/** M15_C | Structure */
function M15_C(el) {
  _proto = M15_C.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$tabList = this.$el.find('.tab_list');
  this.$tabListBtn = this.$tabList.find('.tab_btn');
  this.$tabPanel = this.$el.find('.tab_panel');
  this.$diagram = this.$el.find('.diagram_wrap');
  this.$diagramLink = this.$diagram.find('.link_btn');
  this.diagramImgSrc = {
    only_p_on: this.$diagram.find('.img_p img.on').attr('src') || null,
    only_p_on2: this.$diagram.find('.img_p img.on2').attr('src') || null,
    only_m_on: this.$diagram.find('.img_m img.on').attr('src') || null,
    only_p_off: this.$diagram.find('.img_p img:not(.on)').attr('src') || null,
    only_m_off: this.$diagram.find('.img_m img:not(.on)').attr('src') || null,
  };
  this.key = Math.floor(this.$el.offset().top);
  this.activeTab = 0;

  var hashUrl = window.location.hash;
  var hashId = hashUrl.split('#')[1];
  var _this = this; // M15_C
  var deviceType; // "PC", "TABLET", "MOBILE"

  _proto.init = function () {
    //console.log("init:: M15_C")
    // Device type check
    deviceType = checkDeviceType();

    // Tab activated on initial load
    if (this.$el.is('[data-active-tab]') && this.data.activeTab >= 0) {
      this.activeTab =
        this.data.activeTab < this.$tabListBtn.length
          ? this.data.activeTab
          : this.$tabListBtn.length - 1;
      this.$el.removeAttr('data-active-tab');
    }

    // Tab activated on initial load
    if (this.$el.is('[data-active-tab]') && this.data.activeTab >= 0) {
      this.activeTab =
        this.data.activeTab < this.$tabListBtn.length
          ? this.data.activeTab
          : this.$tabListBtn.length - 1;
      this.$el.removeAttr('data-active-tab');
    }

    // Initial image setting
    setTabImg(this);
    setLinkImg(this);
    updateImgPos(this);

    // Initial tab setting
    setTab(this);
    setAriaAttr(this);
    setOpenTab(this);

    this.$diagram.addClass('init');

    if (this.$el.find('[data-trigger-show]').length) {
      this.$el.find('[data-trigger-show]').each(function () {
        var showTarget = $(this).attr('data-trigger-show');
        _this.$el.find(showTarget).addClass('show');
      });
    }

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    //other page url hash
    _this.$tabListBtn.each(function (index) {
      var $this = $(this);
      var key;
      if ($this.hasClass(hashId)) {
        key = _this.key;
        _this.activeTab = _this.$tabListBtn.index($(this));
        setOpenTab(_this);
        window.scrollTo(top, key);
      }
    });
    // Tab button click
    _this.$tabListBtn.on('click', function (e) {
      e.preventDefault();

      _this.activeTab = _this.$tabListBtn.index($(this));
      setOpenTab(_this);
    });
    // Window resize
    $(window).on('resize', function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
      }
      // Update tab img position
      updateImgPos(_this);
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  // Initial tab img setting
  function setTabImg(_plugin) {
    /* 삭제 */
    if (!_plugin.$tabListBtn.length) return;
    if (!_plugin.diagramImgSrc['only_p_on']) return;

    var html = '';
    html += "<span class='tab_img' aria-hidden='true'>";
    html += "<img src='" + _plugin.diagramImgSrc['only_p_on'] + "' alt='' />";
    html += '</span>';
    html
      ? _plugin.$tabListBtn.after(html)
      : _plugin.$tabListBtn.addClass('outline');
  }

  // Initial link img setting
  function setLinkImg(_plugin) {
    if (!_plugin.$diagramLink.length) return;

    var htmlPC = '';
    if (_plugin.diagramImgSrc['only_p_on']) {
      htmlPC += "<span class='link_img only_p' aria-hidden='true'>";
      htmlPC +=
        "<img src='" + _plugin.diagramImgSrc['only_p_on'] + "' alt='' />";
      htmlPC += '</span>';
    }

    var htmlMobile = '';
    if (_plugin.diagramImgSrc['only_m_on']) {
      htmlMobile += "<span class='link_img only_m' aria-hidden='true'>";
      htmlMobile +=
        "<img src='" + _plugin.diagramImgSrc['only_m_on'] + "' alt='' />";
      htmlMobile += '</span>';
    }

    htmlPC
      ? _plugin.$diagramLink.filter('.only_p').after(htmlPC)
      : _plugin.$diagramLink.filter('.only_p').addClass('outline');
    htmlMobile
      ? _plugin.$diagramLink.filter('.only_m').after(htmlMobile)
      : _plugin.$diagramLink.filter('.only_m').addClass('outline');
  }

  // Update tab/link img position
  function updateImgPos(_plugin) {
    var $img;

    switch (deviceType) {
      case 'PC':
      case 'TABLET':
        $img = _plugin.$diagram.find('.tab_img, .link_img:not(.only_m)');
        break;
      case 'MOBILE':
        $img = _plugin.$diagram.find('.link_img.only_m');
        break;
      // default:
      //     break;
    }

    $img.each(function () {
      var $this = $(this);
      var pos = getPosition($this.prev('a, button'));

      $this.css('clip', pos.styleClip);
      if ($this.closest('li').find('.tab_btn').hasClass('ty02')) {
        var src = _plugin.diagramImgSrc['only_p_on2'];
        $this.find('img').attr('src', src);
      }
    });
  }

  function getPosition($el) {
    var result = {};

    result.top = $el.position().top;
    result.left = $el.position().left;
    result.bottom = result.top + $el.height();
    result.right = result.left + $el.width();
    result.styleClip =
      'rect(' +
      result.top +
      'px, ' +
      result.right +
      'px, ' +
      result.bottom +
      'px, ' +
      result.left +
      'px)';

    return result;
  }

  // Apply aria properties
  function setAriaAttr(_plugin) {
    _plugin.$tabList
      .attr('role', 'tablist') // fixed
      .find('li')
      .attr('role', 'presentation'); // fixed

    _plugin.$tabListBtn.each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this).attr({
        role: 'tab', // fixed
        id: 'tab_btn_' + key, // fixed
        'aria-controls': 'tab_panel_' + key, // fixed
        'aria-selected': false, // changeable
      });
    });

    _plugin.$tabPanel.each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this).attr({
        role: 'region', // fixed
        id: 'tab_panel_' + key, // fixed
        'aria-labelledby': 'tab_btn_' + key, // fixed
      });
    });
  }

  function setTab(_plugin) {
    _plugin.$tabListBtn.each(function (index) {
      if (
        $(this).hasClass('active') &&
        index > 0 &&
        _plugin.$tabList.find('.active').length <= 1
      ) {
        _plugin.activeTab = index;
      }
    });
  }

  function setOpenTab(_plugin) {
    // Exception, if there is no activation tab
    if (_plugin.activeTab >= _plugin.$tabPanel.length) {
      return;
    }

    // Activate tab button
    _plugin.$tabListBtn
      .removeClass('active')
      .attr({
        'aria-selected': false,
      })
      .eq(_plugin.activeTab)
      .addClass('active')
      .attr({
        'aria-selected': true,
      });

    // Activate tab panel
    _plugin.$tabPanel
      .removeClass('active')
      .eq(_plugin.activeTab)
      .addClass('active');
  }

  this.init();
}
fo.addPlugin(M15_C);

/** M16_A | Product */
function M16_A(el) {
  _proto = M16_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$tabList = this.$el.find('.tab_list');
  this.$tabListBtn = this.$tabList.find('.tab_btn');
  this.$tabPanel = this.$el.find('.tab_panel');
  this.$visualArea = this.$el.find('.visual_img .img_p');
  this.$detailList = this.$el.find('.detail_list');
  this.key = Math.floor(this.$el.offset().top);
  this.activeTab = 0;
  this.mhItems;

  var _this = this; // M16_A
  var deviceType; // "PC", "TABLET", "MOBILE"
  var mhTarget = ['.md_tit', '.md_txt'];
  var resizeTimer;

  _proto.init = function () {
    //console.log("init:: M16_A")
    // Device type check
    deviceType = checkDeviceType();

    // Set visual img
    this.setVisualImg();

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    if (this.$tabListBtn.length < 2 || this.$tabPanel.length < 2) {
      //this.$tabList.remove();
      _this.$el
        .find('.tab_slide_area')
        .remove(); /* 2022.10.20 observer 오류방지 */
      return;
    }

    // Tab activated on initial load
    if (this.$el.is('[data-active-tab]') && this.data.activeTab >= 0) {
      this.activeTab =
        this.data.activeTab < this.$tabListBtn.length
          ? this.data.activeTab
          : this.$tabListBtn.length - 1;
      this.$el.removeAttr('data-active-tab');
    }

    // Initial tab aria setting
    setAriaAttr(this);
    setOpenTab(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateMhItem(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  _proto.addEvent = function () {
    // Tab button click
    _this.$tabListBtn.on('click', function () {
      _this.activeTab = _this.$tabListBtn.index($(this));
      setOpenTab(_this);
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$detailList.find(target);
    });
  }

  // Update Match Height Item
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };

    switch (deviceType) {
      case 'PC':
      case 'TABLET':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        break;
      // default:
      //     break;
    }
  }

  // Apply aria properties
  function setAriaAttr(_plugin) {
    _plugin.$tabList
      .attr('role', 'tablist') // fixed
      .find('li')
      .attr('role', 'presentation'); // fixed

    _plugin.$tabListBtn.each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this).attr({
        role: 'tab', // fixed
        id: 'tab_btn_' + key, // fixed
        'aria-controls': 'tab_panel_' + key, // fixed
        'aria-selected': false, // changeable
      });
    });

    _plugin.$tabPanel.each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this).attr({
        role: 'region', // fixed
        id: 'tab_panel_' + key, // fixed
        'aria-labelledby': 'tab_btn_' + key, // fixed
      });
    });
  }

  function setOpenTab(_plugin) {
    // Exception, if there is no activation tab
    if (_plugin.activeTab >= _plugin.$tabPanel.length) {
      return;
    }

    // Activate tab button
    _plugin.$tabListBtn
      .removeClass('active')
      .attr({
        'aria-selected': false,
      })
      .eq(_plugin.activeTab)
      .addClass('active')
      .attr({
        'aria-selected': true,
      });

    // Activate tab panel
    _plugin.$tabPanel
      .removeClass('active')
      .eq(_plugin.activeTab)
      .addClass('active');
  }

  this.init();
}
fo.addPlugin(M16_A);

/** M16_B | Product */
function M16_B(el) {
  _proto = M16_B.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$slick = {
    key: Math.floor(this.$el.offset().top),
    slideCount: 0,
    currentSlide: 0,

    slider: this.$el.find('.slider-wrap'),
    sliderItem: this.$el.find('.slider-wrap .slider-panel'),
    sliderItemLength: this.$el.find('.slider-wrap .slider-panel').length,

    tab: this.$el.find('.slick-tab .tab_list'),
    tabItem: this.$el.find('.slick-tab .tab_list li'),
    tabBtn: this.$el.find('.slick-tab .tab_list li a'),

    navigation: this.$el.find('.navigation'),
    btnPrev: this.$el.find('.slick-nav-prev'),
    btnNext: this.$el.find('.slick-nav-next'),

    control: this.$el.find('.slick-ctrl'),
    btnStop: this.$el.find('.slick-ctrl-stop'),
    btnPlay: this.$el.find('.slick-ctrl-play'),

    pagnSt: this.$el.find('.slick-pagn-st'),
    pagnEd: this.$el.find('.slick-pagn-ed'),
    pagnBar: this.$el.find('.slick-pagn-bar'),
  };

  var _this = this; // M16_B
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;

  _proto.init = function () {
    //console.log("init:: M16_B");
    deviceType = checkDeviceType();
    slickInit();

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) deviceType = currentDeviceType;
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    if (_this.$slick.sliderItemLength <= 1) {
      _this.$slick.slider.slick('unslick');
      _this.$slick.tab.slick('unslick');
      _this.$slick.navigation.remove();
    }

    if (_this.data.autoplay != true) {
      _this.$slick.control.remove();
      _this.$slick.slider.slick('slickSetOption', 'autoplay', false, true);
    }

    _this.$slick.tabBtn.on('click', function () {
      _this.$slick.slider.slick('goTo', _this.$slick.tabBtn.index($(this)));
    });

    _this.$slick.btnStop.on('click', function () {
      sequenceControl(_this, 'STOP', true);
    });
    _this.$slick.btnPlay.on('click', function () {
      sequenceControl(_this, 'PLAY', true);
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  const slickInit = function () {
    _this.$slick.slider.on('init', function (event, slick) {
      _this.$slick.slideCount = slick.slideCount;
      _this.$slick.currentSlide = slick.currentSlide;
      setSlickNav();
      setSlickTab('init');
    });
    _this.$slick.slider.slick({
      accessibility: true,
      autoplay: true,
      infinite: true,
      initialSlide: _this.data.activeTab,
      speed: 200,
      arrows: false,
      speed: 500,
      arrows: true,
      prevArrow: _this.$slick.btnPrev,
      nextArrow: _this.$slick.btnNext,
      responsive: [
        {
          breakpoint: 1023,
          settings: {
            centerMode: true,
            centerPadding: '10px',
          },
        },
      ],
    });
    checkAutoplay();

    _this.$slick.slider.on(
      'afterChange',
      function (event, slick, currentSlide, nextSlide) {
        _this.$slick.currentSlide = currentSlide;
        setSlickNav();
        setSlickTab();
        checkAutoplay();
        _this.$slick.tab.slick('slickGoTo', _this.$slick.currentSlide, false);
      },
    );

    _this.$slick.slider.on('setPosition', function (event, slick) {
      setSlideH();
    });

    _this.$slick.tab.slick({
      accessibility: false,
      slidesToShow: _this.$slick.sliderItemLength,
      slidesToScroll: 10,
      speed: 200,
      infinite: false,
      dots: false,
      arrows: false,
      pauseOnHover: true,
      pauseOnFocus: true,
      variableWidth: true,
      responsive: [
        {
          breakpoint: 767,
          settings: {
            slidesToShow: _this.$slick.sliderItemLength,
            slidesToScroll: 1,
          },
        },
        {
          breakpoint: 375,
          settings: {
            slidesToShow: 3,
            slidesToScroll: 1,
            swipeToSlide: true,
          },
        },
      ],
    });
  };

  const setSlickNav = function () {
    let slideCount = _this.$slick.slideCount;
    let cnt = _this.$slick.currentSlide;
    let per = ((cnt + 1) * 100) / slideCount;
    _this.$slick.pagnSt.html(String(cnt + 1).padStart(2, 0));
    _this.$slick.pagnEd.html(String(slideCount).padStart(2, 0));
    _this.$slick.pagnBar.find('span').css({ width: `${per}%` });
  };

  const setSlickTab = function (init) {
    let isFirst = init == 'init' ? true : false; // 처음 setting 시에만 'init' 전달
    let active = _this.$slick.currentSlide;

    _this.$slick.tabItem.removeClass('active');
    _this.$slick.tabItem.eq(active).addClass('active');
    _this.$slick.tabBtn.attr({ 'aria-selected': false });
    _this.$slick.tabBtn.eq(active).attr({ 'aria-selected': true });

    if (!isFirst) return;

    _this.$slick.tab.attr('role', 'tablist'); // fixed
    _this.$slick.tabItem.attr('role', 'presentation'); // fixed

    _this.$slick.tabBtn.each(function (idx) {
      let key = `${_this.$slick.key}_${idx}`;
      $(this).attr({
        role: 'tab', // fixed
        id: `tab_btn_${key}`, // fixed
        'aria-controls': `tab_panel_${key}`, // fixed
        'aria-selected': idx == active ? true : false, // changeable
      });
    });

    _this.$slick.sliderItem.each(function (idx) {
      let key = `${_this.$slick.key}_${idx}`;
      $(this).attr({
        role: 'region', // fixed
        id: `tab_panel_${key}`, // fixed
        'aria-labelledby': `tab_btn_${key}`, // fixed
      });
    });
  };

  const setSlideH = function () {
    let maxH = 0;
    let txt = _this.$slick.slider.find('.slider-panel .txt');
    txt.css({ height: `` });
    txt.each((idx, item) => {
      if (maxH < $(item).outerHeight(true)) maxH = $(item).outerHeight(true);
    });
    txt.css({ height: `${maxH}px` });
  };

  // data-slidestop="true" 옵션 추가 시 자동재생 멈춤
  const checkAutoplay = function () {
    const currentSlide = _this.$slick.currentSlide;
    const slide = _this.$slick.sliderItem[currentSlide];
    const isStop = $(slide).data('slidestop');

    if (isStop) {
      sequenceControl(_this, 'STOP', false);
    } else {
      sequenceControl(_this, 'PLAY', false);
    }
  };

  // Sequence Control: play, stop
  function sequenceControl(_plugin, option, changeFocus) {
    switch (option) {
      case 'PLAY':
        _this.$slick.slider.slick('slickPlay');
        _this.$slick.control.removeClass('on');
        changeFocus && _this.$slick.btnStop.focus();
        break;
      case 'STOP':
        _this.$slick.slider.slick('slickPause');
        _this.$slick.control.addClass('on');
        changeFocus && _this.$slick.btnPlay.focus();
        break;
      default:
        break;
    }
  }

  this.init();
}
fo.addPlugin(M16_B);

/** Page | M16_C */
function M16_C(el) {
  _proto = M16_C.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;

  this.key = Math.floor(this.$el.offset().top);
  this.startIndex = this.data.activeTab || 0;
  this.currentIndex = this.startIndex;

  this.$carousel = this.$el.find('.slider-wrap');
  this.$carouselItem = this.$el.find('.slider-wrap .slider-panel');
  this.$speed = 300; // slick slide

  this.$tab = this.$el.find('.slick-tab .tab_list'); // ul
  this.$tabItem = this.$el.find('.slick-tab .tab_list li a'); // a

  this.$isPaused = false;
  this.$isStop = false;

  // this.$navigation = this.$el.find(".navigation");

  let _this = this;
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;

  _proto.init = function () {
    deviceType = checkDeviceType();

    // _this.$navigation.remove();

    setCarousel();

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();

      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        tabScroll();
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    $(window).on('scroll resize', () => {
      resizeTimer.start();
    });

    clickEvent();
    KeyboardEvent();
    tabDragEvent();
  };

  // 디바이스 타입을 확인하는 함수
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else {
      return 'MOBILE';
    }
  }

  const setCarousel = function () {
    _this.$carousel.on('init', function (event, slick) {
      _this.currentIndex = slick.currentSlide;
      tabScroll();
      setTabSlideAttr({ setting: true }); // 초기 세팅 시에만 parameter 넘김
    });

    _this.$carousel.slick({
      autoplay: false,
      infinite: false,
      initialSlide: _this.startIndex,
      speed: _this.$speed,
      arrows: false,
      responsive: [
        {
          breakpoint: 1023,
          settings: {
            centerMode: true,
            centerPadding: '0',
          },
        },
      ],
    });

    _this.$carousel.on(
      'afterChange',
      function (event, slick, currentSlide, nextSlide) {
        _this.currentIndex = currentSlide;
        setTabSlideAttr();
        tabScroll();
      },
    );

    _this.$carousel.on('setPosition', function (event, slick) {
      setEqualLDivHeight();
    });
  };

  /* activeIndex 변경 시 tab 스크롤 값 세팅 */
  function tabScroll() {
    const data = {
      tabSlideArea: _this.$el.find('.slick-tab'),
      tab: _this.$tab,
      tabItems: _this.$tabItem,
      activeIdx: _this.currentIndex,
    };
    slide.setTabScroll(_this, data);
  }

  /* 슬라이드의 Tablist, tabpanel 속성 세팅, 슬라이드의 activeIndex가 변경되면 접근성 속성 업데이트 */
  const setTabSlideAttr = function (params) {
    let setting = false;
    if (params) setting = params.setting ? true : false;

    const data = {
      carousel: _this.$carousel,
      type: {
        setting: setting, // 초기세팅 시 true
        // orientation: _this.$tabOrientation,   // tab 방향이 세로일 경우 true
      },
      key: _this.key,
      tablist: _this.$tab,
      tablists: _this.$tabItem,
      tabpanel: _this.$carousel,
      tabpanels: _this.$carouselItem,
      activeIdx: _this.currentIndex,
    };
    setTimeout(() => {
      slide.setTabSlideAttr(_this, data);
    }, 1); // tabindexs time
  };

  /* slide click event */
  function clickEvent() {
    _this.$tabItem.on('click', function () {
      const idx = _this.$tabItem.index($(this));
      _this.$carousel.slick('goTo', idx);
    });
  }

  /* mouse drag Event */
  function tabDragEvent() {
    const data = {
      element: _this.$el.find('.slick-tab')[0],
    };
    slide.setTabDragEvent(_this, data);
  }

  /* slide keyboard < > event */
  function KeyboardEvent() {
    _this.$carousel.on('keydown', function (e) {
      let flag = false;

      if (e.keyCode === 37) {
        _this.$isStop = true;
        flag = true;
        _this.$carousel.slick('slickPrev');
        // sequenceControl(_this, "STOP", false);
        setTimeout(() => {
          _this.$carouselItem.eq(_this.currentIndex).find('a, button').focus();
        }, _this.$speed + 1);
      } else if (e.keyCode === 39) {
        _this.$isStop = true;
        flag = true;
        _this.$carousel.slick('slickNext');
        // sequenceControl(_this, "STOP", false);
        setTimeout(() => {
          _this.$carouselItem.eq(_this.currentIndex).find('a, button').focus();
        }, _this.$speed + 1);
      }
      if (flag) {
        e.stopPropagation();
        e.preventDefault();
      }
    });

    _this.$tab.on('keydown', function (e) {
      let flag = false;

      if (e.keyCode === 37) {
        _this.$isStop = true;
        flag = true;
        _this.$carousel.slick('slickPrev');
        // sequenceControl(_this, "STOP", false);
        setTimeout(() => {
          _this.$tabItem.eq(_this.currentIndex).focus();
        }, _this.$speed + 1); // speed
      } else if (e.keyCode === 39) {
        _this.$isStop = true;
        flag = true;
        _this.$carousel.slick('slickNext');
        // sequenceControl(_this, "STOP", false);
        setTimeout(() => {
          _this.$tabItem.eq(_this.currentIndex).focus();
        }, _this.$speed + 1); // speed
      }
      if (flag) {
        e.stopPropagation();
        e.preventDefault();
      }
    });
  }

  const setEqualLDivHeight = function () {
    const panels = _this.$carousel.find('.slider-panel');

    // 각 lDiv의 높이를 초기화
    panels.find('.l_div').css({ height: '' });

    // 각 lDiv의 최대 높이를 계산
    const maxLDivHeight = panels
      .map((i, panel) => {
        const lDiv = $(panel).find('.l_div');

        // l_div의 높이를 계산
        return lDiv.outerHeight(true);
      })
      .get()
      .sort((a, b) => b - a)[0];

    // 모든 lDiv의 높이를 최대 높이로 설정
    panels.find('.l_div').css({ height: `${maxLDivHeight}px` });
  };

  this.init();
}
fo.addPlugin(M16_C);

/** M17_A | Specifications **/
function M17_A(el) {
  _proto = M17_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$contentTit = this.$el.find('.tit_s');
  this.$detailList = this.$el.find('.detail_list');
  this.$imgArea = this.$detailList.find('.img_p');
  this.mhItems;
  this.imgSize = 0;
  this.switchPoint = 982;

  var _this = this; // M17_A
  var deviceType; // "PC", "TABLET", "MOBILE"
  var mhTarget = ['.md_tit', '.md_txt'];
  var resizeTimer;

  _proto.init = function () {
    //console.log("init:: M17_A")
    // Device type check
    deviceType = checkDeviceType();

    // Set style based on img size
    if (this.$imgArea.length) {
      setImageArea(this);
    }

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateMhItem(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Set style based on img size
  function setImageArea(_plugin) {
    var success = function (imgInfo) {
      _plugin.$imgArea.removeAttr('data-url');
      if (_plugin.imgSize >= imgInfo.width) {
        return;
      }
      _plugin.imgSize = imgInfo.width;
      if (_plugin.switchPoint < _plugin.imgSize) {
        _plugin.$contentTit.addClass('wide');
        _plugin.$detailList.addClass('wide');
      }
    };

    var error = function (imgInfo) {
      _plugin.$imgArea.removeAttr('data-url');
    };

    _plugin.$imgArea.each(function () {
      getImageSize(_plugin, $(this).attr('data-url'), success, error);
    });
  }

  function getImageSize(_plugin, url, resolveFn, rejectFn) {
    var newImg = new Image();

    newImg.onload = function () {
      if (resolveFn != undefined) {
        resolveFn({
          src: url,
          width: newImg.width,
          height: newImg.height,
        });
      }
      _plugin.$imgArea.append(newImg).hide().fadeIn(300);
    };

    newImg.onerror = function () {
      rejectFn({
        src: url,
      });
      _plugin.$imgArea.parent('.img').remove();
    };

    newImg.src = url;
    newImg.alt = '';
  }

  _proto.addEvent = function () {
    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$detailList.find(target);
    });
  }

  // Update Match Height Item
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };

    switch (deviceType) {
      case 'PC':
      case 'TABLET':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        break;
      // default:
      //     break;
    }
  }

  this.init();
}
fo.addPlugin(M17_A);

/** M18_D */
function M18_D(el) {
  _proto = M18_D.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  /**20221218 툴팁 컨텐츠 넘어갈때 분기 */
  this.$item_list = this.$el.find('.li');
  this.$el_bottom = this.$el.offset().top + this.$el.outerHeight(true); //offset bottom
  this.mhItems;

  var _this = this; // M18_D
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;

  _proto.init = function () {
    // console.log("init:: M18_D")
    // Device type check
    deviceType = checkDeviceType();

    tooltip_position(_this); //20221218 툴팁 컨텐츠 넘어갈때 분기

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        tooltip_position(_this); //20221218 툴팁 컨텐츠 넘어갈때 분기
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  /**20221218 툴팁 컨텐츠 넘어갈때 분기 */
  function tooltip_position(_plugin) {
    switch (deviceType) {
      case 'PC':
        _plugin.$item_list.each(function (i) {
          if ($(this).find('.txt .md_txt .tool_tip').length === 1) {
            var m18D_bottom = _plugin.$el_bottom;
            var tooltip_offsetTop = $(this).find('.tool_tip').offset().top + 45; //45값은 css top 높이만큼 올려준 수치
            var tooltip_txtHeight = $(this)
              .find('.pop_longletter')
              .outerHeight(true);

            if (m18D_bottom <= tooltip_offsetTop + tooltip_txtHeight) {
              $(this).addClass('bt_position');
            }
          }
        });
        break;
      case 'TABLET':
      case 'MOBILE':
        _plugin.$item_list.removeClass('bt_position');
        break;
      // default:
      //     break;
    }
  }

  this.init();
}
fo.addPlugin(M18_D);

/** M18_F | AWS */
function M18_F(el) {
  _proto = M18_F.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.mhItems;
  this.$slider_wrap = this.$el.find('.slide_wrap');
  this.$slick = this.$slider_wrap.find('.slider_cont');
  this.$slickItem = this.$slick.find('.item');
  this.$navigation = this.$el.find('.navigation');
  this.$navigatorHtml =
    '<div class="carousel-pagn">' +
    '<div class="carousel-pagn-inner">' +
    '<div class="carousel-pagn-st"></div>' +
    '<div class="carousel-pagn-bar"><p></p></div>' +
    '<div class="carousel-pagn-ed"></div>' +
    '</div>' +
    '<button type="button" class="carousel-prev"><span class="blind">이전</span></button>' +
    '<button type="button" class="carousel-next"><span class="blind">다음</span></button>' +
    '</div>' +
    '<div class="md_play">' +
    '<a href="#" class="md_btn_stop"><span class="blind">슬라이드 정지</span></a>' +
    '<a href="#" class="md_btn_play"><span class="blind">슬라이드 재생</span></a>' +
    '</div>';

  var _this = this; // M18_F
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var mhTarget = ['.md_tit', '.md_txt'];

  _proto.init = function () {
    //console.log("init:: M18_F")
    // Device type check
    deviceType = checkDeviceType();

    innerNavigatorHtml(this); //슬라이드 네비게이터 html
    updateSlick(this); // 슬라이드 함수 포함되어 있음

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    resizeTimer = new Timer(function (_plugin) {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateSlick(_this); // 슬라이드 함수 포함되어 있음
        updateMhItem(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$el.on('click', '.carousel-prev', function (e) {
      e.preventDefault();
      _this.$slick.slick('slickPrev');
    });
    _this.$el.on('click', '.carousel-next', function (e) {
      e.preventDefault();
      _this.$slick.slick('slickNext');
    });

    _this.$el.on('mouseover', '.carousel-prev, .carousel-next', function (e) {
      _this.$slick.slick('slickPause');
    });
    _this.$el.on('mouseleave', '.carousel-prev, .carousel-next', function (e) {
      _this.$slick.slick('slickPlay');
      if (_this.$slickItem.attr('data-slideStop') == 'true') {
        _this.$slick.slick('slickPause');
      }
    });

    _this.$el.on('click', '.md_btn_stop', function (e) {
      e.preventDefault();
      sequenceControl(_this, 'STOP', true);
      _this.$slickItem.attr('data-slideStop', true);
      return false;
    });
    _this.$el.on('click', '.md_btn_play', function (e) {
      e.preventDefault();
      sequenceControl(_this, 'PLAY', true);
      _this.$slickItem.attr('data-slideStop', '');
      return false;
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else {
      return 'MOBILE';
    }
  }

  //slick slider Navigator Html mark-up
  function innerNavigatorHtml(_plugin) {
    _plugin.$navigation.html(_this.$navigatorHtml);
    if (_plugin.$slickItem.length === 1) {
      _plugin.$navigation.empty();
    }
  }

  //slick slider 반응형 조건
  function updateSlick(_plugin) {
    switch (deviceType) {
      case 'PC':
        if (_plugin.$slickItem.length <= 3) {
          unslickSlider(_plugin); //.item 3개 이하였을때 slick 비활성
          _plugin.$navigation.empty();
        } else {
          innerNavigatorHtml(_plugin); //slick navigator html 생성
          setSlider(_plugin); //slick 활성

          // 슬라이드 정지버튼 활성화 하고 resize시 정지상태 유지
          if (_plugin.$slickItem.attr('data-slideStop') == 'true') {
            _plugin.$slider_wrap.find('.md_play').addClass('on');
          }
        }
        break;
      case 'MOBILE':
        if (_plugin.$slickItem.length < 2) {
          unslickSlider(_plugin);
        } else {
          innerNavigatorHtml(_plugin);
          setSlider(_plugin);
        }
        break;
      // default:
      //     break;
    }
  }

  // slick slider 실행
  function setSlider(_plugin) {
    _plugin.$slick.on('init', function (e, slick, currentSlide) {
      initPagn(e, _plugin, slick, currentSlide);
      var currentSlideView = $(slick.$slides.get(currentSlide)); //currentSlide
      if (
        currentSlideView.hasClass('slick-current') &&
        currentSlideView.attr('data-slideStop') == 'true'
      ) {
        _plugin.$slick.slick('slickPause');
      }
    });
    _plugin.$slick.on(
      'afterChange',
      function (e, slick, currentSlide, direction) {
        updatePagn(e, _plugin, slick, currentSlide);
        var currentSlideView = $(slick.$slides.get(currentSlide)); //currentSlide
        if (
          currentSlideView.hasClass('slick-current') &&
          currentSlideView.attr('data-slideStop') == 'true'
        ) {
          _plugin.$slick.slick('slickPause');
        }
      },
    );

    _plugin.$slick.not('.slick-initialized').slick({
      accessibility: false,
      slidesToShow: 3,
      slidesToScroll: 1,
      arrows: false,
      infinite: true,
      autoplay: true,
      autoplaySpeed: 3000,
      responsive: [
        {
          breakpoint: 1024,
          settings: {
            autoplay: false,
            pauseOnFocus: false, //마우스 포커스 시 슬라이드 멈춤
            pauseOnHover: false, //마우스 호버 시 슬라이드 멈춤
            pauseOnDotsHover: false, //네이게이션 호버 시 슬라이드 멈춤(옵션에서 실행시에만)
            slidesToShow: 1,
            adaptiveHeight: true,
          },
        },
      ],
    });
  }

  //unslick slick slider 해제
  function unslickSlider(_plugin) {
    _plugin.$slick.filter('.slick-initialized').slick('unslick');
    _plugin.$slickItem.attr('tabindex', '');
  }

  /** 슬라이드 prograss */
  function initPagn(e, _plugin, slick, currentSlide) {
    var activeIndex = (currentSlide ? currentSlide : 0) + 1;
    var barWidth = (100 / slick.slideCount) * activeIndex;

    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-bar p')
      .css('width', barWidth + '%');
    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-st')
      .text(setNum(activeIndex));
    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-ed')
      .text(setNum(slick.slideCount));
  }

  function updatePagn(e, _plugin, slick, currentSlide) {
    var activeIndex = (currentSlide ? currentSlide : 0) + 1;
    var barWidth = (100 / slick.slideCount) * activeIndex;

    if (isNaN(activeIndex)) return;

    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-bar p')
      .css('width', barWidth + '%');
    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-st')
      .text(setNum(activeIndex));
    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-ed')
      .text(setNum(slick.slideCount));
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }
  /** //슬라이드 prograss */

  // Sequence Control: play, stop
  function sequenceControl(_plugin, option, changeFocus) {
    switch (option) {
      case 'PLAY':
        _this.$slick.slick('slickPlay');
        _plugin.$slider_wrap.find('.md_play').removeClass('on');
        break;
      case 'STOP':
        _this.$slick.slick('slickPause');
        _plugin.$slider_wrap.find('.md_play').addClass('on');
        break;
      // default:
      //     break;
    }
  }

  /** 주변 아이템 텍스트 높이 동일하게 */
  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$slick.find(target);
    });
  }
  // Update Match Height Item
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };

    switch (deviceType) {
      case 'PC':
      case 'TABLET':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        break;
      // default:
      //     break;
    }
  }
  /** //주변 아이템 텍스트 높이 동일하게 */

  this.init();
}
fo.addPlugin(M18_F);

/*** M21_A | Global Networks 1 ***/
function M21_A(el) {
  _proto = M21_A.prototype;
  this.$el = el;
  this.data = this.$el.data();

  var _this = this; // M21_A
  var $txtList = _this.$el.find('.list');

  _proto.init = function () {
    _this.setControlStyle();
  };

  // Set control style
  _proto.setControlStyle = function () {
    var $txtListLi = $txtList.find('li');
    if ($txtListLi.length >= 5) {
      $txtList.addClass('len');
    }
  };

  this.init();
}
fo.addPlugin(M21_A);

/** M21_B | Global Networks 2 */
function M21_B(el) {
  _proto = M21_B.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$tabList = this.$el.find('.tab_list');
  this.$tabListBtn = this.$tabList.find('.tab_btn');
  this.$tabPanel = [];
  this.$divider = this.$el.find('.divider');
  this.$priceWrap = this.$el.find('.price_wrap');
  this.key = Math.floor(this.$el.offset().top);
  this.activeTab = 0;

  var _this = this; // M21_B

  _proto.init = function () {
    //console.log("init:: M21_B")
    if (this.$tabListBtn.length) {
      this.$tabListBtn.each(function () {
        _this.$tabPanel.push(_this.$el.find($(this).attr('href')));
      });
    }

    if (this.$tabListBtn.length < 2 || this.$tabPanel.length < 2) {
      this.$tabList.remove();
      return;
    }

    // Initial tab aria setting
    setAriaAttr(this);
    setOpenTab(this);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }

    if (window.innerWidth < 600) {
      setMoreBtnClass(this);
    }
  };

  _proto.addEvent = function () {
    // Tab button click
    _this.$tabListBtn.on('click', function () {
      _this.activeTab = _this.$tabListBtn.index($(this));
      setOpenTab(_this);
      _this.$tabList.trigger('M21_B.TABLIST.UPDATE');
    });

    _this.$el.find('.divider:last').addClass('last');
    _this.$el.find('.last').next('.price_wrap').addClass('last_p');

    _this.$el.find('.divider').on('click', function () {
      var _more = $(this).index();
      var _target = _this.$el.find('.more_' + _more);
      var _offset = _target.offset().top;

      if (!$(this).hasClass('last')) {
        _target.css('display', 'block');
        $('html, body')
          .stop()
          .animate({ scrollTop: _target.offset().top }, 600);
      } else {
        var _target = $(this).next('.last_p');
        var _offsetTop = _target.offset().top;

        _target.css('display', 'block');
        $('html, body')
          .stop()
          .animate({ scrollTop: _target.offset().top }, 600);
      }
    });

    $(window).on('resize', function () {
      if (window.innerWidth > 600) {
        removeMoreBtnClass(_this);
      } else {
        setMoreBtnClass(_this);
      }
    });
  };

  function removeMoreBtnClass(_plugin) {
    // more 버튼 있을때 실행
    _plugin.$el.find('.price_wrap, .divider').show();
    _plugin.$el.find('.price_wrap').each(function (index) {
      $(this).removeClass('more_' + index);
    });
    _plugin.$el.find('.divider').each(function (index) {
      $(this).removeClass('more_' + index);
    });
    _plugin.$el.find('.more_0').show();
  }

  function setMoreBtnClass(_plugin) {
    // more 버튼 있을때 실행
    if (_plugin.$el.find('.divider').length) {
      _plugin.$el.find('.price_wrap, .divider').hide();
      _plugin.$el.find('.price_wrap').each(function (index) {
        $(this).addClass('more_' + index);
      });
      _plugin.$el.find('.divider').each(function (index) {
        $(this).addClass('more_' + index);
      });
      _plugin.$el.find('.more_0').show();
    }
  }

  // Apply aria properties
  function setAriaAttr(_plugin) {
    _plugin.$tabList
      .attr('role', 'tablist') // fixed
      .find('li')
      .attr('role', 'presentation'); // fixed
    _plugin.$tabListBtn.each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this).attr({
        role: 'tab', // fixed
        id: 'tab_btn_' + key, // fixed
        'aria-controls': 'tab_panel_' + key, // fixed
        'aria-selected': false, // changeable
      });
    });
    _plugin.$tabPanel.map(function (panel, index) {
      var key = _plugin.key + '_' + index;
      $(panel).attr({
        role: 'region', // fixed
        id: 'tab_panel_' + key, // fixed
        'aria-labelledby': 'tab_btn_' + key, // fixed
      });
    });
  }

  function setOpenTab(_plugin) {
    // Exception, if there is no activation tab
    if (_plugin.activeTab >= _plugin.$tabPanel.length) {
      return;
    }
    // Activate tab button
    _plugin.$tabListBtn
      .removeClass('active')
      .attr({
        'aria-selected': false,
      })
      .eq(_plugin.activeTab)
      .addClass('active')
      .attr({
        'aria-selected': true,
      });
    // Activate tab panel
    var targetId = _plugin.$tabListBtn
      .eq(_plugin.activeTab)
      .attr('aria-controls');
    _plugin.$tabPanel.map(function (panel) {
      if (targetId !== $(panel).attr('id')) {
        $(panel).hide();
      } else {
        $(panel).fadeIn();
      }
    });
  }

  this.init();
}
fo.addPlugin(M21_B);

/** M22_A | Price */
function M22_A(el) {
  _proto = M22_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$priceList = this.$el.find('.price_list');
  this.$priceWrap = this.$el.find('.price_wrap');
  this.$tabList = this.$el.find('.tab_list');
  this.$sentinelOneWrap = this.$el.find('.sentinel_one_wrap'); /* 210329 add */
  this.$divider = this.$el.find('.divider');
  this.$priceWrap = this.$el.find('.price_wrap');
  this.mhItems;

  var _this = this; // M22_A
  var deviceType; // "PC", "TABLET", "MOBILE"
  var mhTarget = [
    '.price_list > li > .line ',
    '.price_list .mh_item_block',
    '.price_list .mh_item_flex',
    '.mh',
    '#Price_Plan .price_mTxt',
  ];
  var resizeTimer;

  /* 2023-05-02 추가 시작 */
  this.running = true;

  let lang = $('html').attr('lang') || 'en';

  this.$carousel = this.$el.find('.owl-brity-carousel');
  this.$carouselItem = this.$el.find('.owl-brity-item');
  this.$pagn = this.$el.find('.owl-pagn');
  this.$control = {};
  this.$control.wrap = this.$el.find('.md_play');
  this.$control.playBtn = this.$el.find('.md_btn_play');
  this.$control.stopBtn = this.$el.find('.md_btn_stop');
  this.$control.prevBtn = this.$el.find('.owl-prev');
  this.$control.nextBtn = this.$el.find('.owl-next');
  /* // 2023-05-02 추가 끝 */

  _proto.init = function () {
    //console.log("init:: M22_A")
    // Device type check
    deviceType = checkDeviceType();

    /* 2023-05-02 추가 시작 */
    this.$el.filter('.M22_A').addClass('m' + this.$carouselItem.length);

    if (this.$carouselItem.length < 2) {
      // 아이템의 개수가 한 개일 경우 슬라이드를 초기화하지 않고 슬라이드 재생, 일시 중지 버튼을 숨깁니다.
      this.$el.find('.md_play').css({ display: 'none' });
      return;
    }

    if (this.$carouselItem.length >= 2) {
      this.$carousel.after(
        '<div class="owl-navm"><button class="owl-prevm"><em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em></button><button class="owl-nextm"><em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em></button></div>',
      );
    }

    updateCarousel(this);
    /* // 2023-05-02 추가 끝 */

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateMhItem(_this);

        /* 2023-05-02 추가 시작 */
        updateCarousel(_this);
        /* // 2023-05-02 추가 끝 */
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }

    if (window.innerWidth < 600) {
      setMoreBtnClass(this);
    }
  };

  _proto.addEvent = function () {
    _this.$tabList.on('M21_B.TABLIST.UPDATE', function () {
      updateMhItem(_this);
    });
    _this.$sentinelOneWrap.find('.tit').matchHeight(); /* 210329 add */
    _this.$el.find('.divider:last').addClass('last');
    _this.$el.find('.last').next('.price_wrap').addClass('last_p');
    _this.$el.find('.divider').on('click', function () {
      var _more = $(this).index();
      var _target = _this.$el.find('.more_' + _more);

      if (!$(this).hasClass('last')) {
        _target.css('display', 'block');
        $('html, body')
          .stop()
          .animate({ scrollTop: _target.offset().top - 50 }, 600);
      } else {
        var _target = $(this).next('.last_p');
        _target.css('display', 'block');
        $('html, body')
          .stop()
          .animate({ scrollTop: _target.offset().top - 50 }, 600);
      }
    });

    /* 2023-05-02 추가 시작 */
    _this.$carouselItem.on('focusin', function (e) {
      if ($(e.target).is(':hover')) {
        return;
      }
      var currentIndex = _this.$carouselItem.index(e.delegateTarget);
      _this.$carousel.trigger('to.owl.carousel', currentIndex);
      _this.$carousel.children().scrollLeft() != 0 &&
        _this.$carousel.children().scrollLeft(0);
      _this.$el.scrollLeft() != 0 && _this.$el.scrollLeft(0);
    });

    _this.$el.on('keyup', function (e) {
      e.stopPropagation();
      if (!_this.$carousel.data('owl.carousel')) {
        return;
      }
      if (e.keyCode == 37) {
        _this.$carousel.trigger('prev.owl.carousel');
      } else if (e.keyCode == 39) {
        _this.$carousel.trigger('next.owl.carousel');
      }
    });

    _this.$el.find('.owl-navm button').on('click', function (e) {
      e.stopPropagation();
      if ($(this).hasClass('owl-prevm')) {
        _this.$carousel.trigger('prev.owl.carousel');
        _this.$carousel.find('.owl-item.active').get(0).focus();
      } else if ($(this).hasClass('owl-nextm')) {
        _this.$carousel.trigger('next.owl.carousel');
        _this.$carousel.find('.owl-item.active').get(0).focus();
      }
    });

    _this.$control.prevBtn
      .add(_this.$control.nextBtn)
      .off('mouseover mouseout')
      .on({
        mouseover: function () {
          if (deviceType.toUpperCase().indexOf('PC') > -1)
            sequenceControl(_this, 'STOP', true);
        },
        mouseout: function () {
          if (deviceType.toUpperCase().indexOf('PC') > -1) {
            if (_this.$control.wrap.hasClass('on') && _this.running)
              sequenceControl(_this, 'PLAY', true);
          }
        },
      });

    _this.$carousel
      .off('mouseenter')
      .on('mouseenter', function () {
        if (deviceType.toUpperCase().indexOf('PC') > -1)
          sequenceControl(_this, 'STOP', true);
      })
      .off('mouseleave')
      .on('mouseleave', function () {
        if (deviceType.toUpperCase().indexOf('PC') > -1) {
          if (_this.$control.wrap.hasClass('on') && _this.running)
            sequenceControl(_this, 'PLAY', true);
        }
      });

    _this.$el
      .find('.md_play')
      .find('[class *= "md_btn_"]')
      .on('click', function (event) {
        var value = $(this).is('.md_btn_stop') ? 'STOP' : 'PLAY';

        sequenceControl(_this, value, true);

        _this.running = value === 'STOP' ? false : true;
      });
    /* 2023-05-02 추가 끝 */

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
      if (window.innerWidth > 600) {
        removeMoreBtnClass(_this);
      } else {
        setMoreBtnClass(_this);
      }
    });
  };

  /* 2023-05-02 추가 시작 */
  function setCarousel(_plugin) {
    if (_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    _plugin.$carousel.owlCarousel({
      stageElement: 'ul',
      itemElement: 'li',
      autoplay: true,
      autoplayTimeout: 5000,
      autoplaySpeed: 700,
      autoplayHoverPause: true,
      stopOnHover: true,
      autoWidth: true,
      loop: false,
      nav: true,
      navText: [
        '<em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em>',
        '<em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em>',
      ],
      dots: false,
      singleItem: true,
      responsive: {
        1024: {
          margin: 20,
          autoplay: false,
          autoplayHoverPause: false,
        },
      },
      onInitialized: function (e) {
        initPagn(e, _plugin);
        setCarouselAria(_plugin);

        _plugin.$carousel.addClass('act');
      },
      onRefreshed: function (e) {
        // FIREFOX
        initPagn(e, _plugin);
        setCarouselAria(_plugin);

        _plugin.$carousel.addClass('act');
      },
      onChanged: function (e) {
        updatePagn(e, _plugin);
        setInterval(function () {
          _plugin.$el.scrollLeft(0);
        }, 100);

        _plugin.$carousel.removeClass('act');
        setAriaHidden(e, _plugin);
      },
      onResized: function (e) {
        _plugin.$carousel.removeClass('act');
      },
    });
  }

  function updateCarousel(_plugin) {
    switch (deviceType) {
      case 'PC':
        _plugin.$carouselItem.length < 4
          ? destroyCarousel(_plugin) // 1, 2, 3, 4
          : setCarousel(_plugin); // 5, 6, 7...
        break;
      case 'TABLET':
      case 'MOBILE':
        _plugin.$carouselItem.length < 2
          ? destroyCarousel(_plugin) // 1
          : setCarousel(_plugin); // 2, 3, 4, 5, 6, 7...
        break;
      default:
        break;
    }
  }

  function setCarouselAria(_plugin) {
    var $clonedItem = _plugin.$carousel.find('.owl-item.cloned');
    $clonedItem.attr('aria-hidden', true);
    $clonedItem.find('a, button').attr('tabindex', -1);
  }

  function initPagn(e, _plugin) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;

    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
    _plugin.$pagn.find('.owl-pagn-ed').text(setNum(e.item.count));
  }

  function updatePagn(e, _plugin) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;

    if (isNaN(activeIndex)) return;

    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
  }

  function destroyCarousel(_plugin) {
    if (!_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    _plugin.$carousel.owlCarousel('destroy');
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  function sequenceControl(_plugin, option, changeFocus) {
    switch (option.toUpperCase()) {
      case 'PLAY':
        _this.$carousel.trigger('play.owl.autoplay');
        _this.$el.find('.md_play').removeClass('on');
        break;
      case 'STOP':
        _this.$carousel.trigger('stop.owl.autoplay');
        _this.$el.find('.md_play').addClass('on');
        break;
      default:
        break;
    }
  }

  function setAriaHidden(e, _plugin) {
    var currentIdx = e.item.index;
    var activeItem = $(e.target).find('.owl-item').eq(currentIdx);

    $(e.target).find('.owl-item').attr('aria-hidden', true);
    activeItem.attr('aria-hidden', false);
  }
  /* // 2023-05-02 추가 끝 */

  function removeMoreBtnClass(_plugin) {
    // more 버튼 있을때 실행
    _plugin.$el.find('.price_wrap, .divider').show();
    _plugin.$el.find('.price_wrap').each(function (index) {
      $(this).removeClass('more_' + index);
    });
    _plugin.$el.find('.divider').each(function (index) {
      $(this).removeClass('more_' + index);
    });
    _plugin.$el.find('.more_0').show();
  }

  function setMoreBtnClass(_plugin) {
    // more 버튼 있을때 실행
    if (_plugin.$el.find('.divider').length) {
      _plugin.$el.find('.price_wrap, .divider').hide();
      _plugin.$el.find('.price_wrap').each(function (index) {
        $(this).addClass('more_' + index);
      });
      _plugin.$el.find('.divider').each(function (index) {
        $(this).addClass('more_' + index);
      });
      _plugin.$el.find('.more_0').show();
    }
  }

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$priceWrap.find(target).sort(function (a, b) {
        return $(a).index() - $(b).index();
      });
    });
  }

  // Update Match Height Item
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: {
        tbyRow: true,
        remove: false,
      },
      remove: {
        tbyRow: false,
        remove: true,
      },
    };

    switch (deviceType) {
      case 'PC':
      case 'TABLET':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        break;
      // default:
      //     break;
    }
  }

  this.init();
}
fo.addPlugin(M22_A);

/** M22_B | Price */
function M22_B(el) {
  _proto = M22_B.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$priceList = this.$el.find('.price_list');
  this.$priceWrap = this.$el.find('.price_wrap');
  this.$tabList = this.$el.find('.tab_list');
  this.$sentinelOneWrap = this.$el.find('.sentinel_one_wrap'); /* 210329 add */
  this.$divider = this.$el.find('.divider');
  this.$priceWrap = this.$el.find('.price_wrap');
  this.mhItems;

  var _this = this; // M22_B
  var deviceType; // "PC", "TABLET", "MOBILE"
  var mhTarget = [
    '.price_list > li > .line ',
    '.price_list .mh_item_block',
    '.price_list .mh_item_flex',
    '.mh',
  ];
  var resizeTimer;

  //20240620 특정 url로 접근시 [브리티 코파일럿 가격정책]위치로 이동
  let currentUrl = location.href;
  let param_url = currentUrl.indexOf('?copilot_priceTable');

  _proto.init = function () {
    //console.log("init:: M22_B")
    //20240620 특정 url로 접근시 [브리티 코파일럿 가격정책]위치로 이동
    if (param_url != -1) {
      var offset = $('.M22_B').offset(); //해당 위치 반환
      $('html, body').animate({ scrollTop: offset.top }, 100);
    }

    // Device type check
    deviceType = checkDeviceType();

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateMhItem(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }

    if (window.innerWidth < 600) {
      setMoreBtnClass(this);
    }
  };

  _proto.addEvent = function () {
    _this.$tabList.on('M21_B.TABLIST.UPDATE', function () {
      updateMhItem(_this);
    });

    _this.$sentinelOneWrap.find('.tit').matchHeight(); /* 210329 add */
    _this.$el.find('.divider:last').addClass('last');
    _this.$el.find('.last').next('.price_wrap').addClass('last_p');

    _this.$el.find('.divider').on('click', function () {
      var _more = $(this).index();
      var _target = _this.$el.find('.more_' + _more);

      if (!$(this).hasClass('last')) {
        _target.css('display', 'block');
        $('html, body')
          .stop()
          .animate({ scrollTop: _target.offset().top - 50 }, 600);
      } else {
        var _target = $(this).next('.last_p');

        _target.css('display', 'block');
        $('html, body')
          .stop()
          .animate({ scrollTop: _target.offset().top - 50 }, 600);
      }
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
      if (window.innerWidth > 600) {
        removeMoreBtnClass(_this);
      } else {
        setMoreBtnClass(_this);
      }
    });
  };

  function removeMoreBtnClass(_plugin) {
    // more 버튼 있을때 실행
    _plugin.$el.find('.price_wrap, .divider').show();
    _plugin.$el.find('.price_wrap').each(function (index) {
      $(this).removeClass('more_' + index);
    });
    _plugin.$el.find('.divider').each(function (index) {
      $(this).removeClass('more_' + index);
    });
    _plugin.$el.find('.more_0').show();
  }

  function setMoreBtnClass(_plugin) {
    // more 버튼 있을때 실행
    if (_plugin.$el.find('.divider').length) {
      _plugin.$el.find('.price_wrap, .divider').hide();
      _plugin.$el.find('.price_wrap').each(function (index) {
        $(this).addClass('more_' + index);
      });
      _plugin.$el.find('.divider').each(function (index) {
        $(this).addClass('more_' + index);
      });
      _plugin.$el.find('.more_0').show();
    }
  }

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$priceWrap.find(target).sort(function (a, b) {
        return $(a).index() - $(b).index();
      });
    });
  }

  // Update Match Height Item
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: {
        tbyRow: true,
        remove: false,
      },
      remove: {
        tbyRow: false,
        remove: true,
      },
    };

    switch (deviceType) {
      case 'PC':
      case 'TABLET':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        break;
      // default:
      //     break;
    }
  }

  this.init();
}
fo.addPlugin(M22_B);

/** M24_A | Catalog List */
function M24_A(el) {
  _proto = M24_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$carousel = this.$el.find('.owl-carousel');
  this.$carouselItem = this.$el.find('.owl-carousel .li');
  this.$pagn = this.$el.find('.owl-pagn');
  this.mhItems01;
  this.mhItems02;
  this.mhItems03;

  var _this = this; // M24_A
  var deviceType; // "PC", "TABLET", "MOBILE"
  var mhTarget = ['.md_tit', '.md_txt', '.name', '.copy'];
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: M24_A")
    // Device type check
    deviceType = checkDeviceType();

    /* 210510 | 접근성 | 모바일 활성화 Nav */
    if (this.$carouselItem.length >= 2) {
      this.$carousel.after(
        '<div class="owl-navm"><button class="owl-prevm"><em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em></button><button class="owl-nextm"><em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em></button></div>',
      );
    }
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    updateCarousel(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarousel(_this);
        // Set matchHeight item
        if (mhTarget.length) {
          getMhItems(_this);
          updateMhItem(_this);
        }
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$el.on('M24_A.UPDATE', function () {
      updateMhItem(_this);
    });

    /* 210510 | 접근성 | 모바일 활성화 Nav */
    _this.$el.find('.owl-navm button').on('click', function (e) {
      e.stopPropagation();

      if ($(this).hasClass('owl-prevm')) {
        _this.$carousel.trigger('prev.owl.carousel');
        setTimeout(() => {
          _this.$carousel.find('.owl-item.active a').get(0).focus();
        }, 200);
      } else if ($(this).hasClass('owl-nextm')) {
        _this.$carousel.trigger('next.owl.carousel');
        setTimeout(() => {
          _this.$carousel.find('.owl-item.active a').get(0).focus();
        }, 200);
      }
    });
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });

    // Window resize && matchHeight after update
    $.fn.matchHeight._afterUpdate = function (event, groups) {
      $('.M24_A').trigger('M24_A.UPDATE');
    };
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setCarousel(_plugin) {
    if (_plugin.$carouselItem.length < 2) {
      _plugin.$pagn.hide();
      return;
    }
    if (_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    _plugin.$carousel.owlCarousel({
      stageElement: 'ul',
      itemElement: 'li',
      loop: true,
      nav: false,
      dots: false,
      items: 1,
      margin: 0,
      smartSpeed: 500,
      onInitialized: function (e) {
        initPagn(e, _plugin);
        setCarouselAria(_plugin);
        var currentNum = e.relatedTarget.current(),
          currentSlide = e.relatedTarget.$element
            .find('.owl-stage')
            .find('.owl-item')
            .eq(currentNum);

        currentSlide.attr({ tabindex: '' });
      },
      onRefreshed: function (e) {
        // FIREFOX
        setCarouselAria(_plugin);
      },
      onChanged: function (e) {
        updatePagn(e, _plugin);
        setInterval(function () {
          _plugin.$el.scrollLeft(0);
        }, 100);
        _plugin.$carousel.removeClass('act');
        setAriaHidden(e, _plugin); /* 210510 | 접근성 | 모바일 활성화 Nav */

        /*
                    202304-01 웹접근 추가 :
                    첫번째 슬라이드때 이전버튼 클릭시 cloned 슬라이드로 가면서
                    cloned 슬라이드의 고정된 tabindex, aria-hidden 값을 수정
                */
        var currentNum = e.relatedTarget.current(),
          currentSlide = e.relatedTarget.$element
            .find('.owl-stage')
            .find('.owl-item')
            .eq(currentNum),
          currentSlideAllBtnOBJ = currentSlide.find('button, a');

        currentSlide.attr({ 'aria-hidden': 'false', tabindex: '' });
        currentSlideAllBtnOBJ.attr({ 'aria-hidden': 'false', tabindex: '0' });
        currentSlide
          .siblings()
          .find('button, a')
          .attr({ 'aria-hidden': 'true', tabindex: '-1' });
      },
    });
  }

  function updateCarousel(_plugin) {
    switch (deviceType) {
      case 'PC':
      case 'TABLET':
        destroyCarousel(_plugin);
        break;
      case 'MOBILE':
        setCarousel(_plugin);
        break;
      // default:
      //     break;
    }
  }

  function setCarouselAria(_plugin) {
    var $clonedItem = _plugin.$carousel.find('.owl-item.cloned');
    $clonedItem.attr({ 'aria-hidden': 'true', tabindex: '-1' });
    $clonedItem.find('a, button').attr('tabindex', -1);
  }

  function initPagn(e, _plugin) {
    var slides = e.relatedTarget;
    _plugin.$pagn.find('.owl-pagn-ed').text(setNum(e.item.count));
  }

  function updatePagn(e, _plugin) {
    if (!_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;

    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
  }

  function destroyCarousel(_plugin) {
    if (!_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    _plugin.$carousel.owlCarousel('destroy');
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  function getMhItems(_plugin) {
    var lists = _plugin.$carouselItem;
    var listBlock;
    var target;

    // 4 column
    // PC: When .li is 4 or more
    // TABLET: No case
    // MOBILE: No case
    _plugin.mhItems01 = mhTarget.reduce(function (acc, cur) {
      for (var index = 0; index < Math.round(lists.length / 4); index++) {
        listBlock = lists.slice(4 * index, 4 * (index + 1));
        target = listBlock.find(cur);
        if (cur.indexOf('.copy') > -1 || cur.indexOf('.name') > -1) {
          target.sort(function (a, b) {
            return (
              $(a).parents('.item').index() - $(b).parents('.item').index()
            );
          });
        }
        acc.push(target);
      }
      return acc;
    }, []);

    // 2 column
    // PC: No case
    // TABLET: Any case
    // MOBILE: No case
    _plugin.mhItems02 = mhTarget.reduce(function (acc, cur) {
      for (var index = 0; index < Math.round(lists.length / 2); index++) {
        listBlock = lists.slice(2 * index, 2 * (index + 1));
        target = listBlock.find(cur);
        if (cur.indexOf('.copy') > -1 || cur.indexOf('.name') > -1) {
          target.sort(function (a, b) {
            return (
              $(a).parents('.item').index() - $(b).parents('.item').index()
            );
          });
        }
        acc.push(target);
      }
      return acc;
    }, []);

    // 1 column
    // PC: When .li is 4 or less
    // TABLET: No case
    // MOBILE: No case
    _plugin.mhItems03 = mhTarget.reduce(function (acc, cur) {
      target = lists.find(cur);
      acc.push(target);
      return acc;
    }, []);
  }

  function updateMhItem(_plugin) {
    var idx;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };

    switch (deviceType) {
      case 'PC':
        if (_plugin.$carouselItem.length < 4) {
          // 4 column remove
          for (idx = 0; idx < _plugin.mhItems01.length; idx++) {
            _plugin.mhItems01[idx].matchHeight(opt.remove);
          }
          // 2 column remove
          for (idx = 0; idx < _plugin.mhItems02.length; idx++) {
            _plugin.mhItems02[idx].matchHeight(opt.remove);
          }
          // 1 column init
          for (idx = 0; idx < _plugin.mhItems03.length; idx++) {
            _plugin.mhItems03[idx].matchHeight(opt.init);
          }
        }
        if (_plugin.$carouselItem.length >= 4) {
          // 2 column remove
          for (idx = 0; idx < _plugin.mhItems02.length; idx++) {
            _plugin.mhItems02[idx].matchHeight(opt.remove);
          }
          // 1 column remove
          for (idx = 0; idx < _plugin.mhItems03.length; idx++) {
            _plugin.mhItems03[idx].matchHeight(opt.remove);
          }
          // 4 column init
          for (idx = 0; idx < _plugin.mhItems01.length; idx++) {
            _plugin.mhItems01[idx].matchHeight(opt.init);
          }
        }
        break;
      case 'TABLET':
        // 4 column remove
        for (idx = 0; idx < _plugin.mhItems01.length; idx++) {
          _plugin.mhItems01[idx].matchHeight(opt.remove);
        }
        // 1 column remove
        for (idx = 0; idx < _plugin.mhItems03.length; idx++) {
          _plugin.mhItems03[idx].matchHeight(opt.remove);
        }
        // 2 column init
        for (idx = 0; idx < _plugin.mhItems02.length; idx++) {
          _plugin.mhItems02[idx].matchHeight(opt.init);
        }
        break;
      case 'MOBILE':
        // 1 column remove
        for (idx = 0; idx < _plugin.mhItems03.length; idx++) {
          _plugin.mhItems03[idx].matchHeight(opt.remove);
        }
        // 2 column init
        for (idx = 0; idx < _plugin.mhItems02.length; idx++) {
          _plugin.mhItems02[idx].matchHeight(opt.remove);
        }
        // 4 column remove
        for (idx = 0; idx < _plugin.mhItems01.length; idx++) {
          _plugin.mhItems01[idx].matchHeight(opt.remove);
        }
        break;
      // default:
      //     break;
    }
  }

  function setAriaHidden(e, _plugin) {
    var currentIdx = e.item.index;
    var activeItem = $(e.target).find('.owl-item').eq(currentIdx);

    $(e.target)
      .find('.owl-item')
      .attr('aria-hidden', true)
      .attr('tabindex', -1);
    activeItem.attr('aria-hidden', false).attr('tabindex', 0);
  }

  this.init();
}
fo.addPlugin(M24_A);

/** Notice | Notice **/
function M25_A(el) {
  _proto = M25_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  /* 20220510 데이터결함 : 탭기능 추가 */
  this.$tabList = this.$el.find('.tab_list');
  this.$tabListBtn = this.$tabList.find('.tab_btn');
  this.$tabPanel = this.$el.find('.tab_panel');
  this.$toggleList = this.$el.find('.toggle_list');
  this.$toggleItem = this.$toggleList.find('.li');
  this.key = this.$el.offset().top;
  this.onlyExpanded = false; // Only one item open flag
  this.opendIndex = []; // Open item array
  this.closedIndex = []; // Close item array

  var _this = this; // M25_A

  _proto.init = function () {
    //console.log("init:: M25_A")
    // this.onlyExpanded
    if (this.$el.is('[data-only-expanded]')) {
      this.onlyExpanded = this.data.onlyExpanded;
      this.$el.removeAttr('data-only-expanded');
    }

    // this.opendIndex
    if (
      this.$el.is('[data-opend-index]') &&
      typeof this.data.opendIndex == 'object'
    ) {
      this.opendIndex = this.data.opendIndex;
      this.$el.removeAttr('dta-opend-inadex');
    }

    // this.opendIndex: all item open
    if (this.$el.is('[data-opend-all]')) {
      this.opendIndex = new Array(this.$toggleItem.length + 1)
        .join('0')
        .split('')
        .map(function (a, idx) {
          return idx;
        });
      this.$el.removeAttr('data-opend-all');
    }

    // Exception, multiple items open
    if (this.opendIndex.length > 1) {
      this.onlyExpanded = false;
    }

    // Initial setting
    setAriaAttr(this);
    // setOpenToggle(this); //20220510 데이터결함 : 삭제

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }

    /* 20220510 데이터결함 : 탭 기능 버튼 첫번째 버튼 강제 active */
    this.$tabListBtn.eq(0).addClass('active');
    this.$tabPanel.eq(0).addClass('active');
  };

  _proto.addEvent = function () {
    /* 20220510 데이터결함 : 탭 기능 추가 */
    // Tab button click
    _this.$tabListBtn.on('click', function () {
      _this.activeTab = _this.$tabListBtn.index($(this)); // 탭메뉴 클릭해야 탭이 바뀝
      setOpenTab(_this);

      // _this.$items.removeClass("swiper-slide-active"); //스와이프 기능 없으니 삭제
      _this.$tabListBtn.attr('aria-selected', 'false');
      _this.$tabListBtn.removeClass('active');
      // $(this).parent('li').addClass("swiper-slide-active"); //스와이프 기능 없으니 삭제
      $(this).attr('aria-selected', 'true');
      $(this).addClass('active');
    });

    _this.$toggleList.on('click', '.toggle_btn', function (e) {
      e.preventDefault();
      /* 20220510 데이터결함 : 탭 기능 추가 */
      if ($(this).next('.toggle_cont').is(':visible')) {
        $(this).attr('aria-expanded', false).removeClass('active');
        $(this)
          .next('.toggle_cont')
          .attr('aria-hidden', true)
          .stop()
          .slideToggle();
      } else {
        $(this).attr('aria-expanded', true).addClass('active');
        $(this)
          .next('.toggle_cont')
          .attr('aria-hidden', false)
          .stop()
          .slideToggle();
      }
    });
  };

  // Apply aria properties
  function setAriaAttr(_plugin) {
    _plugin.$toggleItem.each(function (index) {
      var key = _plugin.key + '_' + index;

      $(this)
        .find('.toggle_btn')
        .attr({
          id: 'toggle_btn_' + key, // fixed
          'aria-controls': 'toggle_cont_' + key, // fixed
          'aria-expanded': false, // changeable
        });

      $(this)
        .find('.toggle_cont')
        .attr({
          role: 'region', // fixed
          id: 'toggle_cont_' + key, // fixed
          'aria-labelledby': 'toggle_btn_' + key, // fixed
          'aria-hidden': true, // changeable
        });
    });
  }

  /* 20220510 데이터결함 : 탭기능 추가 */
  function setOpenTab(_plugin) {
    // Exception, if there is no activation tab
    if (_plugin.activeTab >= _plugin.$tabPanel.length) {
      return;
    }

    // Activate tab button
    _plugin.$tabListBtn
      .removeClass('active')
      .attr({
        'aria-selected': false,
      })
      .eq(_plugin.activeTab)
      .addClass('active')
      .attr({
        'aria-selected': true,
      });

    // Activate tab panel
    _plugin.$tabPanel
      .removeClass('active')
      .eq(_plugin.activeTab)
      .addClass('active');
  }

  _proto.init = function () {
    //console.log("init:: M25_A")
    // this.onlyExpanded
    if (this.$el.is('[data-only-expanded]')) {
      this.onlyExpanded = this.data.onlyExpanded;
      this.$el.removeAttr('data-only-expanded');
    }

    // this.opendIndex
    if (
      this.$el.is('[data-opend-index]') &&
      typeof this.data.opendIndex == 'object'
    ) {
      this.opendIndex = this.data.opendIndex;
      this.$el.removeAttr('dta-opend-inadex');
    }

    // this.opendIndex: all item open
    if (this.$el.is('[data-opend-all]')) {
      this.opendIndex = new Array(this.$toggleItem.length + 1)
        .join('0')
        .split('')
        .map(function (a, idx) {
          return idx;
        });
      this.$el.removeAttr('data-opend-all');
    }

    // Exception, multiple items open
    if (this.opendIndex.length > 1) {
      this.onlyExpanded = false;
    }

    /* 20220510 데이터결함 : 탭 기능 버튼 첫번째 버튼 강제 active */
    this.$tabListBtn.eq(0).addClass('active');
    this.$tabPanel.eq(0).addClass('active');

    // Initial setting
    setAriaAttr(this);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    /* 20220510 데이터결함 : 탭 기능 추가 */
    // 아코디언 이벤트 바인딩
    this.$toggleList.on('click', '.li', function () {
      var btn = $(this).find('.toggle_btn');
      var cont = $(this).find('.toggle_cont');
      var onlyExpanded = _this.$el.data('only-expanded');
      var open = function () {
        btn.attr('aria-expanded', true).addClass('active');
        cont.attr('aria-hidden', false).stop().slideDown();
      };
      var openOnlyOne = function () {
        cont.attr('aria-hidden', false).stop().slideToggle();
        cont.parent().siblings('li').children('.toggle_cont').slideUp();
      };
      var close = function () {
        btn.attr('aria-expanded', false).removeClass('active');
        cont.attr('aria-hidden', true).stop().slideUp();
      };
      if (onlyExpanded === true) {
        // onlyExpanded 옵션 - 리스트 단일 선택이였을때 아코디언 슬라이드 옵션
        openOnlyOne();
      } else {
        // default 옵션 - 리스트 멀티 선택 가능한 아코디언 슬라이드 옵션
        if (!btn.hasClass('active')) {
          open();
        } else {
          close();
        }
      }
    });

    // 아코디언 옵션 opend-index[n]였을때 아코디언 최초 [n]번째 열려있는 상태
    this.$toggleList.each(function () {
      if (_this.$el.data('opend-index').length === 0) {
        return false;
      }
      var openIndex = _this.$el.data('opend-index')[0];
      $(this).find('.li').eq(openIndex).trigger('click');
    });

    // 탭 기능 모듈
    _this.$tabListBtn.on('click', function () {
      _this.activeTab = _this.$tabListBtn.index($(this)); // 탭메뉴 클릭해야 탭이 바뀝
      setOpenTab(_this);

      // _this.$items.removeClass("swiper-slide-active"); //스와이프 기능 없으니 삭제
      _this.$tabListBtn.attr('aria-selected', 'false');
      _this.$tabListBtn.removeClass('active');
      // $(this).parent('li').addClass("swiper-slide-active"); //스와이프 기능 없으니 삭제
      $(this).attr('aria-selected', 'true');
      $(this).addClass('active');
    });
  };

  // Apply aria properties
  function setAriaAttr(_plugin) {
    _plugin.$toggleItem.each(function (index) {
      var key = _plugin.key + '_' + index;

      $(this)
        .find('.toggle_btn')
        .attr({
          id: 'toggle_btn_' + key, // fixed
          'aria-controls': 'toggle_cont_' + key, // fixed
          'aria-expanded': false, // changeable
        });

      $(this)
        .find('.toggle_cont')
        .attr({
          role: 'region', // fixed
          id: 'toggle_cont_' + key, // fixed
          'aria-labelledby': 'toggle_btn_' + key, // fixed
          'aria-hidden': true, // changeable
        });
    });
  }

  /* 20220510 데이터결함 : 탭기능 추가 */
  function setOpenTab(_plugin) {
    // Exception, if there is no activation tab
    if (_plugin.activeTab >= _plugin.$tabPanel.length) {
      return;
    }

    // Activate tab button
    _plugin.$tabListBtn
      .removeClass('active')
      .attr({
        'aria-selected': false,
      })
      .eq(_plugin.activeTab)
      .addClass('active')
      .attr({
        'aria-selected': true,
      });

    // Activate tab panel
    _plugin.$tabPanel
      .removeClass('active')
      .eq(_plugin.activeTab)
      .addClass('active');
  }

  this.init();
}
fo.addPlugin(M25_A);

/** M24_D | Catalog List */
function M24_D(el) {
  _proto = M24_D.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$carousel = this.$el.find('.owl-carousel');
  this.$carouselItem = this.$el.find('.owl-carousel .li');
  this.$pagn = this.$el.find('.owl-pagn');
  this.mhItems01;
  this.mhItems02;
  this.mhItems03;
  this.mhItems04;

  var _this = this; // M24_D
  var deviceType; // "PC", "TABLET", "MOBILE"
  var mhTarget = ['.md_tit', '.md_txt', '.name', '.copy'];
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: M24_D")
    // Device type check
    deviceType = checkDeviceType();

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        // Set matchHeight item
        if (mhTarget.length) {
          getMhItems(_this);
          updateMhItem(_this);
        }
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$el.on('M24_D.UPDATE', function () {
      updateMhItem(_this);
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });

    // Window resize && matchHeight after update
    $.fn.matchHeight._afterUpdate = function (event, groups) {
      $('.M24_D').trigger('M24_D.UPDATE');
    };
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  function getMhItems(_plugin) {
    var lists = _plugin.$carouselItem;
    var listBlock;
    var target;

    // 5 column
    // PC: When .li is 5 or more
    // TABLET: No case
    // MOBILE: No case
    _plugin.mhItems01 = mhTarget.reduce(function (acc, cur) {
      for (var index = 0; index < Math.round(lists.length / 5); index++) {
        listBlock = lists.slice(5 * index, 5 * (index + 1));
        target = listBlock.find(cur);
        if (cur.indexOf('.copy') > -1 || cur.indexOf('.name') > -1) {
          target.sort(function (a, b) {
            return (
              $(a).parents('.item').index() - $(b).parents('.item').index()
            );
          });
        }
        acc.push(target);
      }
      return acc;
    }, []);

    // 3 column
    // PC: No case
    // TABLET: Any case
    // MOBILE: No case
    _plugin.mhItems02 = mhTarget.reduce(function (acc, cur) {
      for (var index = 0; index < Math.round(lists.length / 3); index++) {
        listBlock = lists.slice(3 * index, 3 * (index + 1));
        target = listBlock.find(cur);
        if (cur.indexOf('.copy') > -1 || cur.indexOf('.name') > -1) {
          target.sort(function (a, b) {
            return (
              $(a).parents('.item').index() - $(b).parents('.item').index()
            );
          });
        }
        acc.push(target);
      }
      return acc;
    }, []);

    // 2 column
    // PC: No case
    // TABLET: Any case
    // MOBILE: No case
    _plugin.mhItems03 = mhTarget.reduce(function (acc, cur) {
      for (var index = 0; index < Math.round(lists.length / 2); index++) {
        listBlock = lists.slice(2 * index, 2 * (index + 1));
        target = listBlock.find(cur);
        if (cur.indexOf('.copy') > -1 || cur.indexOf('.name') > -1) {
          target.sort(function (a, b) {
            return (
              $(a).parents('.item').index() - $(b).parents('.item').index()
            );
          });
        }
        acc.push(target);
      }
      return acc;
    }, []);

    // 1 column
    // PC: When .li is 4 or less
    // TABLET: No case
    // MOBILE: No case
    _plugin.mhItems04 = mhTarget.reduce(function (acc, cur) {
      target = lists.find(cur);
      acc.push(target);
      return acc;
    }, []);
  }

  function updateMhItem(_plugin) {
    var idx;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };

    switch (deviceType) {
      case 'PC':
        if (_plugin.$carouselItem.length < 5) {
          // 5 column remove
          for (idx = 0; idx < _plugin.mhItems01.length; idx++) {
            _plugin.mhItems01[idx].matchHeight(opt.remove);
          }
          // 3 column remove
          for (idx = 0; idx < _plugin.mhItems02.length; idx++) {
            _plugin.mhItems02[idx].matchHeight(opt.remove);
          }
          // 2 column remove
          for (idx = 0; idx < _plugin.mhItems03.length; idx++) {
            _plugin.mhItems03[idx].matchHeight(opt.remove);
          }
          // 1 column init
          for (idx = 0; idx < _plugin.mhItems03.length; idx++) {
            _plugin.mhItems04[idx].matchHeight(opt.init);
          }
        }
        if (_plugin.$carouselItem.length >= 5) {
          // 3 column remove
          for (idx = 0; idx < _plugin.mhItems02.length; idx++) {
            _plugin.mhItems02[idx].matchHeight(opt.remove);
          }
          // 2 column remove
          for (idx = 0; idx < _plugin.mhItems03.length; idx++) {
            _plugin.mhItems03[idx].matchHeight(opt.remove);
          }
          // 1 column remove
          for (idx = 0; idx < _plugin.mhItems04.length; idx++) {
            _plugin.mhItems03[idx].matchHeight(opt.remove);
          }
          // 5 column init
          for (idx = 0; idx < _plugin.mhItems01.length; idx++) {
            _plugin.mhItems01[idx].matchHeight(opt.init);
          }
        }
        break;
      case 'TABLET':
        // 5 column remove
        for (idx = 0; idx < _plugin.mhItems01.length; idx++) {
          _plugin.mhItems01[idx].matchHeight(opt.remove);
        }
        // 2 column remove
        for (idx = 0; idx < _plugin.mhItems03.length; idx++) {
          _plugin.mhItems03[idx].matchHeight(opt.remove);
        }
        // 1 column init
        for (idx = 0; idx < _plugin.mhItems04.length; idx++) {
          _plugin.mhItems02[idx].matchHeight(opt.remove);
        }
        // 3 column init
        for (idx = 0; idx < _plugin.mhItems02.length; idx++) {
          _plugin.mhItems02[idx].matchHeight(opt.init);
        }
        break;
      case 'MOBILE':
        // 5 column remove
        for (idx = 0; idx < _plugin.mhItems01.length; idx++) {
          _plugin.mhItems01[idx].matchHeight(opt.remove);
        }
        // 3 column remove
        for (idx = 0; idx < _plugin.mhItems02.length; idx++) {
          _plugin.mhItems02[idx].matchHeight(opt.remove);
        }
        // 1 column remove
        for (idx = 0; idx < _plugin.mhItems04.length; idx++) {
          _plugin.mhItems02[idx].matchHeight(opt.remove);
        }
        // 2 column init
        for (idx = 0; idx < _plugin.mhItems03.length; idx++) {
          _plugin.mhItems03[idx].matchHeight(opt.init);
        }
        break;
      // default:
      //     break;
    }
  }

  this.init();
}
fo.addPlugin(M24_D);

/** Notice | Notice **/
function M25_B(el) {
  _proto = M25_B.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$toggleList = this.$el.find('.toggle_list');
  this.$toggleItem = this.$toggleList.find('.li');
  this.key = this.$el.offset().top;
  this.onlyExpanded = false; // Only one item open flag
  this.opendIndex = []; // Open item array
  this.closedIndex = []; // Close item array

  var _this = this; // M25_B

  _proto.init = function () {
    //console.log("init:: M25_B")
    // this.onlyExpanded
    if (this.$el.is('[data-only-expanded]')) {
      this.onlyExpanded = this.data.onlyExpanded;
      this.$el.removeAttr('data-only-expanded');
    }

    // this.opendIndex
    if (
      this.$el.is('[data-opend-index]') &&
      typeof this.data.opendIndex == 'object'
    ) {
      this.opendIndex = this.data.opendIndex;
      this.$el.removeAttr('dta-opend-inadex');
    }

    // this.opendIndex: all item open
    if (this.$el.is('[data-opend-all]')) {
      this.opendIndex = new Array(this.$toggleItem.length + 1)
        .join('0')
        .split('')
        .map(function (a, idx) {
          return idx;
        });
      this.$el.removeAttr('data-opend-all');
    }

    // Exception, multiple items open
    if (this.opendIndex.length > 1) {
      this.onlyExpanded = false;
    }

    // Initial setting
    setAriaAttr(this);
    setOpenToggle(this);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$toggleList.on('click', '.toggle_btn', function (e) {
      e.preventDefault();

      var index = $(this).parent().index();

      // When the toggle button is open
      if ($(this).hasClass('active')) {
        _this.closedIndex = [index];
        setCloseToggle(_this);

        _this.opendIndex.splice(_this.opendIndex.indexOf(index), 1);

        return;
      }

      // When the toggle button is closed
      if (_this.onlyExpanded) {
        // Only one item open
        _this.closedIndex = [_this.opendIndex];
        setCloseToggle(_this);

        _this.opendIndex = [index];
        setOpenToggle(_this);
      } else {
        // Multiple items open
        _this.opendIndex.push(index);
        setOpenToggle(_this);
      }

      return;
    });
  };

  // Apply aria properties
  function setAriaAttr(_plugin) {
    _plugin.$toggleItem.each(function (index) {
      var key = _plugin.key + '_' + index;

      $(this)
        .find('.toggle_btn')
        .attr({
          id: 'toggle_btn_' + key, // fixed
          'aria-controls': 'toggle_cont_' + key, // fixed
          'aria-expanded': false, // changeable
        });

      $(this)
        .find('.toggle_cont')
        .attr({
          role: 'region', // fixed
          id: 'toggle_cont_' + key, // fixed
          'aria-labelledby': 'toggle_btn_' + key, // fixed
          'aria-hidden': true, // changeable
        });
    });
  }

  // Open toggle
  function setOpenToggle(_plugin) {
    for (var index = 0; index < _plugin.opendIndex.length; index++) {
      var $item = _plugin.$toggleItem.eq(_plugin.opendIndex[index]);

      $item.addClass('active_li'); //real_summit_2024_faq
      $item.find('.toggle_btn').attr('aria-expanded', true).addClass('active');
      $item.find('.toggle_cont').attr('aria-hidden', false).stop().slideDown();
    }
  }

  // Close toggle
  function setCloseToggle(_plugin) {
    for (var index = 0; index < _plugin.closedIndex.length; index++) {
      var $item = _plugin.$toggleItem.eq(_plugin.closedIndex[index]);

      $item.removeClass('active_li'); //real_summit_2024_faq
      $item
        .find('.toggle_btn')
        .attr('aria-expanded', false)
        .removeClass('active');
      $item.find('.toggle_cont').attr('aria-hidden', true).stop().slideUp();

      _plugin.closedIndex.shift();
    }
  }

  this.init();
}
fo.addPlugin(M25_B);

/*** M26_A | Case Study ***/
function M26_A(el) {
  _proto = M26_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$carousel = this.$el.find('.owl-carousel');
  this.$carouselItem = this.$carousel.find('.item');
  this.$carouselTitle = this.$carousel.find('.tit_b');
  this.$navWrap;
  this.$nav;
  this.$pagn = this.$el.find('.owl-pagn');

  var _this = this; // M26_A
  var deviceType; // "PC_LARGE", "PC_SMALL", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: M26_A")
    if (this.$carousel.find('.item').length < 2) {
      this.$pagn.hide();
      return;
    }

    /* 210510 | 접근성 | 모바일 활성화 Nav */
    if (this.$carouselItem.length >= 2) {
      this.$carousel.after(
        '<div class="owl-navm"><button class="owl-prevm"><em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em></button><button class="owl-nextm"><em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em></button></div>',
      );
    }
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    // Device type check
    deviceType = checkDeviceType();

    this.$pagn.wrap("<div class='navigation'></div>");
    this.$pagn.after("<div class='owl-nav'></div>");
    this.$navWrap = this.$pagn.parent('.navigation');
    this.$nav = this.$pagn.next('.owl-nav');

    setCarousel(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updatePagnWrapPos(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    /* 210510 | 접근성 | 모바일 활성화 Nav */
    _this.$el.find('.owl-navm button').on('click', function (e) {
      e.stopPropagation();

      if ($(this).hasClass('owl-prevm')) {
        _this.$carousel.trigger('prev.owl.carousel');
        // setTimeout(() => {
        //     _this.$carousel.find('.owl-item.active a').get(0).focus();
        // }, 200);
      } else if ($(this).hasClass('owl-nextm')) {
        _this.$carousel.trigger('next.owl.carousel');
        // setTimeout(() => {
        //     _this.$carousel.find('.owl-item.active a').get(0).focus();
        // }, 200);
      }
    });
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1190) {
      return 'PC_LARGE';
    } else if (window.innerWidth > 1023) {
      return 'PC_SMALL';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  //owl carousel
  function setCarousel(_plugin) {
    if (_plugin.$carousel.data('owl.carousel')) {
      return;
    }

    _plugin.$carousel.owlCarousel({
      stageElement: 'ul',
      itemElement: 'li',
      autoWidth: false,
      loop: true,
      nav: true,
      navContainer: _plugin.$nav,
      dots: false,
      items: 1,
      smartSpeed: 750,
      navText: [
        '<em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em>',
        '<em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em>',
      ],
      responsive: {
        0: {
          margin: 16,
        },
        1191: {
          margin: 4,
        },
      },
      onInitialized: function (e) {
        initPagn(e, _plugin);
        setCarouselAria(_plugin);
        updatePagnWrapPos(_plugin);

        _plugin.$carousel.addClass('act');

        var currentNum = e.relatedTarget.current(),
          currentSlide = e.relatedTarget.$element
            .find('.owl-stage')
            .find('.owl-item')
            .eq(currentNum);

        currentSlide.attr({ tabindex: '' });
      },
      onRefreshed: function (e) {
        //FIREFOX
        initPagn(e, _plugin);
        setCarouselAria(_plugin);
        updatePagnWrapPos(_plugin);

        _plugin.$carousel.addClass('act');
      },
      onChanged: function (e) {
        updatePagn(e, _plugin);
        setInterval(function () {
          _plugin.$el.scrollLeft(0);
        }, 100);

        _plugin.$carousel.removeClass('act');
        setAriaHidden(e, _plugin); /* 210510 | 접근성 | 모바일 활성화 Nav */

        /*
                    202304-01 웹접근 추가 :
                    첫번째 슬라이드때 이전버튼 클릭시 cloned 슬라이드로 가면서
                    cloned 슬라이드의 고정된 tabindex, aria-hidden 값을 수정
                */
        var currentNum = e.relatedTarget.current(),
          currentSlide = e.relatedTarget.$element
            .find('.owl-stage')
            .find('.owl-item')
            .eq(currentNum),
          currentSlideAllBtnOBJ = currentSlide.find('button, a');

        currentSlide.attr({ 'aria-hidden': 'false', tabindex: '' });
        currentSlideAllBtnOBJ.attr({ 'aria-hidden': 'false', tabindex: '0' });
        currentSlide
          .siblings()
          .find('button, a')
          .attr({ 'aria-hidden': 'true', tabindex: '-1' });
      },
      singleItem: true,
      responsiveClass: true,
    });
  }

  function setCarouselAria(_plugin) {
    var $clonedItem = _plugin.$carousel.find('.owl-item.cloned');

    $clonedItem.attr({ 'aria-hidden': 'true', tabindex: '-1' });
    $clonedItem.find('a, button').attr('tabindex', -1);
  }

  function initPagn(e, _plugin) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;

    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');

    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
    _plugin.$pagn.find('.owl-pagn-ed').text(setNum(e.item.count));
  }

  function updatePagn(e, _plugin) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;

    if (isNaN(activeIndex)) return;

    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
  }

  function updatePagnWrapPos(_plugin) {
    switch (deviceType) {
      case 'PC_LARGE':
        var titlePos = getTitlePos(_plugin);
        _plugin.$navWrap.css('top', titlePos.offset + titlePos.titleHeight);
        break;
      case 'PC_SMALL':
      case 'TABLET':
      case 'MOBILE':
        _plugin.$navWrap.css('top', '');
        break;
      // default:
      //     break;
    }
  }

  function getTitlePos(_plugin) {
    var titleHeights = [];
    var offset = -1 * _plugin.$carousel.offset().top;

    _plugin.$carouselTitle.each(function (index, title) {
      titleHeights.push(parseInt($(title).height()));
      if (index === 0) {
        offset += $(title).offset().top;
      }
    });
    return {
      offset: offset,
      titleHeight: Math.max.apply(null, titleHeights),
    };
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  function setAriaHidden(e, _plugin) {
    var currentIdx = e.item.index;
    var activeItem = $(e.target).find('.owl-item').eq(currentIdx);

    $(e.target)
      .find('.owl-item')
      .attr('aria-hidden', true)
      .attr('tabindex', -1);
    activeItem.attr('aria-hidden', false).attr('tabindex', 0);
  }

  this.init();
}
fo.addPlugin(M26_A);

/*** M26_B | Case Study ***/
function M26_B(el) {
  _proto = M26_B.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.key = Math.floor(this.$el.offset().top); //210510 | 접근성 | tabswiper focus
  this.$carousel = this.$el.find('.owl-carousel');
  this.$carouselItem = this.$carousel.find('.item');
  this.$tabArea = this.$el.find('.tab_slide_area');
  this.$tabListBtn = this.$tabArea.find('.tab_btn'); //210510 | 접근성 | tabswiper focus
  this.$initCont = this.$el.find('.M26_B_cont');

  var _this = this; // M26_B
  var deviceType; // "PC_LARGE", "PC_SMALL", "TABLET", "MOBILE"
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: M26_B")

    // Device type check
    deviceType = checkDeviceType();

    if (this.$carousel.find('.item').length < 2) {
      this.$tabArea.hide();
      _this.$initCont.addClass('init'); // opacity : 1 추가
      return;
    }

    /* 210510 | 접근성 | 모바일 활성화 Nav */
    if (this.$carouselItem.length >= 2) {
      this.$carousel.after(
        '<div class="owl-navm"><button class="owl-prevm"><em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em></button><button class="owl-nextm"><em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em></button></div>',
      );
    }
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    setCarousel(this);
    setAriaAttr(this); //210510 | 접근성 | tabswiper focus

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateBreakPoint(_this);
      }
    }, 100);

    _this.$initCont.addClass('init'); // opacity : 1 추가

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    //item focus
    _this.$carouselItem.on('focusin', function (e) {
      if ($(e.target).is(':hover')) {
        return;
      }
      var itemIndex = _this.$carouselItem.index(e.delegateTarget);
      _this.$carousel.trigger('to.owl.carousel', itemIndex);
      _this.$carousel.children().scrollLeft() != 0 &&
        _this.$carousel.children().scrollLeft(0);
      _this.$el.scrollLeft(0);
    });

    _this.$tabArea.find('.tab_btn').on('click', function (e) {
      e.preventDefault();

      var index = $(this).parent().index();
      _this.$carousel.trigger('to.owl.carousel', index);
    });

    _this.$carousel.find('.visual_img .md_link').on('focus', function (e) {
      _this.$el.scrollLeft(0);
    });

    _this.$el.on('keyup', function (e) {
      e.stopPropagation();

      if (!_this.$carousel.data('owl.carousel')) {
        return;
      }

      if (e.keyCode == 37) {
        _this.$carousel.trigger('prev.owl.carousel');
      } else if (e.keyCode == 39) {
        _this.$carousel.trigger('next.owl.carousel');
      }
    });

    /* 210510 | 접근성 | 모바일 활성화 Nav */
    _this.$el.find('.owl-navm button').on('click', function (e) {
      e.stopPropagation();

      if ($(this).hasClass('owl-prevm')) {
        _this.$carousel.trigger('prev.owl.carousel');
        _this.$carousel.find('.owl-item.active').focus();
      } else if ($(this).hasClass('owl-nextm')) {
        _this.$carousel.trigger('next.owl.carousel');
        _this.$carousel.find('.owl-item.active').focus();
      }
    });
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1190) {
      return 'PC_LARGE';
    } else if (window.innerWidth > 1023) {
      return 'PC_SMALL';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  //owl carousel
  function setCarousel(_plugin) {
    if (_plugin.$carousel.data('owl.carousel')) {
      return;
    }

    _plugin.$carousel.owlCarousel({
      stageElement: 'ul',
      itemElement: 'li',
      autoWidth: false,
      loop: true,
      nav: false,
      dots: false,
      items: 1,
      smartSpeed: 750,
      responsive: {
        0: {
          margin: 16,
        },
        1191: {
          margin: 4,
        },
      },
      onInitialized: function (e) {
        setCarouselAria(_plugin);
        updateBreakPoint(_plugin);
        _plugin.$carousel.addClass('act');
      },
      onRefreshed: function (e) {
        //FIREFOX
        setCarouselAria(_plugin);
        updateBreakPoint(_plugin);
        _plugin.$carousel.addClass('act');
      },
      onChanged: function (e) {
        updateCarouselAria(e, _plugin);
        setInterval(function () {
          _plugin.$el.scrollLeft(0);
        }, 100);
        _plugin.$carousel.removeClass('act');
        setAriaHidden(e, _plugin); /* 210510 | 접근성 | 모바일 활성화 Nav */
      },
      singleItem: true,
      responsiveClass: true,
    });
  }

  function setCarouselAria(_plugin) {
    var $clonedItem = _plugin.$carousel.find('.owl-item.cloned');

    $clonedItem.attr('aria-hidden', true);
    $clonedItem.find('a, button').attr('tabindex', -1);
  }

  function updateCarouselAria(e, _plugin) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current());

    if (isNaN(activeIndex)) return;

    var tabSlide = _plugin.$tabArea.data('plugin').slide;

    _plugin.$tabArea
      .find('.tab_btn.active')
      .removeClass('active')
      .attr('aria-selected', 'false');
    _plugin.$tabArea
      .find('.tab_btn')
      .eq(activeIndex)
      .addClass('active')
      .attr('aria-selected', 'true');
    /* 210510 | 접근성 | tabswiper focus */

    tabSlide.slideTo(activeIndex);
    if (tabSlide.activeIndex !== 0) {
      // 여백 영역만큼 좌측으로 이동
      if ($(window).innerWidth() <= 600) {
        tabSlide.setWrapperTranslate(tabSlide.translate + 30);
      } else if ($(window).innerWidth() <= 1023) {
        tabSlide.setWrapperTranslate(tabSlide.translate + 10);
      }
    }
  }

  function updateBreakPoint(_plugin) {
    switch (deviceType) {
      case 'MOBILE':
        break;
      // default:
      //     break;
    }
  }

  /* 210510 | 접근성 | tabswiper focus */
  // Apply aria properties
  function setAriaAttr(_plugin) {
    _plugin.$tabArea
      .attr('role', 'tablist') // fixed
      .find('li')
      .attr('role', 'presentation'); // fixed

    _plugin.$tabListBtn.each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this).attr({
        role: 'tab', // fixed
        id: 'tab_btn_' + key, // fixed
        'aria-controls': 'tab_panel_' + key, // fixed
        'aria-selected': false, // changeable
      });
    });

    _plugin.$carouselItem.parent('li').each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this).attr({
        role: 'region', // fixed
        id: 'tab_panel_' + key, // fixed
        'aria-labelledby': 'tab_btn_' + key, // fixed
      });
    });
    _plugin.$tabArea.find('.tab_btn.active').attr('aria-selected', 'true');
  }
  /* //210510 | 접근성 | tabswiper focus */

  function setAriaHidden(e, _plugin) {
    var currentIdx = e.item.index;
    var activeItem = $(e.target).find('.owl-item').eq(currentIdx);

    $(e.target)
      .find('.owl-item')
      .attr('aria-hidden', true)
      .attr('tabindex', -1);
    activeItem.attr('aria-hidden', false).attr('tabindex', 0);
  }

  this.init();
}
fo.addPlugin(M26_B);

/** M28_A | Features **/
function M28_A(el) {
  _proto = M28_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.mhItems;

  var _this = this; // M28_A
  var deviceType; // "PC", "TABLET", "MOBILE"
  var mhTarget = ['.md_tit', '.md_txt'];
  var resizeTimer;

  _proto.init = function () {
    //console.log("init:: M28_A");

    // Device type check
    deviceType = checkDeviceType();

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateMhItem(_this);
      }
    }, 200);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Event
  _proto.addEvent = function () {
    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$el.find(target);
    });
  }

  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };

    switch (deviceType) {
      case 'PC':
      case 'TABLET':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        break;
      // default:
      //     break;
    }
  }

  this.init();
}
fo.addPlugin(M28_A);

/** M30_A | Testimonial **/
function M30_A(el) {
  _proto = M30_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.startIndex = 0;
  this.currentIndex = this.startIndex;
  this.$carousel = this.$el.find('.md_cont');
  this.$carouselItem = this.$el.find('.md_cont .li');
  this.$txtArea = this.$carousel.find('.txt');
  this.$visualArea = this.$carousel.find('.img .img_p, .img .img_m');
  this.ctaSlide = {
    $area: this.$el.find('.cta_slide > ul'),
    $btn: this.$el.find('.cta_slide .cta_btn'),
  };
  this.navigation = {
    $area: this.$el.find('.navigation'),
    $pagn: this.$el.find('.navigation .owl-pagn'),
    $nav: this.$el.find('.navigation .owl-nav'),
  };
  this.mhItems;

  var _this = this;
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var mhTarget = ['.md_tit', '.md_txt'];
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: M30_A")

    // Device type check
    deviceType = checkDeviceType();

    this.$el.find('.M30_A_cont').removeClass('module_ty');
    // Set visual txt break
    //this.setVisualImg();
    this.setTxtBreak();

    if (this.$carouselItem.length < 2) {
      this.$carouselItem.eq(0).addClass('act');
      this.navigation.$area.remove();
    }

    /* 220405 | 접근성 | 모바일 활성화 Nav */
    if (this.$carouselItem.length >= 2) {
      this.navigation.$area.after(
        '<div class="owl-navm"><button class="owl-prevm"><em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em></button><button class="owl-nextm"><em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em></button></div>',
      );
    }
    /* //220405 | 접근성 | 모바일 활성화 Nav */

    // Set carousel
    setCarousel(this);

    // Indicator(tab button) set
    updateCtaSlide(this);

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;

        // Set matchHeight item
        if (mhTarget.length) {
          getMhItems(_this);
          updateMhItem(_this);
        }
        updateCarouselAria(_this);

        // Pagn(progressbar,prev,next) update
        updatePagnStyle(_this);

        // Indicator(tab button) update
        updateCtaSlide(_this);
        updateCarouselStyle(_this);
      }
      //
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Set visual txt break
  _proto.setTxtBreak = function () {
    var $title = this.$txtArea.find('.md_tit');
    $title.find('p, em').lettering('lines');
    $title.find('span').wrapInner('<i></i>');
  };

  // Event
  _proto.addEvent = function () {
    _this.$el.on('M30A.UPDATE', function () {
      updateCarouselStyle(_this);
    });

    /* 220405 | 접근성 | 모바일 활성화 Nav */
    _this.$el.find('.owl-navm button').on('click', function (e) {
      e.stopPropagation();

      if ($(this).hasClass('owl-prevm')) {
        _this.$carousel.trigger('prev');
      } else if ($(this).hasClass('owl-nextm')) {
        _this.$carousel.trigger('next');
      }
    });
    /* //220405 | 접근성 | 모바일 활성화 Nav */

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
    // Window resize && matchHeight after update
    $.fn.matchHeight._beforeUpdate = function (event, groups) {
      $('.M30_A').trigger('M30A.UPDATE');
    };
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setCarousel(_plugin) {
    if (_plugin.$carouselItem.length < 2) {
      return;
    }
    var $prevBtn = _plugin.navigation.$nav.find('.owl-prev');
    var $nextBtn = _plugin.navigation.$nav.find('.owl-next');

    $prevBtn.wrapInner(
      '<em class="blind">' +
        langSet[lang]['slide']['prevStr'].toString() +
        '</em>',
    );
    $nextBtn.wrapInner(
      '<em class="blind">' +
        langSet[lang]['slide']['nextStr'].toString() +
        '</em>',
    );

    _plugin.$carousel.carouFredSel({
      responsive: true,
      auto: {
        play: false,
      },
      prev: {
        button: $prevBtn,
        key: 'left',
      },
      next: {
        button: $nextBtn,
        key: 'right',
      },
      items: {
        start: _plugin.currentIndex,
        visible: 1,
      },
      swipe: {
        onMouse: true,
        onTouch: true,
      },
      scroll: {
        fx: 'fade',
        duration: 0,
        items: 1,
        onAfter: function (data) {
          _plugin.currentIndex = _plugin.$carouselItem.index(
            data.items.visible,
          );

          // Update
          updatePagnStyle(_plugin);
          updateCarouselAria(_plugin);

          _plugin.$carouselItem
            .removeClass('act')
            .eq(_plugin.currentIndex)
            .addClass('act');

          /* 2023-04 접근성 수정 시작 */
          _plugin.$carouselItem.eq(_plugin.currentIndex).attr('tabindex', 0);

          setTimeout(function () {
            _plugin.$carouselItem.eq(_plugin.currentIndex).focus();
          }, 1);
          /* // 2023-04 접근성 수정 끝 */
        },
      },
      onCreate: function () {
        _plugin.navigation.$pagn
          .find('.owl-pagn-ed')
          .text(setNum(_plugin.$carouselItem.length));

        // Update
        updatePagnStyle(_plugin);
        updateCarouselStyle(_plugin);
        updateCarouselAria(_plugin);

        _plugin.$carouselItem
          .removeClass('act')
          .eq(_plugin.currentIndex)
          .addClass('act');
      },
    });

    /* 2023-04 접근성 수정 시작 */
    _plugin.$carouselItem.on('blur', function () {
      $(this).removeAttr('tabindex');
    });
    /* // 2023-04 접근성 수정 끝 */
  }

  function updateCarouselStyle(_plugin) {
    _plugin.$carouselItem.height('auto');
    var heights = _plugin.$carouselItem.map(function () {
      return this.clientHeight;
    });
    _plugin.$carousel.trigger('configuration', {
      height: Math.max.apply(null, heights),
      items: {
        height: Math.max.apply(null, heights),
      },
    });
    _plugin.$carousel.trigger('updateSizes');
  }

  function updateCarouselAria(_plugin) {
    _plugin.$carouselItem.attr('aria-hidden', true);
    _plugin.$carouselItem.find('a, button').attr('tabindex', -1);

    _plugin.$carouselItem.eq(_plugin.currentIndex).removeAttr('aria-hidden');
    _plugin.$carouselItem
      .eq(_plugin.currentIndex)
      .find('a, button')
      .removeAttr('tabindex');

    _plugin.navigation.$area.is('[tabindex]') &&
      _plugin.navigation.$area.removeAttr('tabindex');
  }

  // Update Carousel Style
  function updateCtaSlide(_plugin) {
    switch (deviceType) {
      case 'PC':
        if (!_plugin.ctaSlide.$area.data('_cfs_isCarousel')) {
          return;
        }
        _plugin.ctaSlide.$area.trigger('destroy', true);
        break;
      case 'TABLET':
      case 'MOBILE':
        if (_plugin.ctaSlide.$area.data('_cfs_isCarousel')) {
          return;
        }
        _plugin.ctaSlide.$area.carouFredSel({
          responsive: false,
          infinite: false,
          auto: false,
          prev: false,
          next: false,
          items: {
            start: 0,
            visible: 1,
          },
          swipe: {
            onMouse: true,
            onTouch: true,
            onBefore: function (data) {
              /* if(!_plugin.$carousel.data("_cfs_isCarousel")){
                                return;
                            } */
              _plugin.$carousel.trigger('stop', true);
            },
            onAfter: function (data) {
              /* if(!_plugin.$carousel.data("_cfs_isCarousel")){
                                return;
                            } */
              _plugin.$carousel.trigger('play', true);
              _plugin.$carousel.trigger('pause', true);
            },
          },
          onCreate: function () {},
        });

        break;
      // default:
      //     break;
    }
  }

  // Update Pagn(progressbar,prev,next) Style
  function updatePagnStyle(_plugin) {
    if (!_plugin.$carousel.data('_cfs_isCarousel')) {
      return;
    }
    var width =
      (100 / _plugin.$carouselItem.length) * (_plugin.currentIndex + 1);
    var ariaTxt =
      setNum(_plugin.currentIndex + 1) +
      ' of ' +
      setNum(_plugin.$carouselItem.length);

    _plugin.navigation.$pagn
      .find('.owl-pagn-st')
      .text(setNum(_plugin.currentIndex + 1));
    _plugin.navigation.$pagn.find('.owl-pagn-bar p').css('width', width + '%');
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$carousel.find(target);
    });
  }

  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };

    switch (deviceType) {
      case 'PC':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'TABLET':
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        break;
      // default:
      //     break;
    }
  }

  this.init();
}
fo.addPlugin(M30_A);

/** M34_A | Product */
function M34_A(el) {
  _proto = M34_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$tabList = this.$el.find('.tab_list');
  this.$tabListBtn = this.$tabList.find('.tab_btn');
  this.$tabPanel = this.$el.find('.tab_panel');
  //this.$visualArea = this.$el.find(".visual_img .img_p");
  this.$detailList = this.$el.find('.detail_list');
  //this.key = Math.floor(this.$el.offset().top);
  this.activeTab = 0;
  this.mhItems;
  this.slide;
  this.$container = this.$el.hasClass('swiper-container')
    ? this.$el
    : this.$el.find('.swiper-container');
  this.$wrapper = this.$container.find('.swiper-wrapper');
  this.$items = this.$container.find('.swiper-slide');
  this.$prevBtn = this.$container.find('.btn_prev');
  this.$nextBtn = this.$container.find('.btn_next');
  this.key = Math.floor(this.$el.offset().top); //210510 | 접근성 | tabswiper focus

  var _this = this; // M34_A
  var deviceType; // "PC", "TABLET", "MOBILE"
  var mhTarget = ['.md_tit', '.md_txt'];
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: M34_A")

    // Device type check
    deviceType = checkDeviceType();

    // Set swiper
    setSwiper(this);

    // Initial tab aria setting
    setAriaAttr(this);
    setOpenTab(this);

    this.$prevBtn
      .find('.blind')
      .text(langSet[lang]['slide']['prevStr'].toString());
    this.$nextBtn
      .find('.blind')
      .text(langSet[lang]['slide']['nextStr'].toString());

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    if (this.$tabListBtn.length < 2 || this.$tabPanel.length < 2) {
      this.$tabList.remove();
      return;
    }

    // Tab activated on initial load
    if (this.$el.is('[data-active-tab]') && this.data.activeTab >= 0) {
      this.activeTab =
        this.data.activeTab < this.$tabListBtn.length
          ? this.data.activeTab
          : this.$tabListBtn.length - 1;
      this.$el.removeAttr('data-active-tab');
    }

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateMhItem(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    // Tab button click
    _this.$tabListBtn.on('click', function () {
      _this.activeTab = _this.$tabListBtn.index($(this));
      setOpenTab(_this);

      _this.$items.removeClass('swiper-slide-active');
      _this.$tabListBtn.attr('aria-selected', 'false');
      _this.$tabListBtn.removeClass('active');
      $(this).parent('li').addClass('swiper-slide-active');
      $(this).attr('aria-selected', 'true');
      $(this).addClass('active');
    });

    // "onSliderMove"
    // Callback function, will be executed when user touch and move finger over Swiper and move it. Receives swiper instance and 'touchmove' event as an arguments.
    _this.slide.on('onSliderMove', function (swiper, event) {
      setControlStyle(_this, swiper);
    });

    // "onTransitionEnd"
    // Callback function, will be executed after transition. Receives slider instance as an argument.
    _this.slide.on('onTransitionEnd', function (swiper) {
      setControlStyle(_this, swiper);
    });

    // // prev button click
    _this.$prevBtn.on('click', function () {
      _this.slide.slidePrev();
    });

    // // next button click
    _this.$nextBtn.on('click', function () {
      _this.slide.slideNext();
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
      _this.slide.update();
    });
  };

  // Set Swiper
  function setSwiper(_plugin) {
    _plugin.slide = new Swiper(_plugin.$container, {
      a11y: true,
      loop: true,
      centeredSlides: false,
      slidesPerView: 'auto',
      slideToClickedSlide: true, // 해당 슬라이드 클릭시 슬라이드 위치로 이동
      freeMode: false,
      watchSlidesVisibility: true,
      keyboardControl: true,
      slidesOffsetBefore: 0,
      slidesOffsetAfter: 0,
      slidesOffsetBefore: 50, // 슬라이드 시작 부분 여백
      slidesOffsetAfter: 50, // 슬라이드 시작 부분 여백
      breakpoints: {
        1023: {
          slidesOffsetBefore: 30, // 슬라이드 시작 부분 여백
          slidesOffsetAfter: 30, // 슬라이드 시작 부분 여백
          loop: true,
          freeMode: false,
          slideToClickedSlide: false,
        },
      },
      onInit: function (swiper) {
        setSlideStyle(_this, swiper);
        setControlStyle(_this, swiper);
        _plugin.$wrapper
          .find('.swiper-slide-duplicate a')
          .attr('aria-hidden', true)
          .attr('tabindex', -1);
      },
      onTransitionEnd: function (swiper) {
        _plugin.$tabListBtn
          .attr('aria-selected', 'false')
          .eq(swiper.realIndex)
          .attr('aria-selected', 'true');
        _plugin.$tabListBtn
          .removeClass('active')
          .eq(swiper.realIndex)
          .addClass('active');
        _plugin.$tabPanel
          .removeClass('active')
          .eq(swiper.realIndex)
          .addClass('active');
        _plugin.$tabPanel.eq(swiper.realIndex).trigger('click');
        _plugin.$tabList.find('.swiper-slide-active a').trigger('click');
      },
      onAfterResize: function (swiper) {
        swiper.update();
      },
    });
  }

  // slide, prev button, next button style
  function setSlideStyle(_plugin, swiper) {
    var slideWidth = 0;
    swiper.slidesSizesGrid.map(function (width) {
      slideWidth += width;
    });

    if (slideWidth <= swiper.size) {
      // fixed wrapper
      _plugin.$wrapper.not('.isFixed') &&
        _plugin.$wrapper
          .addClass('isFixed')
          .css('transform', 'translate3d(0px, 0px, 0px);');
      // button disabled
      _plugin.$prevBtn.not('[disabled]') &&
        _plugin.$prevBtn.attr('disabled', 'disabled').addClass('disabled');
      _plugin.$nextBtn.not('[disabled]') &&
        _plugin.$nextBtn.attr('disabled', 'disabled').addClass('disabled');
    } else {
      // fixed wrapper
      _plugin.$wrapper.is('.isFixed') &&
        _plugin.$wrapper
          .removeClass('isFixed')
          .css('transform', 'translate3d(0px, 0px, 0px);');
      // button disabled
      _plugin.$prevBtn.is('[disabled]') &&
        _plugin.$prevBtn.removeAttr('disabled').removeClass('disabled');
      _plugin.$nextBtn.is('[disabled]') &&
        _plugin.$nextBtn.removeAttr('disabled').removeClass('disabled');
    }
  }

  // prev button, next button style
  function setControlStyle(_plugin, swiper) {
    // prev button
    if (swiper.translate >= 0) {
      _plugin.$prevBtn.attr('disabled', 'disabled').addClass('disabled');
    } else {
      _plugin.$prevBtn.removeAttr('disabled').removeClass('disabled');
    }

    // next button
    if (swiper.isEnd) {
      _plugin.$nextBtn.attr('disabled', 'disabled').addClass('disabled');
    } else {
      _plugin.$nextBtn.removeAttr('disabled').removeClass('disabled');
    }
  }

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$detailList.find(target);
    });
  }

  // Update Match Height Item
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };

    switch (deviceType) {
      case 'PC':
      case 'TABLET':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        //alert(1);

        break;
      // default:
      //     break;
    }
  }

  function setActiveClass(_plugin) {
    var parentsId = _plugin.$tabList.find('.swiper-slide-active a').attr('id');
    _plugin.$tabList.find('.swiper-slide-active a').removeClass('active');
    _plugin.$el.find('#' + parentsId).addClass('active');
  }

  // Apply aria properties
  function setAriaAttr(_plugin) {
    _plugin.$tabList
      .attr('role', 'tablist') // fixed
      .find('li')
      .attr('role', 'presentation'); // fixed

    _plugin.$tabListBtn.each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this).attr({
        role: 'tab', // fixed
        id: 'tab_btn_' + key, // fixed
        'aria-controls': 'tab_panel_' + key, // fixed
        'aria-selected': false, // changeable
      });
    });

    _plugin.$tabPanel.each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this).attr({
        role: 'region', // fixed
        id: 'tab_panel_' + key, // fixed
        'aria-labelledby': 'tab_btn_' + key, // fixed
      });
    });
  }

  function setOpenTab(_plugin) {
    // Exception, if there is no activation tab
    if (_plugin.activeTab >= _plugin.$tabPanel.length) {
      return;
    }

    // Activate tab button
    _plugin.$tabListBtn
      .removeClass('active')
      .attr({
        'aria-selected': false,
      })
      .eq(_plugin.activeTab)
      .addClass('active')
      .attr({
        'aria-selected': true,
      });

    // Activate tab panel
    _plugin.$tabPanel
      .removeClass('active')
      .eq(_plugin.activeTab)
      .addClass('active');
  }

  this.init();
}
fo.addPlugin(M34_A);

/** M35_A | Testimonial **/
function M35_A(el) {
  _proto = M35_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$tabArea = this.$el.find('.tab_slide_area');
  this.$tabInner = this.$tabArea.find('.tab_inner');
  this.$tabListLi = this.$tabArea.find('li');
  this.$tabListBtn = this.$tabArea.find('.tab_btn');
  this.$tabPanel = this.$el.find('.list');
  this.key = Math.floor(this.$el.offset().top);

  var _this = this;
  var lang = $('html').attr('lang') || 'en';
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var tabTop;
  var tabHeight = _this.$tabArea.height();
  var $hd = $('.M00_A');
  var $hdHeight = $hd.find('.inner').height();

  _proto.init = function () {
    //console.log("init:: M35_A")

    // Device type check
    deviceType = checkDeviceType();

    setAriaAttr(this);
    tabScroll(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        if (_this.$tabArea.hasClass('fixed')) {
          tabTop = parseInt($('.tab_empty_box').offset().top);
        } else {
          tabTop = parseInt(_this.$tabArea.offset().top);
        }
        tabScroll(_this);
      }
    }, 200);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Event
  _proto.addEvent = function () {
    //btnClick event
    _this.$tabListBtn.on('click', function () {
      var thisIdx = $(this).closest('li').index();
      var thisPanel = _this.$tabPanel.eq(thisIdx);
      var thisPanelTop = parseInt(thisPanel.offset().top);

      _this.$tabListBtn.removeClass('active');
      _this.$tabListLi.eq(thisIdx).find('.tab_btn').addClass('active');

      $('html, body')
        .stop()
        .animate(
          {
            scrollTop: thisPanelTop - ($hdHeight + tabHeight) - 60,
          },
          500,
          function () {
            thisPanel.get(0).focus({ preventScroll: true });
          },
        );
    });

    $(window).on('scroll', function (event) {
      tabScroll(_this);
      updateScroll(_this);
    });

    _this.$tabInner.on('onInit', function (swiper, event) {
      updateScroll(_this);
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function tabScroll(_plugin) {
    var scrollTop = $(window).scrollTop();
    var headerTop = -1 * parseInt($hd.css('top'));
    var headerHeight = $hdHeight - headerTop;

    if (scrollTop >= tabTop - headerHeight) {
      _plugin.$tabArea.addClass('fixed');
      if ($('.tab_empty_box').length == 0) {
        _plugin.$tabArea.before('<div class="tab_empty_box"></div>');
        $('.tab_empty_box').height(_plugin.$tabArea.height());
      }
    } else {
      _plugin.$tabArea.removeClass('fixed');
      $('.tab_empty_box').remove();
    }
  }

  // update scroll
  function updateScroll(_plugin) {
    var scrollTop = $(window).scrollTop();
    var tabSlide = _plugin.$tabInner.data('plugin').slide;
    var headerTop = -1 * parseInt($hd.css('top'));
    var headerHeight = $hdHeight - headerTop;

    if (scrollTop <= _plugin.$el.offset().top) {
      _plugin.$tabListBtn.removeClass('active');
      _plugin.$tabListLi.eq(0).find('.tab_btn').addClass('active');
      tabSlide.slideTo(0);
      _plugin.$tabArea.css('top', '0');
    }

    $(_plugin.$tabPanel.get().reverse()).each(function (index, node) {
      var $node = $(this);
      var nodeIdx = $node.index();
      var offsetTop =
        parseInt($node.offset().top) - ($hdHeight + tabHeight + 100);

      if (_plugin.$tabArea.hasClass('fixed')) {
        if (scrollTop >= offsetTop) {
          _plugin.$tabListBtn.removeClass('active');
          _plugin.$tabListLi.eq(nodeIdx).find('.tab_btn').addClass('active');
          _plugin.$tabArea.css('top', headerHeight);

          tabSlide.slideTo(nodeIdx);
          return false;
        }
      }
    });
  }

  // Apply aria properties
  function setAriaAttr(_plugin) {
    tabTop = parseInt(_plugin.$tabArea.offset().top);

    _plugin.$tabInner
      .find('.tab_list')
      .attr('role', 'tablist') // fixed
      .find('li')
      .attr('role', 'presentation'); // fixed

    _plugin.$tabListBtn.each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this).attr({
        role: 'button', // fixed
        id: 'tab_btn_' + key, // fixed
        'aria-controls': 'tab_panel_' + key, // fixed
        'aria-selected': false, // changeable
      });
    });

    _plugin.$tabPanel.each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this).attr({
        role: 'region', // fixed
        id: 'tab_panel_' + key, // fixed
        'aria-labelledby': 'tab_btn_' + key, // fixed
      });
    });
  }

  this.init();
}
fo.addPlugin(M35_A);

/*** M44_A | Features 2 ***/
function M44_A(el) {
  _proto = M44_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.startIndex = 0;
  this.currentIndex = this.startIndex;
  this.$carousel = this.$el.find('.video_tab .roll_wrap');
  this.$carouselItem = this.$el.find('.video_tab .roll_wrap .item');
  this.$controlWrap = this.$el.find('.video_tab .md_control');
  this.$pagn = this.$el.find('.video_tab .md_control .pagn');
  this.$control = {
    wrap: this.$el.find('.play'),
    playBtn: this.$el.find('.md_btn_play'),
    stopBtn: this.$el.find('.md_btn_stop'),
  };

  var _this = this; // M44_A
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: M44_A")

    // Device type check
    deviceType = checkDeviceType();

    setCarousel(_this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;

        sequenceControl(_this, 'STOP', true);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$el.on('M44A.UPDATE', function () {
      updateCarouselStyle(_this);
    });
    _this.$carouselItem.on({
      focusin: function (e) {
        switch (deviceType) {
          case 'PC':
            //
            break;
          case 'TABLET':
          case 'MOBILE':
            var isPagnToSlide = $(e.relatedTarget).is(_this.$pagn);

            if (!isPagnToSlide) {
              var currentIndex = _this.$carouselItem.index(e.delegateTarget);
            } else {
              var currentIndex = 0;
              _this.$carouselItem.eq(0).find('a, button').first().focus();
            }

            _this.$carousel.trigger('slideTo', [currentIndex, 0, true]);
            break;
          // default:
          //     break;
        }
      },
      focusout: function (e) {
        switch (deviceType) {
          case 'PC':
            //
            break;
          case 'TABLET':
          case 'MOBILE':
            var isSameSequence = $(e.delegateTarget).find(
              e.relatedTarget,
            ).length;
            var isLastSequence = $(e.delegateTarget).is(
              _this.$carouselItem.last(),
            );

            if (!isSameSequence && isLastSequence) {
              _this.$pagn.focus();
            }
            break;
          // default:
          //     break;
        }
      },
    });

    _this.$control.stopBtn.on('click', function (e) {
      e.preventDefault();
      sequenceControl(_this, 'STOP', true);
      return false;
    });

    _this.$control.playBtn.on('click', function (e) {
      e.preventDefault();
      sequenceControl(_this, 'PLAY', true);
      return false;
    });

    _this.$carousel.on('focusin', function () {
      sequenceControl(_this, 'STOP', false);
    });

    _this.$pagn.on('focusin', function (e) {
      if (!$(e.target).is(':hover')) {
        sequenceControl(_this, 'STOP', false);
      }
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });

    // Window resize && matchHeight after update
    $.fn.matchHeight._afterUpdate = function (event, groups) {
      $('.M44_A').trigger('M44A.UPDATE');
    };
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  // Set carousel
  function setCarousel(_plugin) {
    //var carouselHeight = getCarouselHeight(_plugin);

    _plugin.$carousel.carouFredSel({
      responsive: true,
      height: null,
      auto: {
        play: true,
        timeoutDuration: 7800,
      },
      prev: false,
      next: false,
      items: {
        start: _plugin.currentIndex,
        visible: 1,
        height: null,
      },
      swipe: {
        onMouse: false,
        onTouch: false,
      },
      scroll: {
        fx: 'fade',
        duration: 0,
        items: 1,
        onAfter: function (data) {
          _plugin.currentIndex = _plugin.$carouselItem.index(
            data.items.visible,
          );

          _plugin.$carouselItem
            .removeClass('act')
            .eq(_plugin.currentIndex)
            .addClass('act');

          _plugin.$pagn
            .find('li')
            .removeClass('act')
            .eq(_plugin.currentIndex)
            .addClass('act');

          _plugin.$carouselItem.find('video').get(0).currentTime = 0;
          _plugin.$carouselItem
            .eq(_plugin.currentIndex)
            .find('video')
            .get(0)
            .play();

          // Update
          updateControl(_plugin);
          // updateCarouselAria(_plugin);
          // updateDuration(_plugin);
        },
      },
      onCreate: function () {
        _plugin.$control.playBtn
          .find('.blind')
          .text(langSet[lang]['slide']['playStr'].toString());
        _plugin.$control.stopBtn
          .find('.blind')
          .text(langSet[lang]['slide']['pauseStr'].toString());

        _plugin.$carouselItem
          .removeClass('act')
          .eq(_plugin.currentIndex)
          .addClass('act');

        // _plugin.$carouselItem.eq(_plugin.currentIndex).find("video").get(0).currentTime = 0;
        _plugin.$carouselItem
          .eq(_plugin.currentIndex)
          .find('video')
          .get(0)
          .play();

        // Update
        updateCarouselStyle(_plugin);
        updateControl(_plugin);
        // updateCarouselAria(_plugin);
        // updateControl(_plugin);
        // checkBanner(_plugin);
        // updateDuration(_plugin);
      },
    });
  }

  //update carouf height
  function updateCarouselStyle(_plugin) {
    _plugin.$carouselItem.height('auto');
    var heights = _plugin.$carouselItem.map(function () {
      return this.clientHeight;
    });
    _plugin.$carousel.trigger('configuration', {
      height: Math.max.apply(null, heights),
      items: {
        height: Math.max.apply(null, heights),
      },
    });
    _plugin.$carousel.trigger('updateSizes');
  }

  // Update Control
  function updateControl(_plugin) {
    if (!_plugin.$control.wrap.hasClass('on')) {
      sequenceControl(_plugin, 'PLAY', false);
    } else {
      sequenceControl(_plugin, 'STOP', false);
    }
  }

  // Sequence Control: play, stop
  function sequenceControl(_plugin, option, changeFocus) {
    switch (option) {
      case 'PLAY':
        _plugin.$control.wrap.removeClass('on');
        _plugin.$carousel.trigger('play', [null, 0, true]);
        _plugin.$carouselItem.find('video').get(0).play();

        changeFocus && _plugin.$control.stopBtn.focus();
        break;
      case 'STOP':
        _plugin.$control.wrap.addClass('on');
        _plugin.$carousel.trigger('pause', [true, true]);
        _plugin.$carouselItem.find('video').get(0).pause();

        changeFocus && _plugin.$control.playBtn.focus();
        break;
      // default:
      //     break;
    }
  }

  this.init();
}
fo.addPlugin(M44_A);

/** M45_A | Customer story */
function M45_A(el) {
  _proto = M45_A.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;

  this.key = Math.floor(this.$el.offset().top);
  this.startIndex = this.data.activeTab || 0;
  this.currentIndex = this.startIndex;

  this.$carousel = this.$el.find('.slider-tabContents');
  this.$carouselItem = this.$el.find('.slider-tabContents .tab_panel');

  this.$tab = this.$el.find('.slider-nav');
  this.$tabItem = this.$el.find('.slider-nav a');
  this.$tabItemLength = this.$el.find('.slider-nav a').length - 1;

  this.$nav = {
    wrap: this.$el.find('.slick-arrowContainer'),
    prevBtn: this.$el.find('.slick-arrowContainer .prev'),
    nextBtn: this.$el.find('.slick-arrowContainer .next'),
  };

  var _this = this; // M45_A
  var deviceType;
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    // Device type check
    deviceType = checkDeviceType();

    setElement(); // tab element 교체 및 clss 변경

    setCarousel(_this);
    getMaxHeight();
    setNav();

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();

      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        getMaxHeight();
        tabScroll();
      }
      setNav();
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    clickEvent();
    KeyboardEvent();
    tabDragEvent();

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  /**
   * 가로사이즈 별 DeviceType 분기
   * @returns "PC" | "TABLET" | "MOBILE"
   */
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  /* tab element 교체 및 clss 변경 */
  function setElement() {
    const html = `<div class="tab_area"><div class="tab_slide_area"><ul class="tab_list"></ul></div></div>`;
    _this.$el.find('.M45_A_cont').prepend(html);

    const tabMenu = Array.from(_this.$tabItem).map((a) => $(a).text());
    tabMenu.forEach((a) => {
      _this.$el
        .find('.tab_list')
        .append(`<li><a href="#" class="tit_s tab_btn">${a}</a></li>`);
    });

    const nav = `
            <div class="slick-nav">
                <button type="button" class="slick-prev"><span class="blind">${langSet[lang]['slide']['prevStr']}</span></button>
                <button type="button" class="slick-next"><span class="blind">${langSet[lang]['slide']['nextStr']}</span></button>
            </div>
        `;
    _this.$el.find('.tab_list').after(nav);

    _this.$el.find('.tab_slide_wrap').remove();

    _this.$tab = _this.$el.find('.tab_list');
    _this.$tabItem = _this.$el.find('.tab_list .tab_btn');
    _this.$nav = {
      wrap: _this.$el.find('.slick-nav'),
      prevBtn: _this.$el.find('.slick-prev'),
      nextBtn: _this.$el.find('.slick-next'),
    };
  }

  /* slick 슬라이드 init */
  function setCarousel(_plugin) {
    _plugin.$carousel.on('init', function (event, slick, currentSlide) {
      setTimeout(() => {
        setTabSlideAttr({ setting: true });
      }, 0); // 초기 세팅 시에만 parameter 넘김
      tabScroll();
    });

    _plugin.$carousel.slick({
      slidesToShow: 1,
      infinite: false,
      useTransform: true,
      fade: true,
      speed: 0,
      arrows: true,
      prevArrow: _plugin.$nav.prevBtn,
      nextArrow: _plugin.$nav.nextBtn,
    });

    /* 탭 메뉴 리스트 슬라이드 이동시 클래스 변경 */
    _plugin.$carousel.on('afterChange', function (e, slick, currentSlide) {
      _this.currentIndex = currentSlide; // idx
      setTimeout(() => {
        setTabSlideAttr();
      }, 0);
      tabScroll();
    });
  }

  /* 슬라이드의 Tablist, tabpanel 속성 세팅, 슬라이드의 activeIndex가 변경되면 접근성 속성 업데이트 */
  function setTabSlideAttr(params) {
    let setting = false;
    if (params) setting = params.setting ? true : false;

    const data = {
      carousel: _this.$carousel,
      type: {
        setting: setting, // 초기세팅 시 true
      },
      key: _this.key,
      tablist: _this.$tab,
      tablists: _this.$tabItem,
      tabpanel: _this.$carousel,
      tabpanels: _this.$carouselItem,
      activeIdx: _this.currentIndex,
    };

    slide.setTabSlideAttr(_this, data);
  }

  /* activeIndex 변경 시 tab 스크롤 값 세팅 */
  function tabScroll() {
    const data = {
      tabSlideArea: _this.$el.find('.tab_slide_area'),
      tab: _this.$tab,
      tabItems: _this.$tabItem,
      activeIdx: _this.currentIndex,
    };
    slide.setTabScroll(_this, data);
  }

  /* tab_slide_area 보다 tab의 가로 사이즈가 작으면 < > nav 가리기 */
  function setNav() {
    const tabArea = _this.$el.find('.tab_area');
    const tabAreaW = tabArea.width();
    const tabList = _this.$tab.width();

    if (tabList < tabAreaW) {
      tabArea.addClass('noNav');
    } else {
      tabArea.removeClass('noNav');
    }
  }

  /* slide click event */
  function clickEvent() {
    _this.$tabItem.on('click', function (e) {
      const idx = _this.$tabItem.index($(this));
      _this.$carousel.slick('goTo', idx);
    });
  }

  /* slide keyboard < > event */
  function KeyboardEvent() {
    _this.$tab.on('keydown', function (e) {
      let flag = false;

      // prev
      if (e.keyCode == 37) {
        flag = true;
        _this.$carousel.slick('slickPrev');
        setTimeout(() => {
          _this.$tabItem.eq(_this.currentIndex).focus();
        }, 0);

        // next
      } else if (e.keyCode === 39) {
        flag = true;
        _this.$carousel.slick('slickNext');
        setTimeout(() => {
          _this.$tabItem.eq(_this.currentIndex).focus();
        }, 0);
      }

      if (flag) {
        e.stopPropagation();
        e.preventDefault();
      }
    });

    _this.$carousel.on('keydown', function (e) {
      let flag = false;
      if (e.keyCode == 37) {
        flag = true;
        _this.$carousel.slick('slickPrev');
        setTimeout(() => {
          _this.$carouselItem
            .eq(_this.currentIndex)
            .find('a, button')[0]
            .focus();
        }, 0);
      } else if (e.keyCode == 39) {
        flag = true;
        _this.$carousel.slick('slickNext');
        setTimeout(() => {
          _this.$carouselItem
            .eq(_this.currentIndex)
            .find('a, button')[0]
            .focus();
        }, 0);
      }
      if (flag) {
        e.stopPropagation();
        e.preventDefault();
      }
    });
  }

  /* mouse drag Event */
  function tabDragEvent() {
    const data = {
      element: _this.$el.find('.tab_slide_area')[0],
    };
    slide.setTabDragEvent(_this, data);
  }

  /* txt_logo height setting */
  function getMaxHeight() {
    _this.$carousel.find('.txt_logo').css({ height: '' });
    const maxH = _this.$carousel
      .find('.txt_logo')
      .map((i, a) => a.scrollHeight)
      .sort((a, b) => b - a)[0];
    _this.$carousel.find('.txt_logo').css({ height: `${maxH}px` });
  }

  this.init();
}
fo.addPlugin(M45_A);

/** M46_A */
function M46_A(el) {
  _proto = M46_A.prototype;
  this.$el = el;
  this.data = this.$el.data();

  this.mhItems;

  this.$M46_A_ty = this.$el.find('.M46_A_cont .module_ty');

  var _this = this; // M46_A
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;

  var mhTarget = ['.md_btn'];

  _proto.init = function () {
    //console.log("init:: M46_A")

    // Device type check
    deviceType = checkDeviceType();

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    resizeTimer = new Timer(function (_plugin) {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateMhItem(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  /** 주변 아이템 텍스트 높이 동일하게 */
  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$M46_A_ty.find(target);
    });
  }
  // Update Match Height Item
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };

    switch (deviceType) {
      case 'PC':
      case 'TABLET':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        break;
      // default:
      //     break;
    }
  }
  /** //주변 아이템 텍스트 높이 동일하게 */

  this.init();
}
fo.addPlugin(M46_A);

/** M47_A */
function M47_A(el) {
  _proto = M47_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$carousel = this.$el.find('.owl-carousel');
  this.$carouselItem = this.$el.find('.owl-carousel .item');
  this.$pagn = this.$el.find('.owl-pagn');
  this.$control = {
    wrap: this.$el.find('.md_play'),
    playBtn: this.$el.find('.md_btn_play'),
    stopBtn: this.$el.find('.md_btn_stop'),
    prevBtn: this.$el.find('.owl-prev'),
    nextBtn: this.$el.find('.owl-next'),
  };
  this.running = true;

  var _this = this; // M47_A
  var deviceType; // "PC_LARGE", "PC_MEDIUM", "PC_SMALL", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: M47_A")
    // Device type check
    deviceType = checkDeviceType();

    this.$el.find('.M47_A_cont').addClass('m' + this.$carouselItem.length);

    // if (this.$carouselItem.length < 2) return;
    if (this.$carouselItem.length < 2) {
      // 아이템의 개수가 한 개일 경우 슬라이드를 초기화하지 않고 슬라이드 재생, 일시 중지 버튼을 숨깁니다.
      this.$el.find('.md_play').css({ display: 'none' });
      return;
    }

    /* 210510 | 접근성 | 모바일 활성화 Nav */
    if (this.$carouselItem.length >= 2) {
      this.$carousel.after(
        '<div class="owl-navm"><button class="owl-prevm"><em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em></button><button class="owl-nextm"><em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em></button></div>',
      );
    }
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    updateCarousel(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarousel(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$el.on('keyup', function (e) {
      e.stopPropagation();
      if (!_this.$carousel.data('owl.carousel')) {
        return;
      }
      if (e.keyCode == 37) {
        _this.$carousel.trigger('prev.owl.carousel');
      } else if (e.keyCode == 39) {
        _this.$carousel.trigger('next.owl.carousel');
      }
    });

    /* 210510 | 접근성 | 모바일 활성화 Nav */
    _this.$el.find('.owl-navm button').on('click', function (e) {
      e.stopPropagation();
      if ($(this).hasClass('owl-prevm')) {
        _this.$carousel.trigger('prev.owl.carousel');
        _this.$carousel.find('.owl-item.active').get(0).focus();
      } else if ($(this).hasClass('owl-nextm')) {
        _this.$carousel.trigger('next.owl.carousel');
        _this.$carousel.find('.owl-item.active').get(0).focus();
      }
    });
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    _this.$control.prevBtn
      .add(_this.$control.nextBtn)
      .off('mouseover mouseout')
      .on({
        mouseover: function () {
          // _this.$carousel.trigger('stop.owl.autoplay');
          if (deviceType.toUpperCase().indexOf('PC') > -1)
            sequenceControl(_this, 'STOP', true);
        },
        mouseout: function () {
          // _this.$carousel.trigger('play.owl.autoplay');
          if (deviceType.toUpperCase().indexOf('PC') > -1) {
            if (_this.$control.wrap.hasClass('on') && _this.running)
              sequenceControl(_this, 'PLAY', true);
          }
        },
      });

    _this.$carousel
      .off('mouseenter')
      .on('mouseenter', function () {
        if (deviceType.toUpperCase().indexOf('PC') > -1)
          sequenceControl(_this, 'STOP', true);
      })
      .off('mouseleave')
      .on('mouseleave', function () {
        if (deviceType.toUpperCase().indexOf('PC') > -1) {
          if (_this.$control.wrap.hasClass('on') && _this.running)
            sequenceControl(_this, 'PLAY', true);
        }
      });

    _this.$el
      .find('.md_play')
      .find('[class *= "md_btn_"]')
      .on('click', function (event) {
        var value = $(this).is('.md_btn_stop') ? 'STOP' : 'PLAY';

        sequenceControl(_this, value, true);

        _this.running = value === 'STOP' ? false : true;
      });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1504) {
      return 'PC_LARGE';
    } else if (window.innerWidth > 1168) {
      return 'PC_MEDIUM';
    } else if (window.innerWidth > 1023) {
      return 'PC_SMALL';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setCarousel(_plugin) {
    if (_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    _plugin.$carousel.owlCarousel({
      stageElement: 'ul',
      itemElement: 'li',
      autoplay: true,
      autoplayTimeout: 5000,
      autoplaySpeed: 700,
      autoplayHoverPause: true,
      stopOnHover: true,
      autoWidth: true,
      loop: true,
      nav: true,
      navText: [
        '<em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em>',
        '<em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em>',
      ],
      dots: false,
      items: 5,
      singleItem: true,
      responsive: {
        0: {
          margin: 16,
          autoplay: false,
          autoplayHoverPause: false,
        },
        500: {
          margin: 16,
          autoplay: false,
          autoplayHoverPause: false,
        },
        1023: {
          margin: 20,
          autoplay: false,
          autoplayHoverPause: false,
        },
        1024: {
          margin: 20,
          autoplay: true,
        },
      },
      onInitialized: function (e) {
        initPagn(e, _plugin);
        _plugin.$carousel.addClass('act');
      },
      onRefreshed: function (e) {
        // FIREFOX
        initPagn(e, _plugin);
        _plugin.$carousel.addClass('act');
      },
      onChanged: function (e) {
        updatePagn(e, _plugin);

        _plugin.$carousel.removeClass('act');
        setAriaHidden(e, _plugin); /* 210510 | 접근성 | 모바일 활성화 Nav */
      },
      onResized: function (e) {
        _plugin.$carousel.removeClass('act');
      },
    });
  }

  function updateCarousel(_plugin) {
    switch (deviceType) {
      case 'PC_LARGE':
        _plugin.$carouselItem.length < 5
          ? destroyCarousel(_plugin) // 1,2,3,4
          : setCarousel(_plugin); // 5,6,7...
        break;
      case 'PC_MEDIUM':
        _plugin.$carouselItem.length < 4
          ? destroyCarousel(_plugin) // 1,2,3
          : setCarousel(_plugin); // 4,5,6,7...
        break;
      case 'PC_SMALL':
        _plugin.$carouselItem.length < 3
          ? destroyCarousel(_plugin) // 1,2
          : setCarousel(_plugin); // 3,4,5,6,7...
        break;
      case 'TABLET':
      case 'MOBILE':
        _plugin.$carouselItem.length < 2
          ? destroyCarousel(_plugin) // 1
          : setCarousel(_plugin); // 2,3,4,5,6,7...
        break;
      // default:
      //     break;
    }
  }

  function initPagn(e, _plugin) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;

    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
    _plugin.$pagn.find('.owl-pagn-ed').text(setNum(e.item.count));
  }

  function updatePagn(e, _plugin) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;

    if (isNaN(activeIndex)) return;

    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
  }

  function destroyCarousel(_plugin) {
    if (!_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    _plugin.$carousel.owlCarousel('destroy');
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  function sequenceControl(_plugin, option, changeFocus) {
    switch (option.toUpperCase()) {
      case 'PLAY':
        _this.$carousel.trigger('play.owl.autoplay');
        _this.$el.find('.md_play').removeClass('on');
        break;

      case 'STOP':
        _this.$carousel.trigger('stop.owl.autoplay');
        _this.$el.find('.md_play').addClass('on');
        break;
      // default:
      //   break;
    }
  }

  function setAriaHidden(e, _plugin) {
    var currentIdx = e.item.index;
    var activeItem = $(e.target).find('.owl-item').eq(currentIdx);
    switch (deviceType) {
      case 'PC_LARGE':
      // break;
      case 'PC_MEDIUM':
      // break;
      case 'PC_SMALL':
        setTimeout(() => {
          _this.$carousel
            .find('.owl-item')
            .attr({ 'aria-hidden': true })
            .find('a, button')
            .attr({ 'aria-hidden': true, tabindex: -1 });

          _this.$carousel
            .find('.owl-item.active')
            .removeAttr('aria-hidden')
            .find('a, button')
            .removeAttr('aria-hidden tabindex');
        }, 5);
        break;
      case 'TABLET':
      case 'MOBILE':
        setTimeout(() => {
          _this.$carousel
            .find('.owl-item')
            .attr({ 'aria-hidden': true })
            .find('a, button')
            .attr({ 'aria-hidden': true, tabindex: -1 });

          activeItem
            .removeAttr('aria-hidden')
            .find('a, button')
            .removeAttr('aria-hidden tabindex');
        }, 5);
        break;
      default:
    }
  }
  this.init();
}
fo.addPlugin(M47_A);

/** M47_B */
function M47_B(el) {
  _proto = M47_B.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$carousel = this.$el.find('.owl-carousel');
  this.$carouselItem = this.$el.find('.owl-carousel .item');
  this.$pagn = this.$el.find('.owl-pagn');

  var _this = this; // M47_B
  var deviceType; // "PC_LARGE", "PC_MEDIUM", "PC_SMALL", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: M47_B")
    // Device type check
    deviceType = checkDeviceType();
    this.$el.find('.M47_A_cont').addClass('m' + this.$carouselItem.length);
    if (this.$carouselItem.length < 2) return;

    updateCarousel(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarousel(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$carouselItem.on('focusin', function (e) {
      if ($(e.target).is(':hover')) {
        return;
      }
      var currentIndex = _this.$carouselItem.index(e.delegateTarget);
      _this.$carousel.trigger('to.owl.carousel', currentIndex);
      _this.$carousel.children().scrollLeft() != 0 &&
        _this.$carousel.children().scrollLeft(0);
      _this.$el.scrollLeft() != 0 && _this.$el.scrollLeft(0);
    });

    _this.$el.on('keyup', function (e) {
      e.stopPropagation();
      if (!_this.$carousel.data('owl.carousel')) {
        return;
      }

      if (e.keyCode == 37) {
        _this.$carousel.trigger('prev.owl.carousel');
      } else if (e.keyCode == 39) {
        _this.$carousel.trigger('next.owl.carousel');
      }
    });

    /* 210510 | 접근성 | 모바일 활성화 Nav */
    _this.$el.find('.owl-navm button').on('click', function (e) {
      e.stopPropagation();
      if ($(this).hasClass('owl-prevm')) {
        _this.$carousel.trigger('prev.owl.carousel');
        _this.$carousel.find('.owl-item.active').get(0).focus();
      } else if ($(this).hasClass('owl-nextm')) {
        _this.$carousel.trigger('next.owl.carousel');
        _this.$carousel.find('.owl-item.active').get(0).focus();
      }
    });
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1504) {
      return 'PC_LARGE';
    } else if (window.innerWidth > 1168) {
      return 'PC_MEDIUM';
    } else if (window.innerWidth > 1023) {
      return 'PC_SMALL';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setCarousel(_plugin) {
    if (_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    _plugin.$carousel.owlCarousel({
      stageElement: 'ul',
      itemElement: 'li',
      autoWidth: true,
      loop: true,
      nav: true,
      navText: [
        '<em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em>',
        '<em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em>',
      ],
      dots: false,
      items: 5,
      singleItem: true,
      responsive: {
        0: {
          margin: 16,
        },
        500: {
          margin: 16,
        },
        1023: {
          margin: 20,
        },
      },
      onInitialized: function (e) {
        initPagn(e, _plugin);
        setCarouselAria(_plugin);

        _plugin.$carousel.addClass('act');
      },
      onRefreshed: function (e) {
        // FIREFOX
        initPagn(e, _plugin);
        setCarouselAria(_plugin);

        _plugin.$carousel.addClass('act');
      },
      onChanged: function (e) {
        updatePagn(e, _plugin);
        setInterval(function () {
          _plugin.$el.scrollLeft(0);
        }, 100);

        _plugin.$carousel.removeClass('act');
        setAriaHidden(e, _plugin); /* 210510 | 접근성 | 모바일 활성화 Nav */
      },
      onResized: function (e) {
        _plugin.$carousel.removeClass('act');
      },
    });
  }

  function updateCarousel(_plugin) {
    switch (deviceType) {
      case 'PC_LARGE':
        _plugin.$carouselItem.length < 5
          ? destroyCarousel(_plugin) // 1,2,3,4
          : setCarousel(_plugin); // 5,6,7...
        break;
      case 'PC_MEDIUM':
        _plugin.$carouselItem.length < 4
          ? destroyCarousel(_plugin) // 1,2,3
          : setCarousel(_plugin); // 4,5,6,7...
        break;
      case 'PC_SMALL':
        _plugin.$carouselItem.length < 3
          ? destroyCarousel(_plugin) // 1,2
          : setCarousel(_plugin); // 3,4,5,6,7...
        break;
      case 'TABLET':
      case 'MOBILE':
        _plugin.$carouselItem.length < 2
          ? destroyCarousel(_plugin) // 1
          : setCarousel(_plugin); // 2,3,4,5,6,7...
        break;
      // default:
      //     break;
    }
  }

  function setCarouselAria(_plugin) {
    var $clonedItem = _plugin.$carousel.find('.owl-item.cloned');
    $clonedItem.attr('aria-hidden', true);
    $clonedItem.find('a, button').attr('tabindex', -1);
  }

  function initPagn(e, _plugin) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;
    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
    _plugin.$pagn.find('.owl-pagn-ed').text(setNum(e.item.count));
  }

  function updatePagn(e, _plugin) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;
    if (isNaN(activeIndex)) return;
    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
  }

  function destroyCarousel(_plugin) {
    if (!_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    _plugin.$carousel.owlCarousel('destroy');
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  function setAriaHidden(e, _plugin) {
    var currentIdx = e.item.index;
    var activeItem = $(e.target).find('.owl-item').eq(currentIdx);
    $(e.target).find('.owl-item').attr('aria-hidden', true); //.attr("tabindex", -1) 220413 | 접근성
    activeItem.attr('aria-hidden', false); //.attr("tabindex", 0) 220413 | 접근성
  }
  this.init();
}
fo.addPlugin(M47_B);

/*** M48_A | Hero ***/
// 20240826 test작업으로 만든 소스 실제로 사용 안함 : M48_B 사용중

/*** M48_B | Hero ***/
function M48_B(el) {
  _proto = M48_B.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$mainContent2_slider = this.$el.find('.main-content2');
  /* 202304-01 웹접근 추가 */
  this.$sliderItem = this.$mainContent2_slider.find('.item');
  this.$keyBoardSection = this.$sliderItem.find('.text-area ul li a');
  this.$mainSearchDropConCloseBtn = this.$mainContent2_slider.find(
    '.src_closeBtn #service_close_title',
  );
  this.$main_search_cont = this.$sliderItem.find(
    '.mainSection2-search_container',
  );
  this.$main_search_linkBox = this.$main_search_cont.find(
    '.container .link_box',
  );
  this.$main_search_linkBoxBtn = this.$main_search_linkBox.find('.links a');
  this.$main_search_form = this.$main_search_cont.find('form.srcNew');
  this.$main_search_inputArea = this.$main_search_form.find('.main_sch_box');
  /* //202304-01 웹접근 추가 */
  var _this = this;
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var main_section = [];

  main_section[0] = $('.M01_G');
  main_section[1] = $('.M48_B');
  // main_section[2] = $(".M06_E").length > 0 ? $(".M06_E") : $(".M06_E2"); //M06_E2 임시 작업
  main_section[2] = $('.M07_D'); //20231201 M06_E 모듈 삭제
  var wheelHandler = true;

  _proto.init = function () {
    // console.log("init:: M48_B");
    // Device type check
    deviceType = checkDeviceType();

    /* scrollStop event */
    (function (factory) {
      if (typeof define === 'function' && define.amd) {
        // AMD. Register as an anonymous module.
        define(['jquery'], factory);
      } else if (typeof exports === 'object') {
        // Node/CommonJS
        module.exports = factory(require('jquery'));
      } else {
        // Browser globals
        factory(jQuery);
      }
    })(function ($) {
      var dispatch = $.event.dispatch || $.event.handle;

      var special = $.event.special,
        uid1 = 'D' + +new Date(),
        uid2 = 'D' + (+new Date() + 1);

      special.scrollstart = {
        setup: function (data) {
          var _data = $.extend(
            {
              latency: special.scrollstop.latency,
            },
            data,
          );
          var timer,
            handler = function (evt) {
              var _self = this,
                _args = arguments;

              if (timer) {
                clearTimeout(timer);
              } else {
                evt.type = 'scrollstart';
                dispatch.apply(_self, _args);
              }
              timer = setTimeout(function () {
                timer = null;
              }, _data.latency);
            };
          $(this).bind('scroll', handler).data(uid1, handler);
        },
        teardown: function () {
          $(this).unbind('scroll', $(this).data(uid1));
        },
      };

      special.scrollstop = {
        latency: 250,
        setup: function (data) {
          var _data = $.extend(
            {
              latency: special.scrollstop.latency,
            },
            data,
          );
          var timer,
            handler = function (evt) {
              var _self = this,
                _args = arguments;

              if (timer) {
                clearTimeout(timer);
              }
              timer = setTimeout(function () {
                timer = null;
                evt.type = 'scrollstop';
                dispatch.apply(_self, _args);
              }, _data.latency);
            };
          $(this).bind('scroll', handler).data(uid2, handler);
        },
        teardown: function () {
          $(this).unbind('scroll', $(this).data(uid2));
        },
      };
    });

    //슬릭
    updateSlick(_this);

    //실시간 반응형
    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateSlick(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });

    //202304-01 웹접근 : 메인 검색 컨테츠 > Quick Links 버튼 키보드 접근
    _this.$main_search_linkBoxBtn.first().on('keyup', function () {
      _this.$main_search_inputArea.removeClass('on');
      _this.$mainContent2_slider.removeClass('dotZindex');
    });

    /* scrollTop으로 섹션 index값 구함 */
    var getSectionPosNumber = function (scrollTop) {
      var arr = [];
      $.each(main_section, function () {
        arr.push($(this).offset().top);
      });
      var rSort = arr.reverse();
      var cnt = arr.length;
      $.each(rSort, function (i, v) {
        cnt = cnt - 1;
        if (!(v > scrollTop)) {
          return false;
        }
      });
      return cnt;
    };

    var delayTimer;
    $(document).bind(
      'keyup scrollstop mouseup load ready resize',
      function (e) {
        /* 모바일에선 리턴 */
        if (checkDeviceType() === 'MOBILE') {
          return true;
        }

        /* 새로고침 첫번째 section 시작 */
        // if (e.type === "ready") {
        //     $("html,body").scrollTop(0);
        // }

        /* scrollStop 이벤트 발생시 scrollTop이 0일 경우 리턴 */
        if (e.type === 'scrollstop') {
          if ($('html,body').scrollTop() !== 0) {
            return false;
          }
        }

        /* 섹션 카운트값을 scrollTop 영역에 맞게 정의 */
        delayTimer = setTimeout(function () {
          delayTimer = null;
          sectionCnt = getSectionPosNumber($('html,body').scrollTop());
          var lastSlide_item = _this.$sliderItem.length - 1;

          /* 섹션 카운트가 첫번째와 마지막일 경우 두번째 슬릭슬라이드 영역 위치를 잡아줌 */
          if (sectionCnt === 0) {
            //휠 섹션 이벤트 : 첫번째 섹션으로 스크롤 위치 했을때
            $('.main-content2').slick('slickGoTo', sectionCnt, true);
          } else if (sectionCnt === 2) {
            //휠 섹션 이벤트 : 마지막 센션으로 스크롤 위치 했을때
            $('.main-content2').slick('slickGoTo', lastSlide_item, true);
            prevCnt = 2;
          }
        }, 500);
      },
    );

    /** 202304-01 웹접근 추가 : 키보드 접근 */
    //메인 페이지(모듈M01_G) 있을시에만
    if ($('.M01_G').length == 1) {
      $('.pausePlayBtn button').on('keydown blur', function (e) {
        if (e.shiftKey && e.keyCode === 9) {
          $(':focus').blur(); //빽탭키 이용시 포커스 날림
          return false;
        } else if (e.keyCode === 9) {
          _this.$keyBoardSection.eq(0).focus();
          scrollPage(main_section[1].offset().top);
          return false;
        }
      });
    }
    //202304-01 웹접근 : 메인 검색 컨테츠 > 검색 drop컨텐츠 닫기 버튼
    _this.$mainSearchDropConCloseBtn.on('click', function () {
      _this.$mainContent2_slider.removeClass('dotZindex');
    });
    /** //202304-01 웹접근 추가 : 키보드 접근 */
  };

  //slick slider 반응형 조건
  function updateSlick(_plugin) {
    switch (deviceType) {
      case 'PC':
        $(window).load(function () {
          $('html, body').animate({
            scrollTop: $('html,body').scrollTop(),
          });
        });
        bindSlick(_plugin);
        onepageScroll(_plugin);
        break;
      case 'MOBILE':
        unbindSlick(_plugin);
        break;
      // default:
      //     break;
    }
  }

  // 슬라이드 셋팅
  function unbindSlick(_plugin) {
    _plugin.$mainContent2_slider.filter('.slick-initialized').slick('unslick');
  }

  function bindSlick(_plugin) {
    _plugin.$mainContent2_slider.on('init', function (e, slick) {
      setSelected(slick.currentSlide);

      /** 202304-01 웹접근 추가 : 키보드 접근 */
      //시작될때 처음 슬라이드 외에 모든 컨텐츠 버튼에 초점이 안가게,리더기가 안읽히게
      var $currentSlide_sibling = slick.$slides.eq(0).siblings();
      var $currentSlide_OBJ = $currentSlide_sibling.find('a, button, input');
      $currentSlide_sibling.attr({ tabindex: '-1', 'aria-hidden': true });
      $currentSlide_OBJ.attr({ tabindex: '-1', 'aria-hidden': true });

      //슬라이드 dots 키보드 접근
      $(slick.$dots)
        .find('li')
        .each(function (i) {
          var currentDots_slide = slick.$slides.eq(i);
          var currentDots_slide_OBJ = currentDots_slide.find(
            '.text-area ul li a, input.mainSection2_search',
          );
          var slide_first_obj =
            currentDots_slide_OBJ && currentDots_slide_OBJ.first();

          $(this).on('keyup', function (key) {
            if (key.keyCode == 13) {
              slide_first_obj.focus();
              if (slide_first_obj.is('input.mainSection2_search') === true) {
                currentDots_slide
                  .find('form .main_sch_box .mainInPut .mainSection2_search')
                  .trigger('click');
              }
            }
          });

          slide_first_obj.on('keydown blur', function (e) {
            if (e.shiftKey && e.keyCode === 9) {
              scrollPage(main_section[0].offset().top);
            }
          });
        });
      /** //202304-01 웹접근 추가 : 키보드 접근 */

      if (slick.$slides.eq(0)) {
        slickWheelFistFlag = true;
      } else {
        slickWheelFistFlag = false;
      }
    });

    _plugin.$mainContent2_slider.not('.slick-initialized').slick({
      accessibility: false, //202304-01 웹접근 추가
      infinite: false,
      draggable: false, //202304-01 웹접근 추가
      arrows: false,
      dots: true,
      dotsClass: 'custom_paging dot_left',
      customPaging: function (slider, i) {
        return '<a href="#">' + ('0' + (i + 1)) + '</a>';
      },
      fade: true,
      speed: 1000,
      cssEase: 'ease-in-out',
    });

    _plugin.$mainContent2_slider.on(
      'afterChange',
      function (e, slick, currentSlide, nextSlide) {
        //마지막 슬라이드에 접근시 slickWheelLastFlag = true
        if (currentSlide === slick.$slides.length - 1) {
          slickWheelLastFlag = true;
        } else {
          slickWheelLastFlag = false;
        }

        if (currentSlide === 0) {
          slickWheelFistFlag = true;
        } else {
          slickWheelFistFlag = false;
        }
        setSelected(slick.currentSlide);
      },
    );

    _plugin.$mainContent2_slider.on(
      'beforeChange',
      function (e, slick, currentSlide, nextSlide) {
        var currentSlideView = $(slick.$slides.get(nextSlide)); //currentSlide
        /** 202304-01 웹접근 추가 : 키보드 접근 */
        //슬라이드 바뀔때마다 스크린리더, 초점 접근 막기
        var $currentSlide_sibling = currentSlideView;
        var $currentSlide_OBJ = $currentSlide_sibling.find(
          'a, button, input.mainSection2_search',
        );

        $currentSlide_sibling
          .attr({ tabindex: '', 'aria-hidden': false })
          .siblings()
          .attr({ tabindex: '-1', 'aria-hidden': true });
        $currentSlide_OBJ.attr({ tabindex: '', 'aria-hidden': false });
        $currentSlide_sibling
          .siblings()
          .find('a, button, input.mainSection2_search')
          .attr({ tabindex: '-1', 'aria-hidden': true });
        /** //202304-01 웹접근 추가 : 키보드 접근 */

        /* 메인 section2 dots 효과 */
        if (nextSlide == 1) {
          $('.custom_paging').removeClass('dot_left');
        } else {
          $('.custom_paging').addClass('dot_left');
        }

        // 메인 검색slide(마지막 슬라이드)
        if (currentSlideView.is('.search-slide')) {
          $('.custom_paging').addClass('dot_center');
        } else {
          $('.custom_paging').removeClass('dot_center');
        }
      },
    );

    function setSelected(currentSlide) {
      const data = {
        carousel: _this.$mainContent2_slider,
        items: _this.$el.find('.custom_paging li a'),
        activeIdx: currentSlide,
        element: {
          wrap: _this.$el.find('.custom_paging'),
        },
      };
      slide.setSelectedPagn(_this, data);
    }
  }

  //원페이지 스크롤
  var sectionCnt,
    prevCnt = 0;
  var slickWheelLastFlag = false; //slick slide down휠 반응 체크
  var slickWheelFistFlag = false; //slick slide up휠 반응 체크
  var isPageLoaded = false;
  window.onload = function () {
    isPageLoaded = true; // 페이지 로드 완료
  };

  function onepageScroll(_plugin) {
    var el = $('html,body,#wrap,#container');

    el.bind('wheel mousewheel DOMMouseScroll', function (e) {
      if (!isPageLoaded) {
        return; // 페이지 로딩 중이면 휠 이벤트 무시
      }

      if ($(e.target).closest('.gnb').length > 0) {
        // .gnb 내에서는 기본 휠 동작 유지 (onepageScroll 처리 안함 - 250610)
        return true;
      }
      if (checkDeviceType() === 'MOBILE') {
        return true;
      }
      var slickEl = $(_plugin.$mainContent2_slider);
      var getSlickObj = slickEl.get(0).slick;
      var slickCurrentIndex = getSlickObj.slickCurrentSlide() + 1;
      var slickTotalCnt = getSlickObj.slideCount;

      if (!wheelHandler || $('body').hasClass('hid_s')) {
        e.preventDefault();
        return false;
      }

      //감소 : one page scroll up
      if (e.originalEvent.wheelDelta > 0 || e.originalEvent.detail < 0) {
        /* 링크 이동후 뒤로가기 및 새로고침시 section2에서 시작하는 경우 업조건 */
        if (sectionCnt === 0 && prevCnt === 0) {
          scrollPage(main_section[sectionCnt].offset().top);
        }
        if (sectionCnt === 2) {
          if (
            $('html,body').scrollTop() <= main_section[sectionCnt].offset().top
          ) {
            sectionCnt -= 1;
          }
        } else if (sectionCnt === 1) {
          if (slickCurrentIndex != 1) {
            slickEl.slick('slickPrev');
            return false;
          } else {
            if (!slickWheelFistFlag) return false;
          }
          sectionCnt -= 1;
        } else if (sectionCnt !== 0) {
          sectionCnt -= 1;
        }
      }

      //증감 : one page scroll down
      else {
        switch (sectionCnt) {
          case 0:
            break;
          case 1:
            if (slickCurrentIndex != slickEl.get(0).slick.$slides.length) {
              slickEl.slick('slickNext');
              return false;
            } else {
              if (!slickWheelLastFlag) return false;
            }
            break;
          case 2:
            break;
        }
        if (sectionCnt !== 2) {
          sectionCnt += 1;
        }
      }

      //업다운 다운 조건
      if (sectionCnt !== prevCnt) {
        scrollPage(main_section[sectionCnt].offset().top);
      }
      prevCnt = sectionCnt;
      return;
    });
  }
  //스크롤 애니메이션
  function scrollPage(nextHeight, page) {
    wheelHandler = false;
    currentLocation = page;
    if (!main_section || !main_section[sectionCnt]) {
      return;
    }
    $('html,body')
      .stop()
      .animate(
        {
          scrollTop: nextHeight,
        },
        {
          duration: 700,
          complete: function () {
            wheelHandler = true;
          },
        },
      );
  }

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1200) {
      return 'PC';
    } else {
      return 'MOBILE';
    }
  }

  this.init();
}
fo.addPlugin(M48_B);

/** M49_A |  **/
function M49_A(el) {
  _proto = M49_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$carousel = this.$el.find('.list');
  this.$carouselItem = this.$carousel.find('.li');
  this.$carousel_ItemTxt = this.$carouselItem.find('.txt');
  this.$pagn = this.$el.find('.carousel-pagn');
  this.$nav = this.$el.find('.carousel-nav');

  var _this = this;
  var lang = $('html').attr('lang') || 'en';
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;

  var mhTarget = ['.md_tit'];

  _proto.init = function () {
    //console.log("init:: M49_A")
    // Device type check
    deviceType = checkDeviceType();

    updateCarousel(this);

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarousel(_this);
        updateMhItem(_this);
      }
    }, 200);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Event
  _proto.addEvent = function () {
    _this.$carouselItem.on({
      'mouseenter focusin': function () {
        $(this).closest('.li').addClass('on');
      },
      'mouseleave focusout': function () {
        _this.$carouselItem.removeClass('on');
      },
    });

    _this.$el.find('.carousel-nav button').on('click', function (e) {
      e.stopPropagation();

      if ($(this).hasClass('carousel-prev')) {
        _this.$carousel.trigger('prev.owl.carousel');
        _this.$carousel.find('.owl-item.active a').focus();
      } else if ($(this).hasClass('carousel-next')) {
        _this.$carousel.trigger('next.owl.carousel');
        _this.$carousel.find('.owl-item.active a').focus();
      }
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setCarousel(_plugin) {
    _plugin.$carousel.owlCarousel({
      autoWidth: false,
      loop: true,
      nav: false,
      dots: false,
      items: 1,
      smartSpeed: 500,
      responsive: {
        0: {
          margin: 16,
        },
        1191: {
          margin: 4,
        },
      },
      onInitialized: function (e) {
        initPagn(e, _plugin);
        setCarouselAria(_plugin);
        setAriaHidden(e, _plugin);
      },
      onRefreshed: function (e) {
        // FIREFOX
        initPagn(e, _plugin);
        setCarouselAria(_plugin);
      },
      onChanged: function (e) {
        updatePagn(e, _plugin);
        /*
                    202304-01 웹접근 추가 :
                    첫번째 슬라이드때 이전버튼 클릭시 cloned 슬라이드로 가면서
                    cloned 슬라이드의 고정된 tabindex, aria-hidden 값을 수정

                    mobile: pc 하고 분리가 되어 있다.
                */
        setAriaHidden(e, _plugin);
        var currentNum = e.relatedTarget.current(),
          currentSlide = e.relatedTarget.$element
            .find('.owl-stage')
            .find('.owl-item')
            .eq(currentNum),
          currentSlideAllBtnOBJ = currentSlide.find('button, a');

        currentSlideAllBtnOBJ.attr({ 'aria-hidden': 'false', tabindex: '0' });
        currentSlide
          .siblings()
          .find('button, a')
          .attr({ 'aria-hidden': 'true', tabindex: '-1' });
      },
    });
  }

  function updateCarousel(_plugin) {
    switch (deviceType) {
      case 'PC':
        destroyCarousel(_plugin);
        break;
      case 'TABLET':
      case 'MOBILE':
        setCarousel(_plugin);
        break;
      // default:
      //     break;
    }
  }

  function destroyCarousel(_plugin) {
    _plugin.$carousel.owlCarousel('destroy');
  }

  function initPagn(e, _plugin) {
    var activeIndex = 1;
    var barWidth = (100 / e.item.count) * activeIndex;
    var ariaTxt = setNum(activeIndex) + ' of ' + setNum(e.item.count);

    _plugin.$pagn.find('.carousel-pagn-st').text(setNum(activeIndex));
    _plugin.$pagn.find('.carousel-pagn-ed').text(setNum(e.item.count));

    _plugin.$pagn.find('.carousel-pagn-bar p').css('width', barWidth + '%');
  }

  function updatePagn(e, _plugin) {
    if (!_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;
    _plugin.$pagn.find('.carousel-pagn-st').text(setNum(activeIndex));
    _plugin.$pagn.find('.carousel-pagn-bar p').css('width', barWidth + '%');
  }

  function setCarouselAria(_plugin) {
    var $clonedItem = _plugin.$carousel.find('.owl-item.cloned');
    $clonedItem.attr('aria-hidden', true);
    $clonedItem.find('a, button').attr('tabindex', -1);
  }

  function setAriaHidden(e, _plugin) {
    var currentIdx = e.item.index;
    var activeItem = $(e.target).find('.owl-item').eq(currentIdx);
    $(e.target)
      .find('.owl-item')
      .attr('aria-hidden', true)
      .attr('tabindex', -1);
    activeItem.attr('aria-hidden', false).attr('tabindex', '');
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  /** 주변 아이템 텍스트 높이 동일하게 */
  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$carousel_ItemTxt.find(target);
    });
  }
  // Update Match Height Item
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };
    for (idx = 0; idx < len; idx++) {
      _plugin.mhItems[idx].matchHeight(opt.init);
    }
  }
  /** //주변 아이템 텍스트 높이 동일하게 */

  this.init();
}
fo.addPlugin(M49_A);

/** MP_all_offerings **/
$(function () {
  if (!$('.MP_all_offerings').length) return;
  var $allOffering = $('.MP_all_offerings');
  var $allOfferingList = $allOffering.find('.MP_all_offerings_cont .list');
  var $indicator = $('.page_indicator02');
  var $indicatorList = $indicator.find('.list');
  page_init();
  $(window).resize(function () {
    if ($(window).innerWidth() < 1024) return;
    pageIndOffset();
    scrollEvent02();
  });

  $(window).scroll(function () {
    if ($(window).innerWidth() < 1024) return;
    pageIndActive();
    scrollEvent02();
  });

  function pageIndActive() {
    var scrollTop = $(window).scrollTop();
    var $allLink = $indicatorList.find('a');
    $($allOfferingList.get().reverse()).each(function (index, node) {
      var $node = $(this);
      var offsetTop = parseInt($node.offset().top) - 170;
      if (scrollTop >= offsetTop) {
        var currentPageIndex = $node.attr('data-section');
        $allLink.removeClass('on');
        if (currentPageIndex == '' || currentPageIndex == undefined) {
          // $allLink.removeClass('on');
        } else {
          $allLink.eq(currentPageIndex).addClass('on');
        }
        return false;
      }
    });
  }

  function pageIndOffset() {
    pageIndActive();
  }

  function page_init() {
    pageIndMake();
    pageIndEvent();
    pageIndOffset();
  }

  function pageIndMake() {
    var key = 0;
    $allOfferingList.each(function () {
      var $this = $(this);
      if ($this.attr('data-tit') == '' || $this.attr('data-tit') == undefined) {
        $this.removeClass('ind_chk02');
        return;
      }
      $this.addClass('ind_chk02').attr('data-section', key).attr('tabindex', 0);
      $indicatorList.append("<a href='#'>" + $this.attr('data-tit') + '</a>');
      key++;
    });
  }

  function pageIndEvent() {
    $indicatorList.find('a').click(function (e) {
      e.preventDefault();
      var s = $(this).index();
      var t = $allOfferingList.filter('[data-section=' + s + ']');
      $('html, body')
        .stop()
        .animate(
          {
            scrollTop: $(t).offset().top - 100,
          },
          800,
          function () {
            $(t).get(0).focus({ preventScroll: true });
          },
        );
    });
  }

  function scrollEvent02() {
    var scrollEnd =
      $(document).height() - $(window).height() - $('footer').innerHeight();
    if ($(window).scrollTop() >= scrollEnd) {
      $indicator.removeClass('on');
    } else if ($(window).scrollTop() <= 200) {
      $indicator.removeClass('on');
    } else {
      $indicator.addClass('on');
    }
  }
});

/** Page | Cube */
function MP_cube(el) {
  _proto = MP_cube.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$visual = this.$el.find('.visual_img img').parent();
  this.$tabArea = {
    $wrap: this.$el.find('.cube_tab'),
    $inner: this.$el.find('.cube_tab .tab_inner'),
    $li: this.$el.find('.cube_tab .tab_inner li'),
    $btn: this.$el.find('.cube_tab .tab_inner li a'),
  };
  this.$hoverBtn = this.$el.find('.diagram_wrap .md_btn');
  this.$hoverImg = this.$el.find('.link_list a');
  this.$tabPanel = this.$el.find('.art');
  this.key = Math.floor(this.$el.offset().top);

  var _this = this;
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var tabHeight = _this.$tabArea.$wrap.height();
  var $hd = $('.M00_A');
  var $hdHeight = $hd.find('> .inner').height();

  _proto.init = function () {
    //console.log("init:: MP_cube")

    deviceType = checkDeviceType();

    setAriaAttr(this);
    tabScroll(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        tabScroll(_this);
      }
    }, 200);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    //btnClick evnet
    //fixed move버튼
    _this.$tabArea.$btn.on('click', function () {
      var thisIdx = $(this).closest('li').index();
      var thisPanel = _this.$tabPanel.eq(thisIdx);
      var thisPanelTop = parseInt(thisPanel.offset().top);

      //202304-01 웹접근 추가
      var thisPanFindOBJ = thisPanel.find('a'),
        thisPanFirstBTN = thisPanFindOBJ && thisPanFindOBJ.first();
      thisPanLastBTN = thisPanFindOBJ && thisPanFindOBJ.last();

      _this.$tabArea.$li.removeClass('active');
      _this.$tabArea.$li.eq(thisIdx).addClass('active');

      $('html, body')
        .stop()
        .animate(
          {
            scrollTop: thisPanelTop - ($hdHeight + tabHeight + 100),
          },
          500,
          function () {
            thisPanel.get(0).focus({ preventScroll: true });
          },
        );

      //202304-01 웹접근 추가
      if (thisPanFindOBJ.length > 0) {
        thisPanFirstBTN.focus();
      }
      // thisPanFindOBJ.length > 0 ? thisPanFirstBTN.focus() : _this.$tabArea.$li.eq(thisIdx).find('a').focus();

      //202304-01 웹접근 추가
      //마지막 fiexd 버튼 클릭후 탭 이동시 마지막 컨텐츠로 이동
      _this.$tabArea.$li
        .last()
        .find('a')
        .on('keydown blur', function (e) {
          if (e.shiftKey && e.keyCode === 9) {
            // return false;
          } else if (e.keyCode === 9) {
            var lastCube = $('.MP_cube_last'),
              lastCubeBtn = lastCube.find('.md_btn a');
            lastCubeBtn.focus();
            return false;
          }
        });
    });

    //국문에서 이벤트 추가 hover_cube있을때만
    if (_this.$el.find('.hover_cube').length) {
      _this.$hoverBtn.find('a').on({
        'mouseenter focusin': function (e) {
          var _thisId = $(this).attr('data-id');
          var _thisBtn = $('.link_list').find('#' + _thisId);
          var _thisImg = $(this).parents('.diagram').find('.hover_cube');
          setMouseenter(_this, _thisBtn, _thisImg);
        },
        'mouseleave focusout': function (e) {
          setMouseleave(_this);
        },
      });

      _this.$hoverImg.on({
        'mouseenter focusin': function (e) {
          var _thisId = $(this).attr('id');
          var _thisBtn = $('.diagram').find('.md_btn.' + _thisId);
          var _thisImg = $(this).find('.hover_cube');
          setMouseenter(_this, _thisBtn, _thisImg);
        },
        'mouseleave focusout': function (e) {
          setMouseleave(_this);
        },
      });
    }

    // Window resize
    $(window).on('resize', function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
      }
    });

    $(window).on('scroll resize', function (event) {
      tabScroll(_this);
      updateScroll(_this);
      animateInViewElements(_this);
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function tabScroll(_plugin) {
    var headerHeight = $hd.height() - -1 * parseInt($hd.css('top'));
    var thisTop = parseInt(_plugin.$el.offset().top);
    var cubeHeight = parseInt(_plugin.$el.height());

    if ($(window).scrollTop() >= thisTop - headerHeight) {
      if (thisTop + cubeHeight <= $(window).scrollTop()) {
        $('.tab_empty_box').remove();
        _plugin.$tabArea.$wrap.removeClass('fixed').hide();
      } else {
        if ($('.tab_empty_box').length == 0) {
          _plugin.$tabArea.$wrap.before('<div class="tab_empty_box"></div>');
          $('.tab_empty_box').height(_plugin.$tabArea.$wrap.height());
        }
        _plugin.$tabArea.$wrap.addClass('fixed').show();
      }
    } else {
      $('.tab_empty_box').remove();
      _plugin.$tabArea.$wrap.removeClass('fixed');
    }
  }

  // update scroll
  function updateScroll(_plugin) {
    var headerHeight = $hd.height() - -1 * parseInt($hd.css('top'));

    if ($(window).scrollTop() <= _plugin.$el.offset().top) {
      _plugin.$tabArea.$li.removeClass('active').eq(0).addClass('active');
      _plugin.$tabArea.$wrap.css('top', '0');
    }

    $(_plugin.$tabPanel.get().reverse()).each(function (index, node) {
      var $node = $(this);
      var nodeIdx = $node.index();
      var offsetTop =
        parseInt($node.offset().top) - ($hd.height() + tabHeight) - 100;

      if (_plugin.$tabArea.$wrap.hasClass('fixed')) {
        if ($(window).scrollTop() >= offsetTop) {
          _plugin.$tabArea.$li
            .removeClass('active')
            .eq(nodeIdx)
            .addClass('active');
          _plugin.$tabArea.$wrap.css('top', headerHeight);
          return false;
        }
      }
    });
  }

  // Apply aria properties
  function setAriaAttr(_plugin) {
    _plugin.$tabArea.$inner
      .attr('role', 'tablist') // fixed
      .find('li')
      .attr('role', 'presentation'); // fixed

    _plugin.$tabArea.$li.each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this).attr({
        //"role": "tab", // fixed //202304-01 웹접근 : 삭제
        id: 'tab_btn_' + key, // fixed
        'aria-controls': 'tab_panel_' + key, // fixed
        'aria-selected': false, // changeable
      });
    });

    _plugin.$tabPanel.each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this).attr({
        role: 'region', // fixed
        id: 'tab_panel_' + key, // fixed
        'aria-labelledby': 'tab_btn_' + key, // fixed
      });
    });
  }

  function animateInViewElements(_plugin) {
    var animationElements = $('.ban');
    var animationElements = document.querySelectorAll('.ban');
    var animationElements2 = document.querySelectorAll('.cube_last_wrap .ban');
    var webWindow = $(window);
    var windowHeight = webWindow.height();
    var windowTop = webWindow.scrollTop();
    var windowBottom = windowTop + windowHeight / 2;
    var windowBottom2 = windowTop + windowHeight;
    $.each(animationElements, function () {
      var element = $(this);
      var elementHeight = $(element).outerHeight();
      var elementTop = $(element).offset().top;
      var elementBottom = elementTop + elementHeight;

      if (elementTop <= windowBottom) {
        // elementBottom >= windowTop &&
        if (!element.hasClass('in-view')) {
          element.addClass('in-view');
        }
      } else if (elementTop > windowBottom + elementHeight / 2) {
        element.removeClass('in-view');
      }
    });

    $.each(animationElements2, function () {
      var element = $(this);
      var elementHeight = $(element).outerHeight();
      var elementTop = $(element).offset().top;
      var elementBottom = elementTop + elementHeight;
      if (elementTop <= windowBottom2) {
        //elementBottom >= windowTop &&
        element.addClass('in-view');
      } else {
        element.removeClass('in-view');
      }
    });
  }

  //btn mouse event
  function setMouseleave(_plugin) {
    $('.diagram').find('.md_btn').stop().removeClass('on');
    _plugin.$el.find('.hover_cube').stop().removeClass('on');
  }

  function setMouseenter(_plugin, _thisBtn, _thisImg) {
    _thisBtn.stop().addClass('on');
    _thisImg.stop().addClass('on');
  }

  this.init();
}
fo.addPlugin(MP_cube);

/** MP_cubeS | Structure */
function MP_cubeS(el) {
  _proto = MP_cubeS.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$tabList = this.$el.find('.tab_list');
  this.$tabListBtn = this.$tabList.find('.tab_btn');
  this.$tabPanel = this.$el.find('.tab_panel');
  this.$hoverBtn = this.$el.find('.diagram_wrap .md_btn');
  this.$hoverImg = this.$el.find('.link_list a');
  this.$linkList = this.$el.find('.link_list');
  this.$diagram = this.$el.find('.diagram_wrap');
  this.$diagramLink = this.$diagram.find('.link_btn');
  this.diagramImgSrc = {
    only_p_on: this.$diagram.find('.img_p img.on').attr('src') || null,
    only_p_on2: this.$diagram.find('.img_p img.on2').attr('src') || null,
    only_m_on: this.$diagram.find('.img_m img.on').attr('src') || null,
    only_p_off: this.$diagram.find('.img_p img:not(.on)').attr('src') || null,
    only_m_off: this.$diagram.find('.img_m img:not(.on)').attr('src') || null,
  };
  this.key = Math.floor(this.$el.offset().top);
  this.activeTab = 0;

  var hashUrl = window.location.hash;
  var hashId = hashUrl.split('#')[1];
  var _this = this; // MP_cubeS
  var deviceType; // "PC", "TABLET", "MOBILE"

  _proto.init = function () {
    //console.log("init:: MP_cubeS")

    // Device type check
    deviceType = checkDeviceType();

    // Initial image setting
    setTabImg(this);
    setLinkImg(this);
    updateImgPos(this);
    updateEtcTypeSrc(this);

    changeMoImg(this);

    // Initial tab setting
    setTab(this);
    setAriaAttr(this);
    setOpenTab(this);

    this.$diagram.addClass('init');

    if (this.$el.find('[data-trigger-show]').length) {
      this.$el.find('[data-trigger-show]').each(function () {
        var showTarget = $(this).attr('data-trigger-show');
        _this.$el.find(showTarget).addClass('show');
      });
    }

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    //other page url hash
    _this.$tabListBtn.each(function (index) {
      var $this = $(this);
      var key;
      if ($this.hasClass(hashId)) {
        key = _this.key;
        _this.activeTab = _this.$tabListBtn.index($(this));
        setOpenTab(_this);
        window.scrollTo(top, key);
      }
    });
    // Tab button click
    _this.$tabListBtn.on('click', function (e) {
      e.preventDefault();

      _this.activeTab = _this.$tabListBtn.index($(this));
      setOpenTab(_this);
    });

    _this.$linkList.find('.type_btn').on('mouseenter focusin', function () {
      var parent = $(this).parent();
      var targetClass = parent.attr('id');

      _this.$el.find('.md_btn.' + targetClass).addClass('on');
      parent.addClass('on');
    });

    _this.$linkList.find('.type_btn').on('mouseleave focusout', function () {
      var parent = $(this).parent();
      var targetClass = parent.attr('id');
      _this.$el.find('.md_btn.' + targetClass).removeClass('on');

      $(this).parent().removeClass('on');
    });

    // Window resize
    $(window).on('resize', function () {
      updateImgPos(_this);

      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
      }

      if (deviceType == 'MOBILE') {
        changeMoImg(_this);
      } else {
        changePcImg(_this);
      }
    });

    $(window).on('scroll', function (event) {
      updateImgPos(_this);
    });

    _this.$hoverBtn.on('mouseenter focusin', hoverCubeBtn);
    _this.$hoverBtn.on('mouseleave focusout', hoverCubeBtn);

    _this.$hoverImg.on('mouseenter focusin', hoverCubeImg);
    _this.$hoverImg.on('mouseleave focusout', hoverCubeImg);
  };

  // Initial tab img setting
  function setTabImg(_plugin) {
    if (!_plugin.$tabListBtn.length) return;
    if (!_plugin.diagramImgSrc['only_p_on']) return;

    var html = '';
    html += "<span class='tab_img' aria-hidden='true'>";
    html += "<img src='" + _plugin.diagramImgSrc['only_p_on'] + "' alt='' />";
    html += '</span>';

    html
      ? _plugin.$tabListBtn.after(html)
      : _plugin.$tabListBtn.addClass('outline');
  }

  // Initial link img setting
  function setLinkImg(_plugin) {
    if (!_plugin.$diagramLink.length) return;

    var htmlPC = '';
    if (_plugin.diagramImgSrc['only_p_on']) {
      htmlPC += "<span class='link_img only_p' aria-hidden='true'>";
      htmlPC +=
        "<img src='" + _plugin.diagramImgSrc['only_p_on'] + "' alt='' />";
      htmlPC += '</span>';
    }

    htmlPC
      ? _plugin.$diagramLink.filter('.only_p').after(htmlPC)
      : _plugin.$diagramLink.filter('.only_p').addClass('outline');
  }

  function getPosition($el) {
    var result = {};

    result.top = $el.position().top;
    result.left = $el.position().left;
    result.bottom = result.top + $el.height();
    result.right = result.left + $el.width();
    result.styleClip =
      'rect(' +
      result.top +
      'px, ' +
      result.right +
      'px, ' +
      result.bottom +
      'px, ' +
      result.left +
      'px)';

    return result;
  }

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  // Initial tab img setting
  function setTabImg(_plugin) {
    if (!_plugin.$tabListBtn.length) return;
    if (!_plugin.diagramImgSrc['only_p_on']) return;

    var html = '';
    html += "<span class='tab_img' aria-hidden='true'>";
    html += "<img src='" + _plugin.diagramImgSrc['only_p_on'] + "' alt='' />";
    html += '</span>';

    html
      ? _plugin.$tabListBtn.after(html)
      : _plugin.$tabListBtn.addClass('outline');
  }

  // Initial link img setting
  function setLinkImg(_plugin) {
    if (!_plugin.$diagramLink.length) return;

    var htmlPC = '';
    if (_plugin.diagramImgSrc['only_p_on']) {
      htmlPC += "<span class='link_img only_p' aria-hidden='true'>";
      htmlPC +=
        "<img src='" + _plugin.diagramImgSrc['only_p_on'] + "' alt='' />";
      htmlPC += '</span>';
    }

    var htmlMobile = '';
    if (_plugin.diagramImgSrc['only_m_on']) {
      htmlMobile += "<span class='link_img only_m' aria-hidden='true'>";
      htmlMobile +=
        "<img src='" + _plugin.diagramImgSrc['only_m_on'] + "' alt='' />";
      htmlMobile += '</span>';
    }

    htmlPC
      ? _plugin.$diagramLink.filter('.only_p').after(htmlPC)
      : _plugin.$diagramLink.filter('.only_p').addClass('outline');
    htmlMobile
      ? _plugin.$diagramLink.filter('.only_m').after(htmlMobile)
      : _plugin.$diagramLink.filter('.only_m').addClass('outline');
  }

  // Update tab/link img position
  function updateImgPos(_plugin) {
    var $img;

    switch (deviceType) {
      case 'PC':
      case 'TABLET':
      case 'MOBILE':
        $img = _plugin.$diagram.find('.tab_img, .link_img:not(.only_m)');
        break;

      //$img = _plugin.$diagram.find(".link_img.only_m");
      //break;
      // default:
      //     break;
    }

    $img.each(function () {
      var $this = $(this);
      var pos = getPosition($this.prev('a, button'));

      $this.css('clip', pos.styleClip);
      if ($this.closest('li').find('.tab_btn').hasClass('ty02')) {
        var src = _plugin.diagramImgSrc['only_p_on2'];
        $this.find('img').attr('src', src);
      }
    });
  }

  // Update tab/link img position
  function updateEtcTypeSrc(_plugin) {
    var $linkListId;

    switch (deviceType) {
      case 'PC':
      case 'TABLET':
      case 'MOBILE':
        $linkListId = _plugin.$linkList.find('a.link_btn');
        //$linkListId = _plugin.$diagram.find(".link_img.only_m");
        break;
      // default:
      //     break;
    }

    $linkListId.each(function () {
      var $this = $(this);
      var $thisId = $(this).attr('id');
      var originSrc = $this.next().children().attr('src');
      var replaceSrc = originSrc.replace('_on.png', '_' + $thisId + '_on.png');
      $this.next().children().attr('src', replaceSrc);
    });
  }

  function getPosition($el) {
    var result = {};

    result.top = $el.position().top;
    result.left = $el.position().left;
    result.bottom = result.top + $el.height();
    result.right = result.left + $el.width();
    result.styleClip =
      'rect(' +
      result.top +
      'px, ' +
      result.right +
      'px, ' +
      result.bottom +
      'px, ' +
      result.left +
      'px)';

    return result;
  }

  // Apply aria properties
  function setAriaAttr(_plugin) {
    _plugin.$tabList
      .attr('role', 'tablist') // fixed
      .find('li')
      .attr('role', 'presentation'); // fixed

    _plugin.$tabListBtn.each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this).attr({
        role: 'tab', // fixed
        id: 'tab_btn_' + key, // fixed
        'aria-controls': 'tab_panel_' + key, // fixed
        'aria-selected': false, // changeable
      });
    });

    _plugin.$tabPanel.each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this).attr({
        role: 'region', // fixed
        id: 'tab_panel_' + key, // fixed
        'aria-labelledby': 'tab_btn_' + key, // fixed
      });
    });
  }

  function changeMoImg(_plugin) {
    var _moImg = _plugin.$diagram.find('.img_m');
    var _pcImg = _plugin.$diagram.find('.img_p');
    var _pcImgOn = _plugin.$diagram.find('.img_p .off');
    var _pcImgOff = _plugin.$diagram.find('.img_p .on');

    var _moImgOn = _plugin.$diagram.find('.img_m .on').attr('src');
    var _moImgOff = _plugin.$diagram.find('.img_m .off').attr('src');
    var $target;

    $target = _plugin.$diagram.find('.img_p');
    if (_moImg.length && deviceType != 'MOBILE') {
      return;
    }
    if (_moImg.length && deviceType == 'MOBILE') {
      $target.each(function () {
        var _imgp = $target.parent().find('.link_img.only_p');
        var _target = $target.parent().find('.link_img.only_p img');
        var _targetLinkImg = $target
          .parent()
          .find('.link_img.only_p img')
          .attr('src');

        _pcImg.find('.off').attr('src', _moImgOff);
        _pcImg.find('.on').attr('src', _moImgOn);
        _target.attr('src', _moImgOn);
        _imgp.removeAttr('style');
      });
    }
  }

  function changePcImg(_plugin) {
    var _moImg = _plugin.$diagram.find('.img_m');
    var _pcImg = _plugin.$diagram.find('.img_p');
    var _pcImgOn = _plugin.$diagram.find('.img_p .off');
    var _pcImgOff = _plugin.$diagram.find('.img_p .on');

    var $target;

    $target = _plugin.$diagram.find('.img_p');

    if (_moImg.length && deviceType != 'MOBILE') {
      $target.each(function () {
        var _imgp = $target.parent().find('.link_img.only_p');
        var _target = $target.parent().find('.link_img.only_p img');
        var _targetLinkImg = $target
          .parent()
          .find('.link_img.only_p img')
          .attr('src');
        var replaceSrc = _targetLinkImg.replace('_m_on.png', '_on.png');

        var changePcOn = _pcImgOn.attr('src').replace('_m_on.png', '_on.png');
        var changePcOff = _pcImgOn.attr('src').replace('_m.png', '.png');

        _pcImg.find('.off').attr('src', changePcOff);
        _pcImg.find('.on').attr('src', changePcOn);
        _target.attr('src', replaceSrc);
      });
    }
  }

  function setTab(_plugin) {
    _plugin.$tabListBtn.each(function (index) {
      if (
        $(this).hasClass('active') &&
        index > 0 &&
        _plugin.$tabList.find('.active').length <= 1
      ) {
        _plugin.activeTab = index;
      }
    });
  }

  function setOpenTab(_plugin) {
    // Exception, if there is no activation tab
    if (_plugin.activeTab >= _plugin.$tabPanel.length) {
      return;
    }

    // Activate tab button
    _plugin.$tabListBtn
      .removeClass('active')
      .attr({
        'aria-selected': false,
      })
      .eq(_plugin.activeTab)
      .addClass('active')
      .attr({
        'aria-selected': true,
      });

    // Activate tab panel
    _plugin.$tabPanel
      .removeClass('active')
      .eq(_plugin.activeTab)
      .addClass('active');
  }

  function hoverCubeImg(_plugin) {
    var _thisId = $(this).attr('id');
    $('.diagram')
      .find('.md_btn.' + _thisId)
      .stop()
      .toggleClass('on');
  }

  function hoverCubeBtn(_plugin) {
    var _thisId = $(this).attr('data-id');
    $('.link_list')
      .find('#' + _thisId)
      .stop()
      .toggleClass('on');
  }

  this.init();
}
fo.addPlugin(MP_cubeS);

/** Page | realSummit */
function MP_realSummit(el) {
  _proto = MP_realSummit.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$tab = {
    key: Math.floor(this.$el.offset().top),
    fixed: this.$el.find('.fixed_tab'),
    ul: this.$el.find('.fixed_tab .tab_inner ul'),
    li: this.$el.find('.fixed_tab .tab_inner li'),
    btn: this.$el.find('.fixed_tab .tab_inner li a'),
    panel: this.$el.find('.art'),
    beforeActive: 99,
    active: null,
    isClick: false,
    isFixed: false,
  };

  let _this = this;
  let $hd = $('.M00_A');
  //20231129 특정 url로 접근시 [브리티 코파일럿]위치로 이동
  let currentUrl = location.href;
  let param_testUrl = currentUrl.indexOf('#brityCopilot');

  _proto.init = function () {
    //console.log("init:: MP_realSummit");
    setTabFixed();
    setTabAttr('init');

    //20231129 특정 url로 접근시 [브리티 코파일럿]위치로 이동
    if (param_testUrl != -1) {
      var offset = $('.section2').offset(); //해당 위치 반환
      $('html, body').animate({ scrollTop: offset.top }, 100);
    }

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$tab.btn.on('click', function () {
      _this.$tab.isClick = true;

      let idx = $(this).parents('li').index();
      let panelT = parseInt(_this.$tab.panel.eq(idx).offset().top);

      let headH = $(document).find('#header').outerHeight(true);
      let headT = Math.abs($hd.position().top);
      let brandColorH =
        $('.brandcolor').is(':hidden') || $('.brandcolor').hasClass('normal')
          ? 0
          : $('.brandcolor').outerHeight(true);
      let tabH = _this.$tab.fixed.outerHeight(true);
      let scrollTop = panelT - tabH - (headH - headT - brandColorH);

      _this.$tab.active = idx;
      _this.$tab.li.removeClass('active').eq(idx).addClass('active');
      _this.$tab.btn
        .attr({ 'aria-selected': false })
        .eq(idx)
        .attr({ 'aria-selected': true });

      $('html, body')
        .stop()
        .animate({ scrollTop: scrollTop }, 500, () => {
          let afterHeadT = Math.abs($hd.position().top);
          scrollTop = scrollTop - (headT - afterHeadT);
          $('html, body')
            .stop()
            .animate({ scrollTop: scrollTop }, 500, () => {
              _this.$tab.isClick = false;
            });
        });
    });

    $(window).on('scroll resize', () => {
      setTabFixed();
      setTabActive();
      animateInViewElements();
    });
  };

  const setTabFixed = function () {
    let tabT = _this.$tab.fixed.offset().top;
    $(window).scrollTop() >= tabT
      ? _this.$tab.fixed.addClass('fixed')
      : _this.$tab.fixed.removeClass('fixed');
  };

  const setTabActive = function () {
    if (_this.$tab.isClick) return;

    let headT = Math.abs($hd.position().top);
    let headH = $hd.outerHeight(true) - headT;
    let tabH = _this.$tab.fixed.outerHeight(true);
    let active = null;

    _this.$tab.panel.each((idx, item) => {
      let offsetTop = parseInt($(item).offset().top) - (headH + tabH);
      if ($(window).scrollTop() >= offsetTop) active = idx;
    });

    _this.$tab.active = active;
    setTabAttr();
  };

  const setTabAttr = function (init) {
    let isFirst = init == 'init' ? true : false; // 처음 setting 시에만 'init' 전달
    let active = _this.$tab.active;

    let beforeActive = _this.$tab.beforeActive;
    if (active == beforeActive) return;
    _this.$tab.beforeActive = _this.$tab.active;

    _this.$tab.li.removeClass('active');
    _this.$tab.btn.attr({ 'aria-selected': false });

    if (typeof active == 'number') {
      _this.$tab.li.eq(active).addClass('active');
      _this.$tab.btn.eq(active).attr({ 'aria-selected': true });
    }

    if (!isFirst) return;

    _this.$tab.ul
      .attr('role', 'tablist')
      .find('li')
      .attr('role', 'presentation');

    _this.$tab.btn.each(function (index) {
      var key = `${_this.$tab.key}_${index}`;
      $(this).attr({
        role: `tab`, // 202304-01 웹접근 : 삭제
        id: `tab_btn_${key}`,
        'aria-controls': `tab_panel_${key}`,
        'aria-selected': index == active ? true : false, // changeable
      });
    });
    _this.$tab.panel.each(function (index) {
      var key = `${_this.$tab.key}_${index}`;
      $(this).attr({
        role: `region`,
        id: `tab_panel_${key}`,
        'aria-labelledby': `tab_btn_${key}`,
      });
    });
  };

  function animateInViewElements(_plugin) {
    let animationElements = $('.ban');
    let winT = $(window).scrollTop();
    let winB = winT + $(window).height() / 2;

    animationElements.each((idx, item) => {
      var element = $(item);
      var elementHeight = $(element).outerHeight(true);
      var elementTop = $(element).offset().top;

      if (elementTop <= winB) {
        if (!element.hasClass('in-view')) element.addClass('in-view');
      } else if (elementTop > winB + elementHeight / 2) {
        element.removeClass('in-view');
      }
    });
  }

  this.init();
}
fo.addPlugin(MP_realSummit);

/** Page | MP_ai */
function MP_ai(el) {
  _proto = MP_ai.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$tab = {
    key: Math.floor(this.$el.offset().top),
    fixed: this.$el.find('.fixed_tab'),
    ul: this.$el.find('.fixed_tab .tab_inner ul'),
    li: this.$el.find('.fixed_tab .tab_inner li'),
    btn: this.$el.find('.fixed_tab .tab_inner li a'),
    panel: this.$el.find('.art'),
    beforeActive: 99,
    active: null,
    isClick: false,
    isFixed: false,
  };

  let _this = this;
  let $hd = $('.M00_A');

  _proto.init = function () {
    //console.log("init:: MP_ai");
    setTabFixed();
    setTabAttr('init');

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$tab.btn.on('click', function () {
      _this.$tab.isClick = true;

      let idx = $(this).parents('li').index();
      let panelT = parseInt(_this.$tab.panel.eq(idx).offset().top);

      let headH = $(document).find('#header').outerHeight(true);
      let headT = Math.abs($hd.position().top);
      let brandColorH =
        $('.brandcolor').is(':hidden') || $('.brandcolor').hasClass('normal')
          ? 0
          : $('.brandcolor').outerHeight(true);
      let tabH = _this.$tab.fixed.outerHeight(true);
      let scrollTop = panelT - tabH - (headH - headT - brandColorH);

      _this.$tab.active = idx;
      _this.$tab.li.removeClass('active').eq(idx).addClass('active');
      _this.$tab.btn
        .attr({ 'aria-selected': false })
        .eq(idx)
        .attr({ 'aria-selected': true });

      $('html, body')
        .stop()
        .animate({ scrollTop: scrollTop }, 500, () => {
          let afterHeadT = Math.abs($hd.position().top);
          scrollTop = scrollTop - (headT - afterHeadT);
          $('html, body')
            .stop()
            .animate({ scrollTop: scrollTop }, 500, () => {
              _this.$tab.isClick = false;
            });
        });
    });

    $(window).on('scroll resize', () => {
      setTabFixed();
      setTabActive();
      animateInViewElements();
    });
  };

  const setTabFixed = function () {
    let tabT = _this.$tab.fixed.offset().top;
    $(window).scrollTop() >= tabT
      ? _this.$tab.fixed.addClass('fixed')
      : _this.$tab.fixed.removeClass('fixed');
  };

  const setTabActive = function () {
    if (_this.$tab.isClick) return;

    let headT = Math.abs($hd.position().top);
    let headH = $hd.outerHeight(true) - headT;
    let tabH = _this.$tab.fixed.outerHeight(true);
    let active = null;

    _this.$tab.panel.each((idx, item) => {
      let offsetTop = parseInt($(item).offset().top) - (headH + tabH);
      if ($(window).scrollTop() >= offsetTop) active = idx;
    });

    _this.$tab.active = active;
    setTabAttr();
  };

  const setTabAttr = function (init) {
    let isFirst = init == 'init' ? true : false; // 처음 setting 시에만 'init' 전달
    let active = _this.$tab.active;

    let beforeActive = _this.$tab.beforeActive;
    if (active == beforeActive) return;
    _this.$tab.beforeActive = _this.$tab.active;

    _this.$tab.li.removeClass('active');
    _this.$tab.btn.attr({ 'aria-selected': false });

    if (typeof active == 'number') {
      _this.$tab.li.eq(active).addClass('active');
      _this.$tab.btn.eq(active).attr({ 'aria-selected': true });
    }

    if (!isFirst) return;

    _this.$tab.ul
      .attr('role', 'tablist')
      .find('li')
      .attr('role', 'presentation');

    _this.$tab.btn.each(function (index) {
      var key = `${_this.$tab.key}_${index}`;
      $(this).attr({
        role: `tab`, // 202304-01 웹접근 : 삭제
        id: `tab_btn_${key}`,
        'aria-controls': `tab_panel_${key}`,
        'aria-selected': index == active ? true : false, // changeable
      });
    });
    _this.$tab.panel.each(function (index) {
      var key = `${_this.$tab.key}_${index}`;
      $(this).attr({
        role: `region`,
        id: `tab_panel_${key}`,
        'aria-labelledby': `tab_btn_${key}`,
      });
    });
  };

  function animateInViewElements() {
    let animationElements = $('.ban');
    let winT = $(window).scrollTop();
    // let winB = winT + ( $(window).height() / 2 );
    let winB = winT + $(window).height();

    animationElements.each((idx, item) => {
      var element = $(item);
      var elementHeight = $(element).outerHeight(true);
      var elementTop = $(element).offset().top;

      if (elementTop <= winB) {
        if (!element.hasClass('in-view')) element.addClass('in-view');
      } else if (elementTop > winB + elementHeight / 2) {
        element.removeClass('in-view');
      }
    });
  }

  this.init();
}
fo.addPlugin(MP_ai);

/** Page | MP_government */
function MP_government(el) {
  _proto = MP_government.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;

  this.$tab = {
    key: Math.floor(this.$el.offset().top),
    fixed: this.$el.find('.fixed_tab'),
    ul: this.$el.find('.fixed_tab .tab_inner ul'),
    li: this.$el.find('.fixed_tab .tab_inner li'),
    btn: this.$el.find('.fixed_tab .tab_inner li a'),
    panel: this.$el.find('.art'),
    beforeActive: 99,
    active: null,
    isClick: false,
    isFixed: false,
  };

  this.$hover_BoxItem = this.$el.find('.item');
  this.$hoverBox_cont = {
    wrap: this.$el.find('.hoverBox .txt_box'),
    tit: this.$el.find('.hoverBox .md_tit'),
    txt: this.$el.find('.hoverBox .md_txt'),
  };
  this.$hoverConBox = this.$el.find('.hover_box');

  let _this = this;
  let $hd = $('.M00_A');

  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;

  _proto.init = function () {
    // console.log("init:: MP_government");

    // Device type check
    deviceType = checkDeviceType();

    setTabFixed();
    setTabAttr('init');

    hoverContHeight(_this); // init

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        hoverContHeight(_this); // 해당 해상도에 도달시 체크
      } else {
        hoverContHeight(_this); // 실시간 해상도 체크
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$tab.btn.on('click', function () {
      _this.$tab.isClick = true;

      let idx = $(this).parents('li').index();
      let panelT = parseInt(_this.$tab.panel.eq(idx).offset().top);

      let headH = $(document).find('#header').outerHeight(true);
      let headT = Math.abs($hd.position().top);
      let brandColorH =
        $('.brandcolor').is(':hidden') || $('.brandcolor').hasClass('normal')
          ? 0
          : $('.brandcolor').outerHeight(true);
      let tabH = _this.$tab.fixed.outerHeight(true);
      let scrollTop = panelT - tabH - (headH - headT - brandColorH);

      _this.$tab.active = idx;
      _this.$tab.li.removeClass('active').eq(idx).addClass('active');
      _this.$tab.btn
        .attr({ 'aria-selected': false })
        .eq(idx)
        .attr({ 'aria-selected': true });

      $('html, body')
        .stop()
        .animate({ scrollTop: scrollTop }, 500, () => {
          let afterHeadT = Math.abs($hd.position().top);
          scrollTop = scrollTop - (headT - afterHeadT);
          $('html, body')
            .stop()
            .animate({ scrollTop: scrollTop }, 500, () => {
              _this.$tab.isClick = false;
            });
        });
    });

    $(window).on('scroll resize', () => {
      setTabFixed();
      setTabActive();
      animateInViewElements();
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else {
      return 'MOBILE';
    }
  }

  const setTabFixed = function () {
    let tabT = _this.$tab.fixed.offset().top;
    $(window).scrollTop() >= tabT
      ? _this.$tab.fixed.addClass('fixed')
      : _this.$tab.fixed.removeClass('fixed');
  };

  const setTabActive = function () {
    if (_this.$tab.isClick) return;

    let headT = Math.abs($hd.position().top);
    let headH = $hd.outerHeight(true) - headT;
    let tabH = _this.$tab.fixed.outerHeight(true);
    let active = null;

    _this.$tab.panel.each((idx, item) => {
      let offsetTop = parseInt($(item).offset().top) - (headH + tabH);
      if ($(window).scrollTop() >= offsetTop) active = idx;
    });

    _this.$tab.active = active;
    setTabAttr();
  };

  const setTabAttr = function (init) {
    let isFirst = init == 'init' ? true : false; // 처음 setting 시에만 'init' 전달
    let active = _this.$tab.active;

    let beforeActive = _this.$tab.beforeActive;
    if (active == beforeActive) return;
    _this.$tab.beforeActive = _this.$tab.active;

    _this.$tab.li.removeClass('active');
    _this.$tab.btn.attr({ 'aria-selected': false });

    if (typeof active == 'number') {
      _this.$tab.li.eq(active).addClass('active');
      _this.$tab.btn.eq(active).attr({ 'aria-selected': true });
    }

    if (!isFirst) return;

    _this.$tab.ul
      .attr('role', 'tablist')
      .find('li')
      .attr('role', 'presentation');

    _this.$tab.btn.each(function (index) {
      var key = `${_this.$tab.key}_${index}`;
      $(this).attr({
        role: `tab`,
        id: `tab_btn_${key}`,
        'aria-controls': `tab_panel_${key}`,
        'aria-selected': index == active ? true : false, // changeable
      });
    });
    _this.$tab.panel.each(function (index) {
      var key = `${_this.$tab.key}_${index}`;
      $(this).attr({
        role: `region`,
        id: `tab_panel_${key}`,
        'aria-labelledby': `tab_btn_${key}`,
      });
    });
  };

  function animateInViewElements() {
    let animationElements = $('.ban');
    let winT = $(window).scrollTop();
    // let winB = winT + ( $(window).height() / 2 );
    let winB = winT + $(window).height();

    animationElements.each((idx, item) => {
      var element = $(item);
      var elementHeight = $(element).outerHeight(true);
      var elementTop = $(element).offset().top;

      if (elementTop <= winB) {
        if (!element.hasClass('in-view')) element.addClass('in-view');
      } else if (elementTop > winB + elementHeight / 2) {
        element.removeClass('in-view');
      }
    });
  }

  /** 각각의 item높이가 hover됐을시 hover된 컨텐츠 중 가장 높은 값으로 할당 */
  function getMaxHeight(selector) {
    const heights = [];
    $(selector).each(function () {
      $(this).css('height', 'auto'); // 높이를 자동으로 설정
      heights.push($(this).outerHeight(true)); // 외부 높이를 배열에 추가
    });
    return Math.max(...heights); // 최대 높이 반환
  }
  function hoverContHeight(_plugin) {
    const maxHoverBoxHeight = getMaxHeight(
      _plugin.$hover_BoxItem.find('.hover_box'),
    );

    // PC와 MOBILE에 따라 높이 설정
    if (deviceType === 'PC') {
      // PC에서 높이 설정
      _plugin.$hoverBox_cont.wrap.css('height', maxHoverBoxHeight);
      _plugin.$hover_BoxItem
        .find('.hover_box')
        .css('height', maxHoverBoxHeight);
    } else if (deviceType === 'MOBILE') {
      // MOBILE에서 높이값 제거
      _plugin.$hoverBox_cont.wrap.css('height', '');
      _plugin.$hover_BoxItem.find('.hover_box').css('height', '');
    }
  }
  /** //각각의 item높이가 hover됐을시 hover된 컨텐츠 중 가장 높은 값으로 할당 */

  this.init();
}
fo.addPlugin(MP_government);

/** Page | 물류(hardCoding) | MP_logistics */
/** MP_logistics */
function MP_logistics(el) {
  _proto = MP_logistics.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  /* KV video */
  this.$video = this.$el.find('.kv_main video');
  this.$control = {
    wrap: this.$el.find('.video_control_wrap'),
    playBtn: this.$el.find('.btn_play'),
    soundBtn: this.$el.find('.btn_sound'),
    soundBlind: this.$el.find('.btn_sound button span'),
  };
  /* //KV video */
  /* section6 video */
  this.$cont6 = this.$el.find('.section6');
  this.$videoContainer = this.$cont6.find('.md_control');
  this.$video_cont = this.$videoContainer.find('.videoPlay');
  this.$video_stopBtn = this.$video_cont.find('.md_video_stop');
  this.$video_playBtn = this.$video_cont.find('.md_video_play');
  /* //section6 video */

  /* accordion menu */
  this.accordion_wrap = this.$el.find('.accordion');
  this.accordion_data = this.$el.find('.accordion').data();
  this.$toggleList = this.$el.find('.toggle_list');
  this.$toggleItem = this.$toggleList.find('.li');
  this.key = this.$el.offset().top;
  this.onlyExpanded = false; // Only one item open flag
  this.opendIndex = []; // Open item array
  this.closedIndex = []; // Close item array
  /* //accordion menu */

  var _this = this;
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var beforeChk = false;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: MP_logistics")
    // this.onlyExpanded
    if (this.accordion_wrap.is('[data-only-expanded]')) {
      this.onlyExpanded = this.accordion_data.onlyExpanded;
      this.$el.removeAttr('data-only-expanded');
    }

    // this.opendIndex
    if (
      this.accordion_wrap.is('[data-opend-index]') &&
      typeof this.accordion_data.opendIndex == 'object'
    ) {
      this.opendIndex = this.accordion_data.opendIndex;
      this.$el.removeAttr('dta-opend-inadex');
    }

    // this.opendIndex: all item open
    if (this.accordion_wrap.is('[data-opend-all]')) {
      this.opendIndex = new Array(this.$toggleItem.length + 1)
        .join('0')
        .split('')
        .map(function (a, idx) {
          return idx;
        });
      this.$el.removeAttr('data-opend-all');
    }

    // Exception, multiple items open
    if (this.opendIndex.length > 1) {
      this.onlyExpanded = false;
    }

    // accordion setting
    setAriaAttr(this);
    setOpenToggle(this);

    // Device type check
    deviceType = checkDeviceType();

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    /* KV video btn click event */
    _this.$control.playBtn.on('click', function (e) {
      e.preventDefault();
      if ($(this).hasClass('pause')) {
        _this.$video.get(0).pause();
        if (_this.$video.length > 1) {
          _this.$video.get(1).pause();
        }
        $(this).removeClass('pause').addClass('play');
        $(this)
          .find('button span')
          .text(langSet[lang]['slide']['playStr'].toString());
      } else {
        _this.$video.get(0).play();
        if (_this.$video.length > 1) {
          _this.$video.get(1).play();
        }
        $(this).removeClass('play').addClass('pause');
        $(this)
          .find('button span')
          .text(langSet[lang]['slide']['pauseStr'].toString());
      }
      return false;
    });
    /* //KV video btn click event */

    /* section6 video contorler */
    _this.$video_stopBtn.on('click', function (e) {
      e.preventDefault();
      var videoBtnThis = $(this);
      videoControl(videoBtnThis, 'STOP');
      return false;
    });
    _this.$video_playBtn.on('click', function (e) {
      e.preventDefault();
      var videoBtnThis = $(this);
      videoControl(videoBtnThis, 'PLAY');
      return false;
    });
    /* //section6 video contorler */

    /* accordion click event */
    _this.$toggleList.on('click', '.toggle_btn', function (e) {
      e.preventDefault();
      var index = $(this).parent().index();

      // When the toggle button is open
      if ($(this).hasClass('active')) {
        _this.closedIndex = [index];
        setCloseToggle(_this);
        _this.opendIndex.splice(_this.opendIndex.indexOf(index), 1);
        return;
      }

      // When the toggle button is closed
      if (_this.onlyExpanded) {
        // Only one item open
        _this.closedIndex = [_this.opendIndex];
        setCloseToggle(_this);
        _this.opendIndex = [index];
        setOpenToggle(_this);
      } else {
        // Multiple items open
        _this.opendIndex.push(index);
        setOpenToggle(_this);
      }
      return;
    });
    /* accordion click event */

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  // video Control: play, stop
  function videoControl(videoBtnThis, option) {
    switch (option) {
      case 'PLAY':
        videoBtnThis.closest('.videoPlay').removeClass('on');
        videoBtnThis.closest('section').find('article video').get(0).play();
        // changeFocus && videoBtnThis.prev();
        break;
      case 'STOP':
        videoBtnThis.closest('.videoPlay').addClass('on');
        videoBtnThis.closest('section').find('article video').get(0).pause();
        // changeFocus && videoBtnThis.next();
        break;
      // default:
      //     break;
    }
  }

  /** accordion event */
  // Apply aria properties
  function setAriaAttr(_plugin) {
    _plugin.$toggleItem.each(function (index) {
      var key = _plugin.key + '_' + index;

      $(this)
        .find('.toggle_btn')
        .attr({
          id: 'toggle_btn_' + key, // fixed
          'aria-controls': 'toggle_cont_' + key, // fixed
          'aria-expanded': false, // changeable
        });

      $(this)
        .find('.toggle_cont')
        .attr({
          role: 'region', // fixed
          id: 'toggle_cont_' + key, // fixed
          'aria-labelledby': 'toggle_btn_' + key, // fixed
          'aria-hidden': true, // changeable
        });
    });
  }
  // Open toggle
  function setOpenToggle(_plugin) {
    for (var index = 0; index < _plugin.opendIndex.length; index++) {
      var $item = _plugin.$toggleItem.eq(_plugin.opendIndex[index]);

      $item.find('.toggle_btn').attr('aria-expanded', true).addClass('active');
      $item.find('.toggle_cont').attr('aria-hidden', false).stop().slideDown();
    }
  }
  // Close toggle
  function setCloseToggle(_plugin) {
    for (var index = 0; index < _plugin.closedIndex.length; index++) {
      var $item = _plugin.$toggleItem.eq(_plugin.closedIndex[index]);

      $item
        .find('.toggle_btn')
        .attr('aria-expanded', false)
        .removeClass('active');
      $item.find('.toggle_cont').attr('aria-hidden', true).stop().slideUp();

      _plugin.closedIndex.shift();
    }
  }
  /** //accordion event */

  this.init();
}
fo.addPlugin(MP_logistics);

/** Page | 커리어(hardCoding) | MP_career */
/** MP_career */
function MP_career(el) {
  _proto = MP_career.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  /* tab */
  this.$tabList = this.$el.find('.tab_list');
  this.$tabListBtn = this.$tabList.find('.tab_btn');
  this.$tabPanel = this.$el.find('.tab_panel');
  this.$scroll = this.$el.find('.txt');
  this.$scrollItem = this.$el.find('.txt .txt_inner');
  this.$txtInner = this.$el.find('.txt_inner');
  this.$tabMenu = this.$el.find('.slider-nav');
  this.$tabMenuItem = this.$tabMenu.find('.swiper-slide');
  this.$tabView = this.$el.find('.slider-tabContents');
  this.$arrowContainer = this.$el.find('.slick-arrowContainer');
  this.$navigation = this.$el.find('.navigation');
  this.$prevBtn = this.$el.find('.prev');
  this.$nextBtn = this.$el.find('.next');
  /* //tab */

  var _this = this;
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  this.mhItems;
  var mhTarget = ['.tabContents'];

  _proto.init = function () {
    //console.log("init:: MP_career")

    // Device type check
    deviceType = checkDeviceType();

    //슬라이드 함수
    setSlick(_this);

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateMhItem(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else {
      return 'MOBILE';
    }
  }

  // Set slick
  function setSlick(_plugin) {
    _plugin.$tabView.slick({
      slidesToShow: 1,
      arrows: true,
      fade: false,
      infinite: false,
      useTransform: true,
      speed: 0,
      prevArrow: _plugin.$prevBtn,
      nextArrow: _plugin.$nextBtn,
      responsive: [
        {
          breakpoint: 1023,
          settings: {
            variableWidth: true,
            infinite: true,
            centerMode: true,
            swipeToSlide: true,
            swipe: true,
          },
        },
      ],
    });
    _plugin.$tabView.on('afterChange', function (e, slick, currentSlide) {
      updatePagn(e, _plugin, slick, currentSlide);
      _plugin.$tabMenu.slick('slickGoTo', currentSlide);
      var currrentNavSlideElem = _plugin.$tabMenu.find(
        '.slick-slide[data-slick-index="' + currentSlide + '"]',
      );
      _plugin.$tabMenu.find('.slick-slide.is-active').removeClass('is-active');
      $(currrentNavSlideElem).addClass('is-active');
    });
    _plugin.$tabMenu.on('init', function (e, slick, currentSlide) {
      initPagn(e, _plugin, slick, currentSlide);
      _plugin.$tabMenu.find('.slick-slide.slick-current').addClass('is-active');
    });
    _plugin.$tabMenu.slick({
      accessibility: false,
      slidesToShow: 5,
      speed: 100,
      dots: false,
      infinite: false,
      arrows: false,
      variableWidth: true,
      responsive: [
        {
          breakpoint: 1300,
          settings: {
            slidesToShow: 4,
            slidesToScroll: 4,
          },
        },
        {
          breakpoint: 1024,
          settings: {
            slidesToShow: 5,
            slidesToScroll: 1,
          },
        },
        {
          breakpoint: 769,
          settings: {
            slidesToShow: 4,
            slidesToScroll: 4,
          },
        },
        {
          breakpoint: 450,
          settings: {
            slidesToShow: 2,
            slidesToScroll: 2,
          },
        },
        {
          breakpoint: 375,
          settings: {
            slidesToShow: 1,
            slidesToScroll: 1,
          },
        },
      ],
    });

    _plugin.$tabMenu.on('click', '.slick-slide', function (e) {
      e.preventDefault();
      var goToSingleSlide = $(this).data('slick-index');

      _plugin.$tabView.slick('slickGoTo', goToSingleSlide);
    });
  }

  /** 슬라이드 prograss */
  function initPagn(e, _plugin, slick, currentSlide) {
    var activeIndex = (currentSlide ? currentSlide : 0) + 1;
    var barWidth = (100 / slick.slideCount) * activeIndex;
    var ariaTxt = setNum(activeIndex) + ' of ' + setNum(slick.slideCount);

    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-bar p')
      .css('width', barWidth + '%');
    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-st')
      .text(setNum(activeIndex));
    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-ed')
      .text(setNum(slick.slideCount));
  }

  function updatePagn(e, _plugin, slick, currentSlide) {
    var activeIndex = (currentSlide ? currentSlide : 0) + 1;
    var barWidth = (100 / slick.slideCount) * activeIndex;
    var ariaTxt = setNum(activeIndex) + ' of ' + setNum(slick.slideCount);

    if (isNaN(activeIndex)) return;

    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-bar p')
      .css('width', barWidth + '%');
    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-st')
      .text(setNum(activeIndex));
    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-ed')
      .text(setNum(slick.slideCount));
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }
  /** //슬라이드 prograss */

  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$tabPanel.find(target);
    });
  }
  // Update Match Height Item
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };
    switch (deviceType) {
      case 'PC':
        for (idx = 0; idx < len; idx++) {
          el.find('.tabContents').matchHeight(opt.remove);
        }
        break;
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          el.find('.tabContents').matchHeight(opt.init);
        }
        break;

      // default:
      //     break;
    }
  }

  this.init();
}
fo.addPlugin(MP_career);

/** Page 클라우드 브랜드 | MP_cloudBrand */
function MP_cloudBrand(el) {
  _proto = MP_cloudBrand.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.startIndex = 0;
  this.currentIndex = this.startIndex;
  var lang = $('html').attr('lang') || 'en';
  //동영상 컨텐츠
  this.$videoCont = this.$el.find('.video_cont');
  var beforeChk = false;

  // banner slide
  this.$slider_wrap = this.$el.find('.banner_slide_wrap');
  this.$slick = this.$slider_wrap.find('.banner_slider_cont');
  this.$slickItem = this.$slick.find('.item');
  this.$navigation = this.$el.find('.banner_navigation');
  this.$navigatorHtml =
    '<div class="carousel-pagn">' +
    '<div class="carousel-pagn-inner">' +
    '<div class="carousel-pagn-st"></div>' +
    '<div class="carousel-pagn-bar"><p></p></div>' +
    '<div class="carousel-pagn-ed"></div>' +
    '</div>' +
    '<button type="button" class="carousel-prev"><span class="blind">' +
    langSet[lang]['slide']['prevStr'] +
    '</span></button>' +
    '<button type="button" class="carousel-next"><span class="blind">' +
    langSet[lang]['slide']['nextStr'] +
    '</span></button>' +
    '</div>' +
    '<div class="md_play">' +
    '<a href="#" class="md_btn_stop"><span class="blind">' +
    langSet[lang]['slide']['pauseStr'] +
    '</span></a>' +
    '<a href="#" class="md_btn_play"><span class="blind">' +
    langSet[lang]['slide']['playStr'] +
    '</span></a>' +
    '</div>';

  // hover 슬라이드 타이틀
  this.$title_slides = this.$el.find('.title_slide');
  this.$title_slidesItme = this.$el.find('.title_slide ul li');
  // hover 슬라이드 이미지
  this.$img_slides = this.$el.find('.images_slide');
  this.$img_slidesItme = this.$el.find('.images_slide ul li');
  // hover 슬라이드 arrow
  this.$prevBtn = this.$el.find('.prev');
  this.$nextBtn = this.$el.find('.next');

  var _this = this;
  var deviceType; // "PC", "TABLET", "MOBILE"
  /* 2023-04 접근성 수정 시작 */
  this.startDeviceType = null;
  /* // 2023-04 접근성 수정 끝 */
  var resizeTimer;
  var stopChk = false;

  var scrollbar = function () {
    var r,
      l,
      o = $('<div class="inner_scrollbar"></div>'),
      s = $('<div class="outer_scrollbar"></div>').append(o),
      e = o[0],
      a = s[0];
    return (
      $('body').append(a),
      (r = e.offsetWidth),
      s.css({ overflow: 'scroll' }),
      (l = a.clientWidth),
      s.remove(),
      r - l
    );
  };

  let currentUrl = location.href;
  let param_url = currentUrl.indexOf('#recognition');

  _proto.init = function () {
    // Device type check
    deviceType = checkDeviceType();
    _this.startDeviceType = deviceType;

    innerNavigatorHtml(this); //슬라이드 네비게이터 html
    updateSlick(this); // 슬라이드 함수 포함되어 있음
    setScroll(this); // 오토플레이 옵션을 강제로 무시함

    // Set slick slider
    setCloudBrand_slider(this);

    if (param_url != -1) {
      var offset = $('.cloudBrand_article_cont1').offset();
      $('html, body').animate({ scrollTop: offset.top }, 100);
    }

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateSlick(_this); // 슬라이드 함수 포함되어 있음
        setScroll(_this);
      }

      /* 2023-04 접근성 수정 시작 */
      if ($(window).width() - scrollbar() >= 1024) {
        _this.startDeviceType = deviceType;
      }
      /* // 2023-04 접근성 수정 끝 */
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    /** 동영상(youtube) click 이벤트 */
    _this.$videoCont.find('.md_link').on('click', function (e) {
      e.preventDefault();
      // console.log("video click")
      var $this = $(this);

      if (beforeChk) return;
      var html = '';
      var videoSrc = $this.attr('data-src');

      html +=
        "<iframe src='" +
        videoSrc +
        "?autoplay=1&wmode=opaque&enablejsapi=1' style='display:block;' frameborder='0' title='vod' allow='accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture' allowfullscreen=''></iframe>";

      $this.siblings('.video_box').append(html);
      $(this).fadeOut(100);
    });

    /** 배너 슬라이드 */
    // arrow click event
    $(document).on('click', '.banner_slide .carousel-prev', function (e) {
      e.preventDefault();
      _this.$slick.slick('slickPrev');
    });
    $(document).on('click', '.banner_slide .carousel-next', function (e) {
      e.preventDefault();
      _this.$slick.slick('slickNext');
    });

    //arrow hover event
    $(document).on(
      {
        mouseover: function () {
          _this.$slick.slick('slickPause');
        },
        mouseleave: function () {
          setScroll(_this);
        },
      },
      '.banner_slide .carousel-prev, .banner_slide .carousel-next',
    );

    //play, stop btn evnt
    $(document).on('click', '.banner_slide .md_btn_stop', function (e) {
      e.preventDefault();
      sequenceControl(_this, 'STOP', true);
      _this.$slickItem.attr('data-slideStop', true);
      stopChk = true;
      return false;
    });
    $(document).on('click', '.banner_slide .md_btn_play', function (e) {
      e.preventDefault();
      sequenceControl(_this, 'PLAY', true);
      _this.$slickItem.attr('data-slideStop', '');
      stopChk = false;
      return false;
    });
    /** //배너 슬라이드 */

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    /* 2023-04 접근성 수정 시작 */
    if (window.innerWidth - scrollbar() >= 1024) {
      _this.$title_slides
        .find('.slide')
        .find('a, button')
        .removeAttr('aria-hidden tabindex');
      _this.$title_slides
        .find('.slide')
        .find('.txt_comm')
        .removeAttr('tabindex');
      /* // 2023-04 접근성 수정 끝 */
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setCloudBrand_slider(_plugin) {
    $('.cloudBrand_slide_cont').each(function (key, item) {
      var $sliderWrap = $(this).find('.slider_cont');
      var $viewSlider = $sliderWrap.find('.images_slide');
      var $navSlider = $sliderWrap.find('.title_slide');
      var $sliderPrevArrow = $sliderWrap.find('.slickArrow_con .prev');
      var $slidernextArrow = $sliderWrap.find('.slickArrow_con .next');

      //slide progress
      var $slickCounter = $(this).find('.slick-counter');
      var $progressBar = $sliderWrap.find('.progress');
      var $progressBarLabel = $sliderWrap.find('.slider__label');
      var $currentTxt = $sliderWrap.find('.current');
      var $totalTxt = $sliderWrap.find('.total');

      /* 2023-04 접근성 수정 시작 */
      $sliderPrevArrow.on('click', function () {
        _this.startDeviceType = '';
      });

      $slidernextArrow.on('click', function () {
        _this.startDeviceType = '';
      });

      $viewSlider.on('init', function (event, slick) {
        _this.startDeviceType = checkDeviceType();

        /* 2023-04 접근성 수정 시작 */
        let calc = ((slick.currentSlide + 1) / slick.slideCount) * 100;
        let firstNum = 100 / slick.slideCount;
        calc = calc == 0 ? firstNum : calc;

        $progressBar.removeAttr('role aria-valuemin aria-valuemax');
        $progressBarLabel.text(Math.floor(calc) + '% completed');
        /* // 2023-04 접근성 수정 끝 */
      });
      /* // 2023-04 접근성 수정 끝 */

      $viewSlider.slick({
        accessibility: true, // 2023-04 접근성 수정
        slidesToShow: 1,
        slidesToScroll: 1,
        autoplay: false, //true
        autoplaySpeed: 3000,
        adaptiveHeight: true,
        speed: 200,
        fade: true,
        arrows: true,
        prevArrow: $sliderPrevArrow,
        nextArrow: $slidernextArrow,
        responsive: [
          {
            breakpoint: 1024, // 2023-04 접근성 수정
            settings: {
              fade: false,
              centerMode: true,
              centerPadding: '0',
            },
          },
        ],
      });
      /* 탭 메뉴 리스트 슬라이드 이동시 클래스 변경 */
      $viewSlider.on('afterChange', function (event, slick, currentSlide) {
        $navSlider.slick('slickGoTo', currentSlide);
        var currrentNavSlideElem = $navSlider.find(
          '.slick-slide[data-slick-index="' + currentSlide + '"]',
        );
        $navSlider.find('.slick-slide.active').removeClass('active');
        $(currrentNavSlideElem).addClass('active');

        /* progressBar */
        $currentTxt.text(
          currentSlide + 1 < 10 ? '0' + (currentSlide + 1) : currentSlide + 1,
        );
        var calc = ((currentSlide + 1) / slick.slideCount) * 100,
          firstNum = 100 / slick.slideCount;
        calc = calc == 0 ? firstNum : calc;
        $progressBar.css('background-size', Math.floor(calc) + '% 100%'); // .attr('aria-valuenow', calc ); // 2023-04 접근성 수정
        $progressBarLabel.text(Math.floor(calc) + '% completed'); // 2023-04 접근성 수정

        /* 2023-04 접근성 수정 시작 */
        if ($(window).width() - scrollbar() >= 1024) return;

        if (_this.startDeviceType.toLowerCase() !== 'pc') {
          $navSlider
            .find('.slick-slide')
            .find('a, button')
            .attr({ 'aria-hidden': true, tabindex: -1 });
          $navSlider
            .find('.slick-slide')
            .find('.txt_comm')
            .removeAttr('tabindex');
          $navSlider
            .find('[data-slick-index = ' + currentSlide + ']')
            .find('a, button')
            .removeAttr('aria-hidden tabindex');
          $navSlider
            .find('[data-slick-index = ' + currentSlide + ']')
            .find('.txt_comm')
            .attr('tabindex', 0);
          setTimeout(function () {
            $navSlider
              .find('[data-slick-index = ' + currentSlide + '] .txt_comm')
              .focus();
          }, 1);
        }
        /* // 2023-04 접근성 수정 끝 */
      });

      /* 2023-04 접근성 수정 시작 */
      $navSlider.on('blur', '.slick-slide .txt_comm', function () {
        $(this).removeAttr('tabindex');
      });
      /* // 2023-04 접근성 수정 끝 */

      $navSlider.on('init', function (event, slick, currentSlide) {
        $navSlider.find('.slick-slide.slick-current').addClass('active');

        /* total text */
        $totalTxt.text(
          slick.slideCount < 10 ? '0' + slick.slideCount : slick.slideCount,
        );
      });
      $navSlider.slick({
        accessibility: false, // 2023-04 접근성 수정
        slidesToShow: 4, // 5에서 4로 수정
        slidesToScroll: 1,
        autoplay: false,
        autoplaySpeed: 3000,
        speed: 100,
        dots: false,
        focusOnSelect: false,
        vertical: true,
        infinite: false,
        arrows: false,
        adaptiveHeight: true,
        responsive: [
          {
            breakpoint: 1024, // 2023-04 접근성 수정
            settings: {
              slidesToShow: 1,
              slidesToScroll: 1,
              infinite: true,
              vertical: false,
              swipe: false,
              fade: true,
              adaptiveHeight: true,
            },
          },
        ],
      });

      if (_this.startDeviceType.toLowerCase() === 'pc') {
        $navSlider.on('mouseenter keydown', '.slick-slide', function (event) {
          event.preventDefault();
          var goToSingleSlide = $(this).data('slick-index');
          $viewSlider.slick('slickGoTo', goToSingleSlide);
          setTimeout(() => {
            $viewSlider.find('[tabindex="0"]').focus();
            $viewSlider
              .find('[data-slick-index=' + goToSingleSlide + ']')
              .on('keydown', function (e) {
                if (e.shiftKey && e.keyCode === 9) {
                  // console.log('shift tab 1');
                  $navSlider.find('[data-slick-index ="0"] .btn_comm').focus();
                  $(':focus').blur(); //빽탭키 이용시 포커스 날림
                  return false;
                } else if (e.keyCode === 9) {
                  // console.log('tab 1');
                  if ($(this).siblings().last().data('slick-index') != 2) {
                    $navSlider
                      .find(
                        '[data-slick-index = ' +
                          goToSingleSlide +
                          '] .btn_comm',
                      )
                      .focus();
                  }
                }
              });
          }, 200);
        });
      }
    });
  }

  //slick slider Navigator Html mark-up
  function innerNavigatorHtml(_plugin) {
    _plugin.$navigation.html(_this.$navigatorHtml);
    if (_plugin.$slickItem.length === 1) {
      _plugin.$navigation.empty();
    }
  }

  /** banner 슬라이드 */
  //slick slider 반응형 조건
  function updateSlick(_plugin) {
    innerNavigatorHtml(_plugin); //banner slick navigator html 생성
    setSlider(_plugin); //banner slick 활성

    // 슬라이드 정지버튼 활성화 하고 resize시 정지상태 유지
    if (_plugin.$slickItem.attr('data-slideStop') == 'true') {
      _plugin.$slider_wrap.find('.md_play').addClass('on');
    }
  }

  // banner slick slider 실행
  function setSlider(_plugin) {
    _plugin.$slick.on('init', function (e, slick, currentSlide) {
      // console.log("init");
      initPagn(e, _plugin, slick, currentSlide);

      var currentSlideView = $(slick.$slides.get(currentSlide)); //currentSlide
      if (
        currentSlideView.hasClass('slick-current') &&
        currentSlideView.attr('data-slideStop') == 'true'
      ) {
        _plugin.$slick.slick('slickPause');
      }
    });
    _plugin.$slick.on(
      'afterChange',
      function (e, slick, currentSlide, direction) {
        // console.log("afterChange");
        updatePagn(e, _plugin, slick, currentSlide);

        var currentSlideView = $(slick.$slides.get(currentSlide)); //currentSlide
        if (
          currentSlideView.hasClass('slick-current') &&
          currentSlideView.attr('data-slideStop') == 'true'
        ) {
          _plugin.$slick.slick('slickPause');
        }
      },
    );

    _plugin.$slick.not('.slick-initialized').slick({
      accessibility: false,
      variableWidth: true,
      slidesToShow: 6, //화면에 보이는 갯수 리더기 허용
      arrows: false,
      draggable: true, //드래그 가능 여부
      swipeToSlide: true, //드래그 했을때 현재 드래그까지 된 슬랑이드에 위치
      touchThreshold: 50, //swipeToSlide 기능 슬라이드 드래그했을시 드래그 감도 (적을수록 드래그 감도 낮음)
      infinite: true,
      autoplay: true,
      speed: 500, //다음 버튼 누르고 다음 화면 뜨는데까지 걸리는 시간(ms)
      autoplaySpeed: 3000, //자동 스크롤 시 다음으로 넘어가는데 걸리는 시간
      responsive: [
        {
          breakpoint: 1024,
          settings: {
            autoplay: false,
            slidesToShow: 3,
            centerMode: true,
            centerPadding: '0',
            pauseOnFocus: true, //마우스 포커스 시 슬라이드 멈춤
            pauseOnHover: true, //마우스 호버 시 슬라이드 멈춤
          },
        },
        {
          breakpoint: 600,
          settings: {
            autoplay: false,
            centerMode: true,
            slidesToShow: 1,
          },
        },
      ],
    });
  }

  /** 슬라이드 prograss */
  function initPagn(e, _plugin, slick, currentSlide) {
    var activeIndex = (currentSlide ? currentSlide : 0) + 1;
    var barWidth = (100 / slick.slideCount) * activeIndex;

    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-bar p')
      .css('width', barWidth + '%');
    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-st')
      .text(setNum(activeIndex));
    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-ed')
      .text(setNum(slick.slideCount));
  }
  function updatePagn(e, _plugin, slick, currentSlide) {
    var activeIndex = (currentSlide ? currentSlide : 0) + 1;
    var barWidth = (100 / slick.slideCount) * activeIndex;

    if (isNaN(activeIndex)) return;

    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-bar p')
      .css('width', barWidth + '%');
    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-st')
      .text(setNum(activeIndex));
    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-ed')
      .text(setNum(slick.slideCount));
  }
  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }
  /** //슬라이드 prograss */

  // Sequence Control: play, stop
  function sequenceControl(_plugin, option, changeFocus) {
    switch (option) {
      case 'PLAY':
        _this.$slick.slick('slickPlay');
        _plugin.$slider_wrap.find('.md_play').removeClass('on');
        break;
      case 'STOP':
        _this.$slick.slick('slickPause');
        _plugin.$slider_wrap.find('.md_play').addClass('on');
        break;
      // default:
      //     break;
    }
  }

  //모바일 분기 sequenceControl 기능
  function setScroll(_plugin) {
    switch (deviceType) {
      case 'PC':
        _plugin.$slick.slick('slickPlay');
        if (_plugin.$slickItem.attr('data-slideStop') == 'true') {
          _plugin.$slick.slick('slickPause');
        }
        break;
      case 'TABLET':
      case 'MOBILE':
        if (
          _this.$slickItem.attr('data-slideStop') == 'true' ||
          $('html').hasClass('view-m')
        ) {
          _plugin.$slick.slick('slickPause');
        }
        break;
      // default:
      //     break;
    }
  }
  /** //banner 슬라이드 */

  this.init();
}
fo.addPlugin(MP_cloudBrand);

/** Page | 오퍼링 > 고객사례(상세) | MP_customer_detail */
function heroCopy(el) {
  _proto = heroCopy.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$visual = this.$el.find('.visual_img img').parent();

  _proto.init = function () {
    //console.log("init:: heroCopy")
    // Set visual img
    this.setVisualImg();
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visual.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  this.init();
}
fo.addPlugin(heroCopy);

/** Page | MP_customer_detail_new */
function MP_customer_detail_new(el) {
  _proto = MP_customer_detail_new.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;

  let _this = this;
  let changeGap = 200;

  let classes = this.$el.find('.add_aside');

  if (classes.length === 0) {
    classes = this.$el.find('.list_up');
  }

  const indexWrap = this.$el.find('.index_list');
  const sideContainer = this.$el.find('.side_container');
  const titB = this.$el.find('.detail_title .tit_b');
  const sideBar = this.$el.find('.side_bar');

  _proto.init = function () {
    // DOM이 준비된 후에 실행
    if (classes.length > 0) {
      checkIndexList();
      applyMarginToSidebar();
    }

    $(window).on('load', function () {
      sideContainer.theiaStickySidebar({
        additionalMarginTop: 150,
        updateSidebarHeight: true,
        minWidth: 0,
        disableOnResponsiveLayouts: false,
        defaultPosition: 'relative',
        namespace: 'TSS',
      });
    });

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    $(window).on('scroll resize', () => {
      if (classes.length > 0) {
        updateActiveLink();
      }
      // sidebarScroll();
    });
  };

  function checkDeviceType() {
    return window.innerWidth > 1023 ? 'PC' : 'MOBILE';
  }

  let isInitialized = false; // 초기화 여부 체크 변수

  function checkIndexList() {
    if (isInitialized) return; // 이미 초기화되었으면 종료

    let classElements = classes.toArray();

    classElements.forEach(function (element, index) {
      let text = $(element).attr('data-tit')
        ? $(element).attr('data-tit')
        : $(element).text();
      let link = $('<a href="javascript:;" class="a_list"></a>').text(text);

      let classList = $(element).attr('class')
        ? $(element).attr('class').split(' ')
        : [];
      let depthClass = classList
        .filter((cls) => /^depth_\d+$/.test(cls))
        .join(' ');

      if (depthClass) {
        link.addClass(depthClass);
      }

      link.on('click', function () {
        let targetElement = classes.eq(index);

        if (targetElement.length) {
          $('html, body').animate(
            {
              scrollTop: targetElement.offset().top - changeGap + 50,
            },
            500,
          );
        } else {
          console.warn('대상 요소를 찾을 수 없습니다: 인덱스: ' + index);
        }
      });

      indexWrap.append(link);
    });

    isInitialized = true; // 초기화 완료
  }

  function updateActiveLink() {
    let scrollPosition = $(window).scrollTop();
    let firstElementOffset = classes.eq(0).offset().top;

    if (scrollPosition < firstElementOffset) {
      indexWrap.find('a').removeClass('active');
      indexWrap.find('a').eq(0).addClass('active');
      return;
    }

    classes.each(function (index) {
      let targetOffset = $(this).offset().top;
      let nextOffset =
        index < classes.length - 1
          ? classes.eq(index + 1).offset().top
          : Infinity;

      if (
        scrollPosition >= targetOffset - changeGap &&
        scrollPosition < nextOffset - changeGap
      ) {
        indexWrap.find('a').removeClass('active');
        indexWrap.find('a').eq(index).addClass('active');
      }
    });
  }

  function applyMarginToSidebar() {
    const hasTechBlogParent = sideBar.parents('.tech_blog').length;

    // 테크블로그는 최상단 맞춤
    if (hasTechBlogParent) {
      return;
    }

    if (!titB.length || !sideBar.length) {
      console.error('[ERROR] 요소를 찾을 수 없음:', {
        titB: titB.length,
        sideBar: sideBar.length,
      });
      return;
    }

    const titBHeight = titB.outerHeight();
    sideBar.css('margin-top', `${titBHeight + 30}px`);
  }

  this.init();
}
fo.addPlugin(MP_customer_detail_new);

/** Page | 오퍼링 > 고객사례(목록) | MP_customer_list */
/** heroCarousel */
function heroCarousel(el) {
  _proto = heroCarousel.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.startIndex = 0;
  this.currentIndex = this.startIndex;
  this.$carousel = this.$el.find('.carousel');
  this.$carouselItem = this.$el.find('.carousel .li');
  this.$nav = this.$el.find('.owl-nav');
  this.$pagn = this.$el.find('.owl-pagn');
  this.$txtArea = this.$carousel.find('.txt');
  this.$visualArea = this.$carousel.find(
    '.visual_img .img_p, .visual_img .img_m',
  );

  var _this = this;
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: heroCarousel")
    // Device type check
    deviceType = checkDeviceType();

    // Set visual img
    this.setVisualImg();
    // Set visual txt break
    this.setTxtBreak();

    _checkClass(); // 2023-04 접근성 수정

    if (this.$carouselItem.length < 2) {
      this.$nav.remove();
      this.$pagn.remove();
      return;
    }

    // Set carousel
    setCarousel(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarouselAria(_this);
      }

      /* 2023-04 접근성 수정 시작 */
      if (deviceType.toLowerCase() !== 'pc') {
        _checkClass();
      }
      /* // 2023-04 접근성 수정 끝 */
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  _proto.setTxtBreak = function () {
    var $title = this.$txtArea.find('.tit_m');
    var $desc = this.$txtArea.find('.tit_desc');

    if ($title.find('.md_link').length) {
      $title = $title.find('.md_link');
    }

    $title.lettering('lines');
    $title.find('span').wrapInner('<i></i>');

    $desc.wrapInner('<i></i>');
  };

  _proto.addEvent = function () {
    _this.$carouselItem.on({
      focusin: function (e) {
        switch (deviceType) {
          case 'PC':
            //
            break;
          case 'TABLET':
          case 'MOBILE':
            var isPagnToSlide = $(e.relatedTarget).is(_this.$pagn);

            if (!isPagnToSlide) {
              var currentIndex = _this.$carouselItem.index(e.delegateTarget);
            } else {
              var currentIndex = 0;
              _this.$carouselItem.eq(0).find('a, button').first().focus();
            }

            _this.$carousel.trigger('slideTo', [currentIndex, 0, true]);
            break;
          // default:
          //     break;
        }
      },
      focusout: function (e) {
        switch (deviceType) {
          case 'PC':
            //
            break;
          case 'TABLET':
          case 'MOBILE':
            var isSameSequence = $(e.delegateTarget).find(
              e.relatedTarget,
            ).length;
            var isLastSequence = $(e.delegateTarget).is(
              _this.$carouselItem.last(),
            );

            if (!isSameSequence && isLastSequence) {
              _this.$pagn.focus();
            }
            break;
          // default:
          //     break;
        }
      },
    });

    /* 2023-04 접근성 수정 시작 */
    const _attrValue = { tabindex: -1, 'aria-hidden': true };
    const _removeAttrValue = 'tabindex aria-hidden';
    const _target = 'a, button';

    function handleSlideVisibleAttr({ wrapper, item, filter }) {
      let _eqValue = $(filter).length - 1;

      $(wrapper).find(item).attr(_attrValue).find(_target).attr(_attrValue);

      $(wrapper)
        .find(item)
        .filter(filter)
        .removeAttr(_removeAttrValue)
        .find(_target)
        .removeAttr(_removeAttrValue);
      $(wrapper)
        .find(item)
        .filter(filter)
        .eq(_eqValue)
        .attr(_attrValue)
        .find(_target)
        .attr(_attrValue);

      if (
        $(wrapper)
          .find(item)
          .eq($(wrapper).find(item).length - 1)
          .hasClass('swiper-slide-visible')
      ) {
        $(wrapper)
          .find(item)
          .eq($(wrapper).find(item).length - 1)
          .removeAttr(_removeAttrValue)
          .find(_target)
          .removeAttr(_removeAttrValue);
      }
    }

    $('.category_swiper .btn_prev').on('click', function () {
      if (deviceType.toLowerCase() === 'pc') return;

      setTimeout(function () {
        handleSlideVisibleAttr({
          wrapper: '.category_swiper',
          item: '.swiper-slide',
          filter: '.swiper-slide-visible',
        });
      }, 10);
    });

    $('.category_swiper .btn_next').on('click', function () {
      if (deviceType.toLowerCase() === 'pc') return;

      setTimeout(function () {
        handleSlideVisibleAttr({
          wrapper: '.category_swiper',
          item: '.swiper-slide',
          filter: '.swiper-slide-visible',
        });
      }, 10);
    });
    /* // 2023-04 접근성 수정 끝 */

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setCarousel(_plugin) {
    var $prevBtn = _plugin.$nav.find('.owl-prev');
    var $nextBtn = _plugin.$nav.find('.owl-next');

    $prevBtn.wrapInner(
      '<em class="blind">' +
        langSet[lang]['slide']['prevStr'].toString() +
        '</em>',
    );
    $nextBtn.wrapInner(
      '<em class="blind">' +
        langSet[lang]['slide']['nextStr'].toString() +
        '</em>',
    );

    _plugin.$carousel.carouFredSel({
      responsive: true,
      height: 'variable',
      auto: {
        play: false,
      },
      prev: {
        button: $prevBtn,
      },
      next: {
        button: $nextBtn,
      },
      items: {
        start: _plugin.currentIndex,
        visible: 1,
        height: 'variable',
      },
      swipe: {
        onMouse: true,
        onTouch: true,
      },
      scroll: {
        fx: 'fade',
        duration: 0,
        items: 1,
        onAfter: function (data) {
          _plugin.currentIndex = _plugin.$carouselItem.index(
            data.items.visible,
          );

          _plugin.$carouselItem
            .removeClass('active')
            .eq(_plugin.currentIndex)
            .addClass('active');

          // Update
          updatePagn(_plugin);
          updateCarouselAria(_plugin);

          /* 2023-04 접근성 수정 시작 */
          _plugin.$carouselItem
            .attr({ 'aria-hidden': true, tabindex: -1 })
            .find('a, button')
            .attr({ 'aria-hidden': true, tabindex: -1 });
          _plugin.$carouselItem
            .eq(_plugin.currentIndex)
            .removeAttr('aria-hidden tabindex')
            .find('a, button')
            .removeAttr('aria-hidden tabindex');
          _plugin.$carouselItem
            .eq(_plugin.currentIndex)
            .find('.md_tit .md_link')
            .focus();
          /* // 2023-04 접근성 수정 끝 */
        },
      },
      onCreate: function () {
        _plugin.$pagn
          .find('.owl-pagn-ed')
          .text(setNum(_plugin.$carouselItem.length));
        _plugin.$carouselItem
          .removeClass('active')
          .eq(_plugin.currentIndex)
          .addClass('active');

        // Update
        updatePagn(_plugin);
        updateCarouselAria(_plugin);
      },
    });
  }

  function updateCarouselAria(_plugin) {
    switch (deviceType) {
      case 'PC':
        /* 2023-04 접근성 수정 시작 */
        _plugin.$carouselItem
          .attr({ 'aria-hidden': true, tabindex: -1 })
          .find('a, button')
          .attr({ 'aria-hidden': true, tabindex: -1 });
        _plugin.$carouselItem
          .eq(_plugin.currentIndex)
          .removeAttr('aria-hidden tabindex')
          .find('a, button')
          .removeAttr('aria-hidden tabindex');
        /* // 2023-04 접근성 수정 끝 */

        // _plugin.$pagn.is("[tabindex]") && _plugin.$pagn.removeAttr("tabindex");
        break;
      case 'TABLET':
      case 'MOBILE':
        // _plugin.$carouselItem.removeAttr("aria-hidden").find("a, button").removeAttr("tabindex");
        // _plugin.$pagn.not('[tabindex]') && _plugin.$pagn.attr('tabindex', 0);

        /* 2023-04 접근성 수정 시작 */
        _plugin.$carouselItem
          .attr({ 'aria-hidden': true, tabindex: -1 })
          .find('.md_link, .btn_arrow')
          .attr({ 'aria-hidden': true, tabindex: -1 });
        _plugin.$carouselItem
          .eq(_plugin.currentIndex)
          .removeAttr('aria-hidden tabindex')
          .find('.md_link, .btn_arrow')
          .removeAttr('aria-hidden tabindex');
        /* // 2023-04 접근성 수정 끝 */
        break;
      // default:
      //     break;
    }
  }

  // Update
  function updatePagn(_plugin) {
    var width =
      (100 / _plugin.$carouselItem.length) * (_plugin.currentIndex + 1);

    _plugin.$pagn.find('.owl-pagn-st').text(setNum(_plugin.currentIndex + 1));
    _plugin.$pagn.find('.owl-pagn-bar p').css('width', width + '%');
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  /* 2023-04 접근성 수정 시작 */
  function _checkClass() {
    const wrapper = 'category_swiper';
    const item = 'swiper-slide';
    const filter = 'swiper-slide-visible';

    const _attrValue = { tabindex: -1, 'aria-hidden': true };
    const _target = 'a, button';

    if (deviceType.toLowerCase() === 'pc') {
      // MO 기능입니다.
      return;
    }

    let _checkClass = setInterval(() => {
      if (
        $('.' + wrapper)
          .find($('.' + item))
          .hasClass(filter)
      ) {
        $('.' + wrapper)
          .find($('.' + item))
          .not('.' + filter)
          .attr(_attrValue)
          .find(_target)
          .attr(_attrValue);
        $('.' + wrapper)
          .find($('.' + filter))
          .eq($('.' + filter).length - 1)
          .attr(_attrValue)
          .find(_target)
          .attr(_attrValue);

        clearInterval(_checkClass);
      }
    }, 400);
  }
  /* // 2023-04 접근성 수정 끝 */

  this.init();
}
fo.addPlugin(heroCarousel);

/** Page | 인사이트 > 고객사례v1 | MP_customer_list_v1 */
/** MP_customer_list_v1 */
function MP_customer_list_v1(el, noEvent) {
  //event bind 중목막기 param추가 : 온유 차장님 추가 noEvent
  var _this = this;
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  var $hd = $('.M00_A');
  var mhTarget = ['.txt strong'];
  _proto = MP_customer_list_v1.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  if (noEvent) this.addEventFlag = true; //event bind 중목막기 param추가 : 온유 차장님 추가
  this.startIndex = 0;
  this.currentIndex = this.startIndex;
  this.$carousel = this.$el.find('.carousel');
  this.$carouselItem = this.$el.find('.carousel .li');
  this.$pagn = this.$el.find('.md_pagn');
  this.$nav = this.$el.find('.arrow-nav');
  this.$txtArea = this.$carousel.find('.txt');
  this.$navigation = this.$el.find('.navigation');
  this.$control = {
    wrap: this.$el.find('.customer_list_carousel .md_play'),
    playBtn: this.$el.find('.customer_list_carousel .md_btn_play'),
    stopBtn: this.$el.find('.customer_list_carousel .md_btn_stop'),
  };
  this.$searchBox = {
    wrap: this.$el.find('.insight_sch'),
    cate: this.$el.find('.category_wrap'),
    toggleBtn: this.$el.find('.inner_sch_form .toggle_btn'),
  };
  // this.$customer_ItemList = this.$el.find(".cont_list .item");
  this.$item_list_wrap = this.$el.find('.list_wrap');
  this.$itemListWrap_cont = this.$item_list_wrap.find('.cont_list');
  this.$list_item = this.$itemListWrap_cont.find('.item');
  this.$itemList_btn = this.$list_item.find('.list_btn');
  this.$itmeList_hoverCont = this.$list_item.find('section');
  this.$hoverCont_btnList = this.$itmeList_hoverCont.find('ul li');
  this.$hoverCont_button = this.$hoverCont_btnList.find('a');
  this.mhItems;

  function init_vars() {
    _proto = MP_customer_list_v1.prototype;
    this.$el = el;
    this.data = this.$el.data();
    this.addEventFlag = false;
    if (noEvent) this.addEventFlag = true; //event bind 중목막기 param추가 : 온유 차장님 추가
    this.startIndex = 0;
    this.currentIndex = this.startIndex;
    this.$carousel = this.$el.find('.carousel');
    this.$carouselItem = this.$el.find('.carousel .li');
    this.$pagn = this.$el.find('.md_pagn');
    this.$nav = this.$el.find('.arrow-nav');
    this.$txtArea = this.$carousel.find('.txt');
    this.$navigation = this.$el.find('.navigation');
    this.$control = {
      wrap: this.$el.find('.customer_list_carousel .md_play'),
      playBtn: this.$el.find('.customer_list_carousel .md_btn_play'),
      stopBtn: this.$el.find('.customer_list_carousel .md_btn_stop'),
    };
    this.$searchBox = {
      wrap: this.$el.find('.insight_sch'),
      cate: this.$el.find('.category_wrap'),
      toggleBtn: this.$el.find('.inner_sch_form .toggle_btn'),
    };
    // this.$customer_ItemList = this.$el.find(".cont_list .item");
    this.$item_list_wrap = this.$el.find('.list_wrap');
    this.$itemListWrap_cont = this.$item_list_wrap.find('.cont_list');
    this.$list_item = this.$itemListWrap_cont.find('.item');
    this.$itemList_btn = this.$list_item.find('.list_btn');
    this.$itmeList_hoverCont = this.$list_item.find('section');
    this.$hoverCont_btnList = this.$itmeList_hoverCont.find('ul li');
    this.$hoverCont_button = this.$hoverCont_btnList.find('a');
    this.mhItems;
    _this = this;
    lang = $('html').attr('lang') || 'en';
    $hd = $('.M00_A');
    mhTarget = ['.txt strong'];
  }

  _proto.init = function () {
    //console.log("init:: MP_customer_list_v1")

    // Device type check
    deviceType = checkDeviceType();

    // Set visual txt break
    // this.setTxtBreak();

    if (this.$control.wrap.length > 0) {
      if (this.$carouselItem.length < 2) {
        this.$nav.remove();
        this.$pagn.remove();
        this.$navigation.remove();
      } else {
        // Set carousel
        setCarousel(this);
      }
    }

    item_txtHeight(this);

    setBackgroundImages();

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarouselAria(_this);
        item_txtHeight(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$carouselItem.on({
      focusin: function (e) {
        switch (deviceType) {
          case 'PC':
            //
            break;
          case 'TABLET':
          case 'MOBILE':
            var isPagnToSlide = $(e.relatedTarget).is(_this.$pagn);

            if (!isPagnToSlide) {
              var currentIndex = _this.$carouselItem.index(e.delegateTarget);
            } else {
              var currentIndex = 0;
              _this.$carouselItem.eq(0).find('a, button').first().focus();
            }

            _this.$carousel.trigger('slideTo', [currentIndex, 0, true]);
            break;
          // default:
          //     break;
        }
      },
      focusout: function (e) {
        switch (deviceType) {
          case 'PC':
            //
            break;
          case 'TABLET':
          case 'MOBILE':
            var isSameSequence = $(e.delegateTarget).find(
              e.relatedTarget,
            ).length;
            var isLastSequence = $(e.delegateTarget).is(
              _this.$carouselItem.last(),
            );

            if (!isSameSequence && isLastSequence) {
              _this.$pagn.focus();
            }
            break;
          // default:
          //     break;
        }
      },
    });

    _this.$control.stopBtn.on('click', function (e) {
      e.preventDefault();
      sequenceControl(_this, 'STOP', true);
      return false;
    });

    _this.$control.playBtn.on('click', function (e) {
      e.preventDefault();
      sequenceControl(_this, 'PLAY', true);
      return false;
    });

    _this.$searchBox.toggleBtn.on('click', function () {
      var $this = $(this);
      $this.toggleClass('act');
      _this.$searchBox.cate.slideToggle('fast').toggleClass('act');
      if ($this.hasClass('act')) {
        $this.attr('aria-expanded', 'false');
      } else {
        $this.attr('aria-expanded', 'true');
      }
    });

    //mouseenter mouseleave keydown focusin focusout
    _this.$list_item.on('mouseenter focusin', function (e) {
      $(this).addClass('on');
    });
    _this.$list_item.on('mouseleave focusout', function (e) {
      $(this).removeClass('on');
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();

      setBackgroundImages();
    });

    $(window).on('scroll', function (event) {
      setFixScroll(_this);
    });
  };

  _proto.initWithoutCarousel = function () {
    init_vars();
    deviceType = checkDeviceType();
    item_txtHeight(this);

    setBackgroundImages();
    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        item_txtHeight(_this);
      }
    }, 100);

    // Event binding
    this.addEvent();
  };

  /* item : .txt strong 주변 텍스트 높이 동일하게 2줄 이상이면 ..처리 되면서 텍스트 높이 동일 */
  function sortNumber(a, b) {
    return a - b;
  }

  function item_txtHeight(_plugin) {
    _plugin.$list_item.find('.txt strong').css('height', 'auto');
    var arr_heights = new Array();
    _plugin.$list_item.each(function (i) {
      // $(this).find('.txt strong').css("height", 'auto');
      arr_heights.push($(this).find('.txt strong').outerHeight());
      arr_heights = arr_heights.sort(sortNumber).reverse();
    });
    var maxHeight = Math.max.apply(null, arr_heights);
    _plugin.$list_item.find('.txt strong').css('height', maxHeight);
  }
  /* //item : .txt strong 주변 텍스트 높이 동일하게 2줄 이상이면 ..처리 되면서 텍스트 높이 동일 */

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setFixScroll(_plugin) {
    var headerHeight = $hd.height() - -1 * parseInt($hd.css('top'));
    var thisTop = parseInt(_plugin.$searchBox.wrap.offset().top);
    if ($(window).scrollTop() >= thisTop - headerHeight) {
      if (!_plugin.$searchBox.wrap.hasClass('fixed')) {
        if ($('.empty_box').length == 0) {
          _plugin.$searchBox.wrap.before('<div class="empty_box"></div>');
          $('.empty_box').height(_plugin.$searchBox.wrap.innerHeight());
        }
        _plugin.$searchBox.wrap.addClass('fixed');
      }
    }
    if (
      $('.empty_box').length > 0 &&
      $(window).scrollTop() <=
        $('.empty_box').offset().top - $hd.innerHeight() / 2
    ) {
      $('.empty_box').height(_plugin.$searchBox.wrap.innerHeight());
      $('.empty_box').remove();
      _plugin.$searchBox.wrap.removeClass('fixed');
    }
  }

  function setCarousel(_plugin) {
    var $prevBtn = _plugin.$el.find('.arrow-prev');
    var $nextBtn = _plugin.$el.find('.arrow-next');

    _plugin.$carousel.carouFredSel({
      responsive: true,
      height: 'variable',
      auto: {
        play: true,
        timeoutDuration: 10000,
      },
      prev: {
        button: $prevBtn,
      },
      next: {
        button: $nextBtn,
      },
      items: {
        start: _plugin.currentIndex,
        visible: 1,
        height: 'variable',
      },
      pagination: {
        container: _plugin.$pagn,
      },
      swipe: {
        onMouse: true,
        onTouch: true,
      },
      scroll: {
        fx: 'fade',
        duration: 0,
        items: 1,
        onAfter: function (data) {
          _plugin.currentIndex = _plugin.$carouselItem.index(
            data.items.visible,
          );
          _plugin.$carouselItem
            .removeClass('active')
            .eq(_plugin.currentIndex)
            .addClass('active');
          // Update
          // updateControl(_plugin);
          updateCarouselAria(_plugin);
          if (_plugin.$control.wrap.hasClass('on')) {
            sequenceControl(_plugin, 'STOP', true);
          }
          var currentItem = data.items.visible; //current slide
          if (currentItem.hasClass('white')) {
            _plugin.$nav.addClass('indi_white');
            _plugin.$navigation.addClass('indi_white');
          } else {
            _plugin.$nav.removeClass('indi_white');
            _plugin.$navigation.removeClass('indi_white');
          }
        },
      },
      onCreate: function (data) {
        _plugin.$carouselItem
          .removeClass('active')
          .eq(_plugin.currentIndex)
          .addClass('active');

        $prevBtn.wrapInner(
          '<em class="blind">' +
            langSet[lang]['slide']['prevStr'].toString() +
            '</em>',
        );
        $nextBtn.wrapInner(
          '<em class="blind">' +
            langSet[lang]['slide']['nextStr'].toString() +
            '</em>',
        );

        var currentItem = data.items;

        if (currentItem.hasClass('white')) {
          _plugin.$nav.addClass('indi_white');
          _plugin.$navigation.addClass('indi_white');
        } else {
          _plugin.$nav.removeClass('indi_white');
          _plugin.$navigation.removeClass('indi_white');
        }

        // Update
        updateCarouselAria(_plugin);
      },
    });
  }

  function updateCarouselAria(_plugin) {
    _plugin.$carouselItem
      .attr('aria-hidden', true)
      .find('a, button')
      .attr('tabindex', -1);
    _plugin.$carouselItem
      .eq(_plugin.currentIndex)
      .removeAttr('aria-hidden')
      .find('a, button')
      .removeAttr('tabindex');
  }

  // Update Control
  function updateControl(_plugin) {
    if (!_plugin.$control.wrap.hasClass('on')) {
      sequenceControl(_plugin, 'PLAY', false);
    } else {
      sequenceControl(_plugin, 'STOP', false);
    }
  }

  // Sequence Control: play, stop
  function sequenceControl(_plugin, option, changeFocus) {
    switch (option) {
      case 'PLAY':
        _plugin.$carousel.trigger('isPaused', function () {
          _plugin.$control.wrap.removeClass('on');
          _plugin.$carousel.trigger('play', true);
          _plugin.$carouselItem.find('video').trigger('play');

          changeFocus && _plugin.$control.stopBtn.focus();
        });
        break;
      case 'STOP':
        _plugin.$carousel.trigger('isScrolling', function () {
          _plugin.$control.wrap.addClass('on');
          _plugin.$carousel.trigger('pause', true);
          _plugin.$carouselItem.find('video').trigger('pause');

          changeFocus && _plugin.$control.playBtn.focus();
        });
        break;
      // default:
      //     break;
    }
  }

  // item background 이미지 적용 , 모바일 이미지 자동 변환
  function setBackgroundImages() {
    const items = document.querySelectorAll('.item');

    items.forEach((item) => {
      const dataImg = item.getAttribute('data-img');
      if (item.classList.contains('type2')) {
        let backgroundImg = dataImg;

        if (!item.classList.contains('no_mb')) {
          const imageExtension = backgroundImg.match(/\.(jpg|jpeg|png)$/i); // 이미지 확장자 확인

          if (window.innerWidth <= 480) {
            // _mo가 붙어있는 경우 제거
            if (imageExtension && backgroundImg.includes('_mo')) {
              backgroundImg = backgroundImg.replace(
                /_mo\.jpg$|_mo\.png$/,
                '.$1',
              ); // _mo 제거
            }
          } else if (window.innerWidth <= 1023) {
            // _mo가 없으면 추가
            if (imageExtension && !backgroundImg.includes('_mo')) {
              backgroundImg = backgroundImg.replace(
                imageExtension[0],
                `_mo${imageExtension[0]}`,
              ); // _mo 추가
            }
          }
        }

        item.style.backgroundImage = `url(${backgroundImg})`;
      }
    });
  }

  this.init();
}
fo.addPlugin(MP_customer_list_v1);

/** Page | 오퍼링 > 인사이트 리스트 | MP_insight_list */
/** MP_insight_list */
function MP_insight_list(el) {
  _proto = MP_insight_list.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.startIndex = 0;
  this.currentIndex = this.startIndex;
  this.$carousel = this.$el.find('.carousel');
  this.$carouselItem = this.$el.find('.carousel .li');
  this.$pagn = this.$el.find('.md_pagn');
  this.$nav = this.$el.find('.arrow-nav');
  this.$txtArea = this.$carousel.find('.txt');
  this.$visualArea = this.$carousel.find(
    '.visual_img .img_p, .visual_img .img_m',
  );
  this.$control = {
    wrap: this.$el.find('.md_play'),
    playBtn: this.$el.find('.md_btn_play'),
    stopBtn: this.$el.find('.md_btn_stop'),
  };

  this.$itemWrap = this.$el.find('.cont_list');
  this.$ListItem = this.$itemWrap.find('.item');

  this.$searchBox = {
    wrap: this.$el.find('.insight_sch'),
    cate: this.$el.find('.category_wrap'),
    toggleBtn: this.$el.find('.inner_sch_form .toggle_btn'),
  };

  var _this = this;
  var deviceType; // "PC", "MOBILE"
  var mhTarget = ['.md_tit']; //md_txt
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  var $hd = $('.M00_A');

  _proto.init = function () {
    //console.log("init:: MP_insight_list")

    // Device type check
    deviceType = checkDeviceType();

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    // Set visual img
    this.setVisualImg();
    // Set visual txt break
    this.setTxtBreak();

    if (this.$carouselItem.length < 2) {
      this.$nav.remove();
      this.$pagn.remove();
      return;
    }

    // Set carousel
    setCarousel(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarouselAria(_this);
        updateMhItem(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }

    /**20220826 모바일일때 검색 카테고리 컨텐츠 업상태 */
    if (deviceType == 'MOBILE') {
      _this.$searchBox.toggleBtn.addClass('act').attr('aria-expanded', 'false');
      _this.$searchBox.cate.addClass('act');
    }
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  _proto.setTxtBreak = function () {
    var $title = this.$txtArea.find('.tit_b');
    $title.lettering('lines');
    $title.find('span').wrapInner('<i></i>');
  };

  _proto.addEvent = function () {
    _this.$carouselItem.on({
      focusin: function (e) {
        switch (deviceType) {
          case 'PC':
            //
            break;
          case 'MOBILE':
            var isPagnToSlide = $(e.relatedTarget).is(_this.$pagn);

            if (!isPagnToSlide) {
              var currentIndex = _this.$carouselItem.index(e.delegateTarget);
            } else {
              var currentIndex = 0;
              _this.$carouselItem.eq(0).find('a, button').first().focus();
            }

            _this.$carousel.trigger('slideTo', [currentIndex, 0, true]);
            break;
          // default:
          //     break;
        }
      },
      focusout: function (e) {
        switch (deviceType) {
          case 'PC':
            //
            break;
          case 'MOBILE':
            var isSameSequence = $(e.delegateTarget).find(
              e.relatedTarget,
            ).length;
            var isLastSequence = $(e.delegateTarget).is(
              _this.$carouselItem.last(),
            );

            if (!isSameSequence && isLastSequence) {
              _this.$pagn.focus();
            }
            break;
          // default:
          //     break;
        }
      },
    });

    _this.$control.stopBtn.on('click', function (e) {
      e.preventDefault();
      sequenceControl(_this, 'STOP', true);
      return false;
    });

    _this.$control.playBtn.on('click', function (e) {
      e.preventDefault();
      sequenceControl(_this, 'PLAY', true);
      return false;
    });

    _this.$searchBox.toggleBtn.on('click', function () {
      var $this = $(this);
      $this.toggleClass('act');
      _this.$searchBox.cate.slideToggle('fast').toggleClass('act');
      if ($this.hasClass('act')) {
        $this.attr('aria-expanded', 'false');
      } else {
        $this.attr('aria-expanded', 'true');
      }
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });

    $(window).on('scroll', function (event) {
      setFixScroll(_this);
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth < 768) {
      return 'MOBILE';
    }
  }

  function setFixScroll(_plugin) {
    var headerHeight = $hd.height() - -1 * parseInt($hd.css('top'));
    var thisTop = parseInt(_plugin.$searchBox.wrap.offset().top);

    if ($(window).scrollTop() >= thisTop - headerHeight) {
      if (!_plugin.$searchBox.wrap.hasClass('fixed')) {
        if ($('.empty_box').length == 0) {
          _plugin.$searchBox.wrap.before('<div class="empty_box"></div>');
          $('.empty_box').height(_plugin.$searchBox.wrap.innerHeight());
        }
        _plugin.$searchBox.wrap.addClass('fixed');
      }
    }

    if (
      $('.empty_box').length > 0 &&
      $(window).scrollTop() <=
        $('.empty_box').offset().top - $hd.innerHeight() / 2
    ) {
      $('.empty_box').height(_plugin.$searchBox.wrap.innerHeight());
      $('.empty_box').remove();
      _plugin.$searchBox.wrap.removeClass('fixed');
    }
  }

  function setCarousel(_plugin) {
    var $prevBtn = _plugin.$el.find('.arrow-prev');
    var $nextBtn = _plugin.$el.find('.arrow-next');

    _plugin.$carousel.carouFredSel({
      responsive: true,
      height: 'variable',
      auto: {
        play: true,
        timeoutDuration: 5000,
      },
      prev: {
        button: $prevBtn,
      },
      next: {
        button: $nextBtn,
      },
      items: {
        start: _plugin.currentIndex,
        visible: 1,
        height: 'variable',
      },
      pagination: {
        container: _plugin.$pagn,
      },
      swipe: {
        onMouse: true,
        onTouch: true,
      },
      scroll: {
        fx: 'fade',
        duration: 0,
        items: 1,
        onAfter: function (data) {
          _plugin.currentIndex = _plugin.$carouselItem.index(
            data.items.visible,
          );
          _plugin.$carouselItem
            .removeClass('active')
            .eq(_plugin.currentIndex)
            .addClass('active');

          // Update
          updateControl(_plugin);
          updateCarouselAria(_plugin);

          if (_plugin.$control.wrap.hasClass('on')) {
            sequenceControl(_plugin, 'STOP', true);
          }

          /* 2023-04 접근성 수정 시작 */
          _plugin.$carouselItem
            .attr({ 'aria-hidden': true, tabindex: -1 })
            .find('a, button')
            .attr({ 'aria-hidden': true, tabindex: -1 });
          _plugin.$carouselItem
            .eq(_plugin.currentIndex)
            .removeAttr('aria-hidden tabindex')
            .find('a, button')
            .removeAttr('aria-hidden tabindex');
          /* // 2023-04 접근성 수정 끝 */
        },
      },
      onCreate: function () {
        _plugin.$carouselItem
          .removeClass('active')
          .eq(_plugin.currentIndex)
          .addClass('active');

        $prevBtn.wrapInner(
          '<em class="blind">' +
            langSet[lang]['slide']['prevStr'].toString() +
            '</em>',
        );
        $nextBtn.wrapInner(
          '<em class="blind">' +
            langSet[lang]['slide']['nextStr'].toString() +
            '</em>',
        );

        // Update
        updateCarouselAria(_plugin);

        /* 2023-04 접근성 수정 시작 */
        _plugin.$carouselItem
          .attr({ 'aria-hidden': true, tabindex: -1 })
          .find('a, button')
          .attr({ 'aria-hidden': true, tabindex: -1 });
        _plugin.$carouselItem
          .filter('.active')
          .removeAttr('aria-hidden tabindex')
          .find('a, button')
          .removeAttr('aria-hidden tabindex');
        /* // 2023-04 접근성 수정 끝 */
      },
    });
  }

  function updateCarouselAria(_plugin) {
    switch (deviceType) {
      case 'PC':
        _plugin.$carouselItem
          .attr('aria-hidden', true)
          .find('a, button')
          .attr('tabindex', -1);
        _plugin.$carouselItem
          .eq(_plugin.currentIndex)
          .removeAttr('aria-hidden')
          .find('a, button')
          .removeAttr('tabindex');
        _plugin.$pagn.is('[tabindex]') && _plugin.$pagn.removeAttr('tabindex');
        break;
      case 'MOBILE':
        /* 2023-04 접근성 수정 시작 */
        _plugin.$carouselItem
          .removeAttr('aria-hidden')
          .find('a, button')
          .removeAttr('tabindex');
        /* // 2023-04 접근성 수정 끝 */
        break;
      // default:
      //     break;
    }
  }

  // Update Control
  function updateControl(_plugin) {
    if (!_plugin.$control.wrap.hasClass('on')) {
      sequenceControl(_plugin, 'PLAY', false);
    } else {
      sequenceControl(_plugin, 'STOP', false);
    }
  }

  // Sequence Control: play, stop
  function sequenceControl(_plugin, option, changeFocus) {
    switch (option) {
      case 'PLAY':
        _plugin.$carousel.trigger('isPaused', function () {
          _plugin.$control.wrap.removeClass('on');
          _plugin.$carousel.trigger('play', true);
          _plugin.$carouselItem.find('video').trigger('play');

          changeFocus && _plugin.$control.stopBtn.focus();
        });
        break;
      case 'STOP':
        _plugin.$carousel.trigger('isScrolling', function () {
          _plugin.$control.wrap.addClass('on');
          _plugin.$carousel.trigger('pause', true);
          _plugin.$carouselItem.find('video').trigger('pause');

          changeFocus && _plugin.$control.playBtn.focus();
        });
        break;
      // default:
      //     break;
    }
  }

  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$ListItem.find(target);
    });
  }

  // Update Match Height Item
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };

    switch (deviceType) {
      case 'PC':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        break;
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      // default:
      //     break;
    }
  }

  this.init();
}
fo.addPlugin(MP_insight_list);

/** Page | 오퍼링 > 동영상 리스트 | MP_video_list */
/** MP_video_list */
function MP_video_list(el) {
  _proto = MP_video_list.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.startIndex = 0;
  this.currentIndex = this.startIndex;
  /**20221101 리스트 텍스트 길이 추가 */
  this.$detailList = this.$el.find('.MP_video_list_cont .list_wrap .item');
  this.$carousel = this.$el.find('.carousel');
  this.$carouselItem = this.$el.find('.carousel .li');
  this.$pagn = this.$el.find('.md_pagn');
  this.$nav = this.$el.find('.arrow-nav');
  this.$txtArea = this.$carousel.find('.txt_cont');
  this.$visualArea = this.$carousel.find(
    '.visual_img .img_p, .visual_img .img_m',
  );
  this.$control = {
    wrap: this.$el.find('.md_play'),
    playBtn: this.$el.find('.md_btn_play'),
    stopBtn: this.$el.find('.md_btn_stop'),
  };
  this.$searchBox = {
    wrap: this.$el.find('.cate_sch'),
    cate: this.$el.find('.category_wrap'),
    toggleBtn: this.$el.find('.inner_sch_form .toggle_btn'),
  };

  var _this = this;
  var deviceType; // "PC", "TABLET", "MOBILE"
  /**20221101 리스트 텍스트 길이 추가 */
  var mhTarget = ['.md_tit', '.md_txt'];
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';
  var $hd = $('.M00_A');

  _proto.init = function () {
    //console.log("init:: MP_video_list")

    // Device type check
    deviceType = checkDeviceType();

    // Set visual img
    this.setVisualImg();
    // Set visual txt break
    this.setTxtBreak();

    /**20221101 리스트 텍스트 길이 추가 */
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    if (this.$carouselItem.length < 2) {
      this.$nav.remove();
      this.$pagn.remove();
      return;
    }

    // Set carousel
    setCarousel(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarouselAria(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }

    /**20220826 모바일일때 검색 카테고리 컨텐츠 업상태 */
    if (deviceType == 'MOBILE') {
      _this.$searchBox.toggleBtn.addClass('act').attr('aria-expanded', 'false');
      _this.$searchBox.cate.addClass('act');
    }
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  _proto.setTxtBreak = function () {
    var $title = this.$txtArea.find('.tit_b');

    $title.lettering('lines');
    $title.find('span').wrapInner('<i></i>');
  };

  _proto.addEvent = function () {
    _this.$carouselItem.on({
      focusin: function (e) {
        switch (deviceType) {
          case 'PC':
            //
            break;
          case 'TABLET':
          case 'MOBILE':
            var isPagnToSlide = $(e.relatedTarget).is(_this.$pagn);

            if (!isPagnToSlide) {
              var currentIndex = _this.$carouselItem.index(e.delegateTarget);
            } else {
              var currentIndex = 0;
              _this.$carouselItem.eq(0).find('a, button').first().focus();
            }

            _this.$carousel.trigger('slideTo', [currentIndex, 0, true]);
            break;
          // default:
          //     break;
        }
      },
      focusout: function (e) {
        switch (deviceType) {
          case 'PC':
            //
            break;
          case 'TABLET':
          case 'MOBILE':
            var isSameSequence = $(e.delegateTarget).find(
              e.relatedTarget,
            ).length;
            var isLastSequence = $(e.delegateTarget).is(
              _this.$carouselItem.last(),
            );

            if (!isSameSequence && isLastSequence) {
              _this.$pagn.focus();
            }
            break;
          // default:
          //     break;
        }
      },
    });

    _this.$control.stopBtn.on('click', function (e) {
      e.preventDefault();
      sequenceControl(_this, 'STOP', true);
      return false;
    });

    _this.$control.playBtn.on('click', function (e) {
      e.preventDefault();
      sequenceControl(_this, 'PLAY', true);
      return false;
    });

    _this.$searchBox.toggleBtn.on('click', function () {
      var $this = $(this);
      $this.toggleClass('act');
      _this.$searchBox.cate.slideToggle('fast').toggleClass('act');
      if ($this.hasClass('act')) {
        $this.attr('aria-expanded', 'false');
      } else {
        $this.attr('aria-expanded', 'true');
      }
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });

    $(window).on('scroll', function (event) {
      setFixScroll(_this);
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setFixScroll(_plugin) {
    var headerHeight = $hd.height() - -1 * parseInt($hd.css('top'));
    var thisTop = parseInt(_plugin.$searchBox.wrap.offset().top);

    if ($(window).scrollTop() >= thisTop - headerHeight) {
      if (!_plugin.$searchBox.wrap.hasClass('fixed')) {
        if ($('.empty_box').length == 0) {
          _plugin.$searchBox.wrap.before('<div class="empty_box"></div>');
          $('.empty_box').height(_plugin.$searchBox.wrap.innerHeight());
        }
        _plugin.$searchBox.wrap.addClass('fixed');
      }
      //_plugin.$searchBox.wrap.css('top' , headerHeight);
    } else {
      /*
                  $(".empty_box").remove();
                  _plugin.$searchBox.wrap.removeClass("fixed");
                  _plugin.$searchBox.wrap.css('top' , 0); */
    }

    if (
      $('.empty_box').length > 0 &&
      $(window).scrollTop() <=
        $('.empty_box').offset().top - $hd.innerHeight() / 2
    ) {
      $('.empty_box').height(_plugin.$searchBox.wrap.innerHeight());
      $('.empty_box').remove();
      _plugin.$searchBox.wrap.removeClass('fixed');
      //_plugin.$searchBox.wrap.css('top' , 0);
    }
  }

  function setCarousel(_plugin) {
    var $prevBtn = _plugin.$el.find('.arrow-prev');
    var $nextBtn = _plugin.$el.find('.arrow-next');

    _plugin.$carousel.carouFredSel({
      responsive: true,
      height: 'variable',
      auto: {
        play: true,
        timeoutDuration: 5000,
      },
      prev: {
        button: $prevBtn,
      },
      next: {
        button: $nextBtn,
      },
      items: {
        start: _plugin.currentIndex,
        visible: 1,
        height: 'variable',
      },
      pagination: {
        container: _plugin.$pagn,
      },
      swipe: {
        onMouse: true,
        onTouch: true,
      },
      scroll: {
        fx: 'fade',
        duration: 0,
        items: 1,
        onAfter: function (data) {
          _plugin.currentIndex = _plugin.$carouselItem.index(
            data.items.visible,
          );

          _plugin.$carouselItem
            .eq(_plugin.currentIndex)
            .find('video').currentTime = 0;
          _plugin.$carouselItem
            .removeClass('active')
            .eq(_plugin.currentIndex)
            .addClass('active');

          // Update
          updateControl(_plugin);
          updateCarouselAria(_plugin);

          if (_plugin.$control.wrap.hasClass('on')) {
            sequenceControl(_plugin, 'STOP', true);
          }

          /* 2023-04 접근성 수정 시작 */
          _plugin.$carouselItem
            .attr({ 'aria-hidden': true, tabindex: -1 })
            .find('a, button')
            .attr({ 'aria-hidden': true, tabindex: -1 });
          _plugin.$carouselItem
            .eq(_plugin.currentIndex)
            .removeAttr('aria-hidden tabindex')
            .find('a, button')
            .removeAttr('aria-hidden tabindex');
          /* // 2023-04 접근성 수정 끝 */
        },
      },
      onCreate: function () {
        _plugin.$carouselItem
          .removeClass('active')
          .eq(_plugin.currentIndex)
          .addClass('active');

        $prevBtn.wrapInner(
          '<em class="blind">' +
            langSet[lang]['slide']['prevStr'].toString() +
            '</em>',
        );
        $nextBtn.wrapInner(
          '<em class="blind">' +
            langSet[lang]['slide']['nextStr'].toString() +
            '</em>',
        );

        // Update
        updateCarouselAria(_plugin);

        /* 2023-04 접근성 수정 시작 */
        _plugin.$carouselItem
          .attr({ 'aria-hidden': true, tabindex: -1 })
          .find('a, button')
          .attr({ 'aria-hidden': true, tabindex: -1 });
        _plugin.$carouselItem
          .filter('.active')
          .removeAttr('aria-hidden tabindex')
          .find('a, button')
          .removeAttr('aria-hidden tabindex');
        /* // 2023-04 접근성 수정 끝 */
      },
    });
  }

  function updateCarouselAria(_plugin) {
    switch (deviceType) {
      case 'PC':
        _plugin.$carouselItem
          .attr('aria-hidden', true)
          .find('a, button')
          .attr('tabindex', -1);
        _plugin.$carouselItem
          .eq(_plugin.currentIndex)
          .removeAttr('aria-hidden')
          .find('a, button')
          .removeAttr('tabindex');
        _plugin.$pagn.is('[tabindex]') && _plugin.$pagn.removeAttr('tabindex');
        break;
      case 'TABLET':
      case 'MOBILE':
        _plugin.$carouselItem
          .removeAttr('aria-hidden')
          .find('a, button')
          .removeAttr('tabindex');
        /* 2023-04 접근성 수정 시작 */
        // _plugin.$pagn.not('[tabindex]') && _plugin.$pagn.attr('tabindex', 0);
        _plugin.$pagn.is('[tabindex]') && _plugin.$pagn.removeAttr('tabindex');
        /* // 2023-04 접근성 수정 끝 */
        break;
      // default:
      //     break;
    }
  }

  // Update Control
  function updateControl(_plugin) {
    if (!_plugin.$control.wrap.hasClass('on')) {
      sequenceControl(_plugin, 'PLAY', false);
    } else {
      sequenceControl(_plugin, 'STOP', false);
    }
  }

  // Sequence Control: play, stop
  function sequenceControl(_plugin, option, changeFocus) {
    switch (option) {
      case 'PLAY':
        _plugin.$carousel.trigger('isPaused', function () {
          _plugin.$control.wrap.removeClass('on');
          _plugin.$carousel.trigger('play', true);
          _plugin.$carouselItem.find('video').trigger('play');

          changeFocus && _plugin.$control.stopBtn.focus();
        });
        break;
      case 'STOP':
        _plugin.$carousel.trigger('isScrolling', function () {
          _plugin.$control.wrap.addClass('on');
          _plugin.$carousel.trigger('pause', true);
          _plugin.$carouselItem.find('video').trigger('pause');

          changeFocus && _plugin.$control.playBtn.focus();
        });
        break;
      // default:
      //     break;
    }
  }

  /**20221101 리스트 텍스트 길이 추가 */
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$detailList.find(target);
    });
  }

  /**20221101 리스트 텍스트 길이 추가 */
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };

    switch (deviceType) {
      case 'PC':
      case 'TABLET':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        //alert(1);

        break;
      // default:
      //     break;
    }
  }

  this.init();
}
fo.addPlugin(MP_video_list);

/** Page | real_summit(hardCoding) | MP_real_summit_2024 */
/** MP_real_summit_2024 */
function MP_real_summit_2024(el) {
  _proto = MP_real_summit_2024.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  /* KV video */
  this.$kv_main = this.$el.find('.kv_main');
  this.$video = this.$el.find('.kv_main video');
  this.$VideoControl = {
    wrap: this.$el.find('.video_control_wrap'),
    playBtn: this.$el.find('.btn_play'),
  };
  /* //KV video */

  /** 슬라이드 */
  this.$carousel = this.$el.find('.M120_B_cont .owl-carousel');
  this.$carousel_2 = this.$el.find('.real2024-slide2_cont .owl-carousel');
  this.$pagn = this.$el.find('.owl-pagn');
  this.$control = {
    wrap: this.$el.find('.md_play'),
    playBtn: this.$el.find('.md_btn_play'),
    stopBtn: this.$el.find('.md_btn_stop'),

    prevBtn: this.$el.find('.owl-prev'),
    nextBtn: this.$el.find('.owl-next'),
  };

  /** 모달 유튜브 팝업 */
  this.$real_youtubeCont = this.$el.find('.real2024-videoCont');
  this.$real_popBtn = this.$real_youtubeCont.find('a');
  this.$real_popCont = this.$el.find('.slidePopup');
  this.$real_youtubePlayCont = this.$real_popCont.find('.video_box');
  this.$real_popCloseBtn = this.$real_popCont.find('.swiper-closeBtn');

  var _this = this;
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';
  var mhTarget = ['.tit-area', '.txt-area'];

  this.$M125_A = el.find('.M125_A');
  this.$M120_B = el.find('.M120_B');
  let $hd = $('.M00_A');
  let currentUrl = location.href;
  let param_Url_agenda = currentUrl.indexOf('#agenda');
  let param_Url_keynote = currentUrl.indexOf('#keynote');

  _proto.init = function () {
    // console.log("init:: MP_real_summit_2024")
    deviceType = checkDeviceType();

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }

    setCarousel(_this);

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();

      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateMhItem(_this);
      }
    }, 100);

    scrollLoad();
  };

  _proto.addEvent = function () {
    /* KV video btn click event */
    _this.$VideoControl.playBtn.on('click', function (e) {
      e.preventDefault();
      if ($(this).hasClass('pause')) {
        _this.$video.get(0).pause();
        if (_this.$video.length > 1) {
          _this.$video.get(1).pause();
        }
        $(this).removeClass('pause').addClass('play');
        $(this)
          .find('button span')
          .text(langSet[lang]['slide']['playStr'].toString());
      } else {
        _this.$video.get(0).play();
        if (_this.$video.length > 1) {
          _this.$video.get(1).play();
        }
        $(this).removeClass('play').addClass('pause');
        $(this)
          .find('button span')
          .text(langSet[lang]['slide']['pauseStr'].toString());
      }
      return false;
    });
    /* //KV video btn click event */

    // 슬라이드 arrow 버튼
    _this.$control.prevBtn.on('click', function (e) {
      e.preventDefault();
      $(this)
        .closest('.owlSlide')
        .find('.owl-carousel')
        .trigger('prev.owl.carousel');
      return false;
    });
    _this.$control.nextBtn.on('click', function (e) {
      e.preventDefault();
      $(this)
        .closest('.owlSlide')
        .find('.owl-carousel')
        .trigger('next.owl.carousel');
      return false;
    });

    // 슬라이드 play,stop 버튼
    _this.$control.stopBtn.on('click', function (e) {
      e.preventDefault();
      sequenceControl(this, 'STOP', true);
      return false;
    });
    _this.$control.playBtn.on('click', function (e) {
      e.preventDefault();
      sequenceControl(this, 'PLAY', true);
      return false;
    });

    // 2024 모달 유튜브 팝업
    _this.$real_popBtn.on('click', function (e) {
      // console.log("this", this)
      e.preventDefault();
      var $this = $(this);
      var $videoSrc = $this.attr('data-src');
      var html = '';

      html +=
        "<iframe src='" +
        $videoSrc +
        "?autoplay=1&wmode=opaque&enablejsapi=1' style='display:block;' frameborder='0' title='vod' allow='accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture' allowfullscreen=''></iframe>";

      _this.$real_youtubePlayCont.html(html);
    });
    // 2024리얼 모달 유튜브 팝업 닫기 버튼 : 공통 스크립트외 버튼 기능
    _this.$real_popCloseBtn.on('click', function (e) {
      e.preventDefault();
      _this.$real_youtubePlayCont.find('iframe').remove();
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setCarousel(_plugin) {
    _plugin.$carousel.owlCarousel({
      autoplay: true,
      autoplayTimeout: 3000,
      autoplayHoverPause: true,
      stopOnHover: true,
      autoWidth: true,
      loop: true,
      nav: false,
      dots: false,
      items: 3,
      singleItem: true,
      responsive: {
        0: {
          margin: 10, //mobile
          center: true,
        },
        601: {
          margin: 16,
          center: false,
        },
        1023: {
          margin: 24,
          center: false,
        },
        1024: {
          autoplayHoverPause: true,
          stopOnHover: true,
          margin: 24, //pc
        },
      },
      onInitialized: function (e) {
        initPagn(e, _plugin);
      },
      onRefreshed: function (e) {
        // FIREFOX
        initPagn(e, _plugin);
      },
      onChanged: function (e) {
        updatePagn(e, _plugin);
      },
    });

    _plugin.$carousel_2.owlCarousel({
      autoplay: true,
      autoplayTimeout: 3000,
      autoplayHoverPause: true,
      stopOnHover: true,
      loop: true,
      nav: false,
      dots: false,
      items: 3,
      singleItem: true,
      responsive: {
        0: {
          items: 1,
          margin: 16, //mobile
          center: true,
        },
        768: {
          items: 3,
          margin: 16,
          center: true,
        },
        1023: {
          margin: 24,
          center: false,
        },
        1024: {
          autoplayHoverPause: true,
          stopOnHover: true,
          margin: 24, //pc
        },
      },
      onInitialized: function (e) {
        initPagn(e, _plugin);
        setAriaHidden(e, _plugin);
      },
      onRefreshed: function (e) {
        // FIREFOX
        initPagn(e, _plugin);
      },
      onChanged: function (e) {
        updatePagn(e, _plugin);
        setAriaHidden(e, _plugin);
      },
    });
  }

  function initPagn(e, _plugin) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;

    $(e.currentTarget)
      .next('.navigation')
      .find('.owl-pagn-bar p')
      .css('width', barWidth + '%');
    $(e.currentTarget)
      .next('.navigation')
      .find('.owl-pagn-st')
      .text(setNum(activeIndex));
    $(e.currentTarget)
      .next('.navigation')
      .find('.owl-pagn-ed')
      .text(setNum(e.item.count));
  }

  function updatePagn(e, _plugin) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;

    if (isNaN(activeIndex)) return;

    $(e.currentTarget)
      .next('.navigation')
      .find('.owl-pagn-bar p')
      .css('width', barWidth + '%');
    $(e.currentTarget)
      .next('.navigation')
      .find('.owl-pagn-st')
      .text(setNum(activeIndex));
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  function setAriaHidden(e, _plugin) {
    /** owlCarousel cloned 이슈 작업하면서 웹접근성 추가 작업 */
    $(e.target)
      .find('.owl-item')
      .add($(e.target).find('a'))
      .attr({ 'aria-hidden': true, tabindex: -1 });
    setTimeout(function () {
      var activeEls =
        deviceType === 'MOBILE'
          ? $(e.target).find('.owl-item.active.center')
          : $(e.target).find('.owl-item.active');
      activeEls
        .add(activeEls.find('a'))
        .attr({ 'aria-hidden': false, tabindex: '' });
    }, 100);
    /** //owlCarousel cloned 이슈  작업하면서 웹접근성 추가 작업*/
  }

  // Sequence Control: play, stop
  function sequenceControl($this, option, changeFocus) {
    switch (option) {
      case 'PLAY':
        $($this)
          .closest('.owlSlide')
          .find('.owl-carousel')
          .trigger('play.owl.autoplay');
        $($this).parent('.md_play').removeClass('on');
        break;
      case 'STOP':
        $($this)
          .closest('.owlSlide')
          .find('.owl-carousel')
          .trigger('stop.owl.autoplay');
        $($this).parent('.md_play').addClass('on');
        break;
      // default:
      //     break;
    }
  }

  /** 주변 아이템 텍스트 높이 동일하게 */
  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$carousel_2.find(target);
    });
  }
  // Update Match Height Item
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };
    for (idx = 0; idx < len; idx++) {
      _plugin.mhItems[idx].matchHeight(opt.init);
    }
  }

  function scrollLoad() {
    let hdOuter = $hd.outerHeight();
    var offsetAgenda = _this.$M125_A.offset().top - hdOuter - 120; //해당 위치 반환
    var offsetKeynote = _this.$M120_B.offset().top - hdOuter - 120; //해당 위치 반환

    if (param_Url_agenda != -1) {
      $('html, body').stop().animate({ scrollTop: offsetAgenda }, 1);
    } else if (param_Url_keynote != -1) {
      $('html, body').stop().animate({ scrollTop: offsetKeynote }, 1);
    }
  }

  this.init();
}
fo.addPlugin(MP_real_summit_2024);

/** Page | 오퍼링 > 웨비나 리스트 | MP_webinar_list */
/** MP_webinar_list */
function MP_webinar_list(el) {
  _proto = MP_webinar_list.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.startIndex = 0;
  this.currentIndex = this.startIndex;
  this.$carousel = this.$el.find('.carousel');
  this.$carouselItem = this.$el.find('.carousel .li');
  this.$pagn = this.$el.find('.md_pagn');
  this.$nav = this.$el.find('.arrow-nav');
  this.$txtArea = this.$carousel.find('.txt_cont');
  this.$visualArea = this.$carousel.find(
    '.visual_img .img_p, .visual_img .img_m',
  );
  this.$navigation = this.$el.find('.navigation');
  this.$control = {
    wrap: this.$el.find('.md_play'),
    playBtn: this.$el.find('.md_btn_play'),
    stopBtn: this.$el.find('.md_btn_stop'),
  };

  var _this = this;
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';
  var $hd = $('.M00_A');

  _proto.init = function () {
    //console.log("init:: MP_webinar_list")
    // Device type check
    deviceType = checkDeviceType();

    // Set visual img
    this.setVisualImg();

    // Set visual txt break
    this.setTxtBreak();

    if (this.$carouselItem.length < 2) {
      this.$carouselItem.addClass('active');
      this.$nav.remove();
      this.$pagn.remove();
      this.$control.wrap.remove();
      return;
    }

    // Set carousel
    setCarousel(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarouselAria(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  _proto.setTxtBreak = function () {
    var $title = this.$txtArea.find('.tit_b');
    $title.lettering('lines');
    $title.find('span').wrapInner('<i></i>');
  };

  _proto.addEvent = function () {
    _this.$carouselItem.on({
      focusin: function (e) {
        switch (deviceType) {
          case 'PC':
            //
            break;
          case 'TABLET':
          case 'MOBILE':
            var isPagnToSlide = $(e.relatedTarget).is(_this.$pagn);
            if (!isPagnToSlide) {
              var currentIndex = _this.$carouselItem.index(e.delegateTarget);
            } else {
              var currentIndex = 0;
              _this.$carouselItem.eq(0).find('a, button').first().focus();
            }
            _this.$carousel.trigger('slideTo', [currentIndex, 0, true]);
            break;
          // default:
          //     break;
        }
      },
      focusout: function (e) {
        switch (deviceType) {
          case 'PC':
            //
            break;
          case 'TABLET':
          case 'MOBILE':
            var isSameSequence = $(e.delegateTarget).find(
              e.relatedTarget,
            ).length;
            var isLastSequence = $(e.delegateTarget).is(
              _this.$carouselItem.last(),
            );

            if (!isSameSequence && isLastSequence) {
              _this.$pagn.focus();
            }
            break;
          // default:
          //     break;
        }
      },
    });

    _this.$control.stopBtn.on('click', function (e) {
      e.preventDefault();
      sequenceControl(_this, 'STOP', true);
      return false;
    });

    _this.$control.playBtn.on('click', function (e) {
      e.preventDefault();
      sequenceControl(_this, 'PLAY', true);
      return false;
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setCarousel(_plugin) {
    var $prevBtn = _plugin.$el.find('.arrow-prev');
    var $nextBtn = _plugin.$el.find('.arrow-next');

    _plugin.$carousel.carouFredSel({
      responsive: true,
      height: 'variable',
      auto: {
        play: true,
        timeoutDuration: 5000,
      },
      prev: {
        button: $prevBtn,
      },
      next: {
        button: $nextBtn,
      },
      items: {
        start: _plugin.currentIndex,
        visible: 1,
        height: 'variable',
      },
      pagination: {
        container: _plugin.$pagn,
      },
      swipe: {
        onMouse: true,
        onTouch: true,
      },
      scroll: {
        duration: 500,
        items: 1,
        onAfter: function (data) {
          _plugin.currentIndex = _plugin.$carouselItem.index(
            data.items.visible,
          );
          _plugin.$carouselItem
            .removeClass('active')
            .eq(_plugin.currentIndex)
            .addClass('active');

          // Update
          updateControl(_plugin);
          updateCarouselAria(_plugin);

          if (_plugin.$control.wrap.hasClass('on')) {
            sequenceControl(_plugin, 'STOP', true);
          }
          chkBG(data);
        },
      },
      onCreate: function (data) {
        _plugin.$carouselItem
          .removeClass('active')
          .eq(_plugin.currentIndex)
          .addClass('active');
        $prevBtn.wrapInner(
          '<em class="blind">' +
            langSet[lang]['slide']['prevStr'].toString() +
            '</em>',
        );
        $nextBtn.wrapInner(
          '<em class="blind">' +
            langSet[lang]['slide']['nextStr'].toString() +
            '</em>',
        );
        chkBG(data);

        // Update
        updateCarouselAria(_plugin);
      },
    });
  }

  function updateCarouselAria(_plugin) {
    _plugin.$carouselItem
      .attr('aria-hidden', true)
      .find('a, button')
      .attr('tabindex', -1);
    _plugin.$carouselItem
      .eq(_plugin.currentIndex)
      .removeAttr('aria-hidden')
      .find('a, button')
      .removeAttr('tabindex');
  }

  // Update Control
  function updateControl(_plugin) {
    if (!_plugin.$control.wrap.hasClass('on')) {
      sequenceControl(_plugin, 'PLAY', false);
    } else {
      sequenceControl(_plugin, 'STOP', false);
    }
  }

  // Sequence Control: play, stop
  function sequenceControl(_plugin, option, changeFocus) {
    switch (option) {
      case 'PLAY':
        _plugin.$carousel.trigger('isPaused', function () {
          _plugin.$control.wrap.removeClass('on');
          _plugin.$carousel.trigger('play', true);
          changeFocus && _plugin.$control.stopBtn.focus();
        });
        break;
      case 'STOP':
        _plugin.$carousel.trigger('isScrolling', function () {
          _plugin.$control.wrap.addClass('on');
          _plugin.$carousel.trigger('pause', true);
          changeFocus && _plugin.$control.playBtn.focus();
        });
        break;
      // default:
      //     break;
    }
  }

  /** 활성화 된 슬라이드에 .white 클래스가 있으면 .event_visualSlide_indi 와 .sns_box 에 class 부여 */
  const chkBG = function (data) {
    let currentItem = $('.webinar_carousel .caroufredsel_wrapper .li.active');
    if (!currentItem.hasClass('white')) {
      $('.webinar_carousel .arrow-nav').removeClass('indi_white');
      $('.webinar_carousel .navigation').removeClass('indi_white');
      $('.webinar_carousel .sns_box').addClass('black');
    } else {
      $('.webinar_carousel .arrow-nav').addClass('indi_white');
      $('.webinar_carousel .navigation').addClass('indi_white');
      $('.webinar_carousel .sns_box').removeClass('black');
    }
  };

  this.init();
}
fo.addPlugin(MP_webinar_list);

/** Page | Digital Responsibility(지속가능-디지털책임, en) | MP_responsibility */
function MP_responsibility(el) {
  _proto = MP_responsibility.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$acco = this.$el.find('.policy_acco');

  var _this = this;
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;

  _proto.init = function () {
    // console.log("init:: MP_responsibility")
    // Device type check
    deviceType = checkDeviceType();

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });

    // .policy_acco accordion
    _this.$acco.find('a.tit').each((idx, item) => {
      if (eval($(item).attr('aria-expanded')))
        $(item).next('.text').css({ display: 'block' });
    });
    _this.$acco.find('a.tit').on('click', function (e) {
      const isOpen = eval($(this).attr('aria-expanded'));
      if (isOpen) {
        $(this).attr('aria-expanded', false);
        $(this).next('.text').slideUp(300);
      } else {
        $(this).attr('aria-expanded', true);
        $(this).next('.text').slideDown(300);

        $(this)
          .parents('li')
          .siblings('li')
          .find('a.tit')
          .attr('aria-expanded', false);
        $(this).parents('li').siblings('li').find('.text').slideUp(300);
      }
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  this.init();
}
fo.addPlugin(MP_responsibility);

/** Page Indicator **/
$(function () {
  if (!$('.page_indicator').length) return;

  var $indicator = $('.page_indicator');

  page_init();

  $(window).resize(pageIndOffset);
  $(window).scroll(pageIndActive);

  function pageIndActive() {
    var scrollTop = $(window).scrollTop();
    var scrollEnd =
      $(document).height() - $(window).height() - $('footer').innerHeight();
    var $indicatorBtn = $('.page_indicator').find('a');

    if (scrollTop >= scrollEnd) {
      $indicator.removeClass('on');
    } else if (scrollTop <= 200) {
      $indicator.removeClass('on');
    } else {
      if ($('.ind_chk').length >= 1 && !$indicator.hasClass('on')) {
        $indicator.addClass('on');
      }
    }

    $($('#container .cont:visible').get().reverse()).each(
      function (index, node) {
        var $node = $(this);
        var offsetTop = parseInt($node.offset().top) - $(window).height() / 2;
        if (scrollTop >= offsetTop) {
          var currentPageIndex = $node.attr('data-section');
          $indicatorBtn.removeClass('on');
          if (currentPageIndex == '' || currentPageIndex == undefined) {
            // $indicatorBtn.removeClass('on');
          } else {
            $indicatorBtn.eq(currentPageIndex).addClass('on');
          }
          // $indicator.attr('data-current-page-index', currentPageIndex);
          return false;
        }
      },
    );
  }

  function pageIndOffset() {
    pageIndActive();
  }

  function page_init() {
    pageIndOffset();
  }
});
/** Floating Action Button : 20.12.30 소스취합 extenstion_ko.js 로 이동 **/
/** Page | 리소스 */
$(function () {
  if (!$('.MP_resource').length) return;
  var deviceType = checkDeviceType();
  var $resourceTab = $('.resource_tab');

  $resourceTab.find('.btn').on('click', function () {
    var $list = $(this).closest('.list');
    if (!$list.hasClass('on')) {
      openTab($list, true);
    } else {
      closeTab($list, true);
    }
  });

  $resourceTab.find('.btn_tab_close').on('click', function () {
    var $list = $(this).closest('.list');
    closeTab($list, true);
  });

  $resourceTab.find('.view').on('focusout', function (e) {
    if (deviceType === 'PC') return;

    var $focusEl = $(e.delegateTarget).find(
      'a,button,input,label,[tabindex=0]',
    );

    if (!$(e.delegateTarget).find(e.relatedTarget).length) {
      if ($(e.target).is($focusEl.first())) {
        $focusEl.last().focus();
      }

      if ($(e.target).is($focusEl.last())) {
        $focusEl.first().focus();
      }
    }
  });

  $resourceTab
    .find('.view')
    .on('change', "input[type='checkbox']", function (e) {
      e.preventDefault();

      var $this = $(this);
      var $tree = $this.closest('.chk_tree');

      var $allCheck = $tree.find("input[type='checkbox'].chk_all");
      var $treeCheck = $tree.find("input[type='checkbox']:not(.chk_all)");

      // 전체 체크박스 변경
      if ($this.is($allCheck)) {
        $treeCheck.prop('checked', $this.prop('checked'));
        return;
      }

      // 부모 체크박스 변경
      if ($this.closest('div').siblings('.dep').length) {
        var $childDep = $this.closest('div').siblings('.dep');
        $childDep
          .find("input[type='checkbox']")
          .prop('checked', $this.prop('checked'));
      }

      // 자식 체크박스 변경
      if ($this.parents('.dep').length) {
        $this.parents('.dep').each(function (index, dep) {
          var $parentCheck = $(dep)
            .siblings('div')
            .find("input[type='checkbox']");
          var $childrenChecks = $(dep).find("input[type='checkbox']");

          if (!$this.prop('checked')) {
            $parentCheck.prop('checked', false);
          }

          if ($childrenChecks.filter(':not(:checked)').length === 0) {
            $parentCheck.prop('checked', true);
          }
        });
      }

      // 최종적으로 전체 체크되었는지 확인
      if ($treeCheck.filter(':not(:checked)').length === 0) {
        $allCheck.prop('checked', true);
      } else {
        $allCheck.prop('checked', false);
      }
    });

  $(document).ready(function () {
    updateTab();
  });

  $(window).resize(function () {
    var currentDeviceType = checkDeviceType();
    if (deviceType !== currentDeviceType) {
      deviceType = currentDeviceType;
      updateTab();
    }
  });

  function updateTab() {
    $resourceTab.find('.list').each(function () {
      if (deviceType !== 'PC') {
        closeTab($(this), false);
        $(this).find('.tit').attr('tabindex', 0);
      } else {
        openTab($(this), false);
        $(this).find('.tit').removeAttr('tabindex');
      }
    });
  }

  function openTab($tabWrap, isFocusMove) {
    $tabWrap.addClass('on');

    $tabWrap.find('.btn').removeAttr('title'); // 2023-04 접근성 수정
    $tabWrap.find('.btn').attr('aria-expanded', true); // 2023-04 접근성 수정

    if (!$tabWrap.find('.scroll-wrapper').length) {
      $tabWrap.find('.scrollbar-inner').scrollbar();
    }

    if (deviceType !== 'PC') {
      $('body').addClass('hid_s');
      /* 210527 | 접근성 | IOS Focus Issue settimeout추가 */
      setTimeout(function () {
        isFocusMove && $tabWrap.find('.tit').attr('tabindex', '0').focus();
      }, 300);
      /* //210527 | 접근성 | IOS Focus Issue settimeout추가 */

      /* 210511 | 접근성 | 팝업 밑에 텍스트 초점안가게 */
      var ariahidden = $(
        '#skip_navi, header, footer, #container .inner > h1, #container .inner > div:not(.filterContainer), .filterContainer > div:not(.left), .left .list > a, #container > div:not(.MP_resource)',
      );
      ariahidden.attr({
        'aria-hidden': true,
        tabindex: -1,
      });
      /* //210511 | 접근성 | 팝업 밑에 텍스트 초점안가게 */
    }
  }

  function closeTab($tabWrap, isFocusMove) {
    $tabWrap.removeClass('on');
    $('body').removeClass('hid_s');

    $tabWrap.find('.btn').attr('aria-expanded', false); // 2023-04 접근성 수정

    if (isFocusMove) {
      /* 210527 | 접근성 | IOS Focus Issue settimeout추가 */
      setTimeout(function () {
        $tabWrap.find('.btn').attr('tabindex', '0').focus();
      }, 300);
      /* //210527 | 접근성 | IOS Focus Issue settimeout추가 */
    }

    if (deviceType !== 'PC') {
      /* 210511 | 접근성 | 팝업 밑에 텍스트 초점안가게 */
      var ariahidden = $(
        '#skip_navi, header, footer, #container .inner > h1, #container .inner > div:not(.filterContainer), .filterContainer > div:not(.left), .left .list > a, #container > div:not(.MP_resource)',
      );
      ariahidden.removeAttr('tabindex');
      ariahidden.removeAttr('aria-hidden');
      /* //210511 | 접근성 | 팝업 밑에 텍스트 초점안가게 */
    }
  }

  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }
});

// resource_tab, btn_tab_close, chkAll, chk 삭제 불가능!
// html onclick으로 이벤트 바인딩 되어있음
// 해당 기능은 상단에 구현됨
function resource_tab(obj) {}
function btn_tab_close(obj) {}
function chkAll(obj) {}
function chk(obj) {}

/** visionCarousel */
function visionCarousel(el) {
  _proto = visionCarousel.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.startIndex = 0;
  this.currentIndex = this.startIndex;
  this.$carousel = this.$el.find('.carousel');
  this.$carouselItem = this.$el.find('.carousel .li');
  this.$nav = this.$el.find('.owl-nav');
  this.$pagn = this.$el.find('.owl-pagn');
  this.$visualArea = this.$carousel.find(
    '.visual_img .img_p, .visual_img .img_m',
  );

  var _this = this;
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: visionCarousel")
    // Device type check
    deviceType = checkDeviceType();

    _this.$el.addClass('init'); // opacity : 1 추가

    // Set visual img
    this.setVisualImg();

    if (this.$carouselItem.length < 2) {
      this.$nav.remove();
      this.$pagn.remove();
      return;
    }

    // Set carousel
    setCarousel(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarouselAria(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  _proto.addEvent = function () {
    _this.$carouselItem.on({
      focusin: function (e) {
        switch (deviceType) {
          case 'PC':
            //
            break;
          case 'TABLET':
          case 'MOBILE':
            var isPagnToSlide = $(e.relatedTarget).is(_this.$pagn);

            if (!isPagnToSlide) {
              var currentIndex = _this.$carouselItem.index(e.delegateTarget);
            } else {
              var currentIndex = 0;
              _this.$carouselItem.eq(0).find('a, button').first().focus();
            }

            _this.$carousel.trigger('slideTo', [currentIndex, 0, true]);
            break;
          // default:
          //     break;
        }
      },
      focusout: function (e) {
        switch (deviceType) {
          case 'PC':
            //
            break;
          case 'TABLET':
          case 'MOBILE':
            var isSameSequence = $(e.delegateTarget).find(
              e.relatedTarget,
            ).length;
            var isLastSequence = $(e.delegateTarget).is(
              _this.$carouselItem.last(),
            );

            if (!isSameSequence && isLastSequence) {
              _this.$pagn.focus();
            }
            break;
          // default:
          //     break;
        }
      },
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setCarousel(_plugin) {
    var $prevBtn = _plugin.$nav.find('.owl-prev');
    var $nextBtn = _plugin.$nav.find('.owl-next');

    $prevBtn.wrapInner(
      '<em class="blind">' +
        langSet[lang]['slide']['prevStr'].toString() +
        '</em>',
    );
    $nextBtn.wrapInner(
      '<em class="blind">' +
        langSet[lang]['slide']['nextStr'].toString() +
        '</em>',
    );

    _plugin.$carousel.carouFredSel({
      responsive: true,
      height: 'variable',
      auto: {
        play: false,
      },
      prev: {
        button: $prevBtn,
      },
      next: {
        button: $nextBtn,
      },
      items: {
        start: _plugin.currentIndex,
        visible: 1,
        height: 'variable',
      },
      swipe: {
        onMouse: true,
        onTouch: true,
      },
      scroll: {
        fx: 'fade',
        duration: 0,
        items: 1,
        onAfter: function (data) {
          _plugin.currentIndex = _plugin.$carouselItem.index(
            data.items.visible,
          );
          _plugin.$carouselItem
            .removeClass('active')
            .eq(_plugin.currentIndex)
            .addClass('active');
          // Update
          updatePagn(_plugin);
          updateCarouselAria(_plugin);
        },
      },
      onCreate: function () {
        _plugin.$pagn
          .find('.owl-pagn-ed')
          .text(setNum(_plugin.$carouselItem.length));
        _plugin.$carouselItem
          .removeClass('active')
          .eq(_plugin.currentIndex)
          .addClass('active');
        // Update
        updatePagn(_plugin);
        updateCarouselAria(_plugin);
      },
    });
  }

  function updateCarouselAria(_plugin) {
    switch (deviceType) {
      case 'PC':
        _plugin.$carouselItem
          .attr('aria-hidden', true)
          .find('a, button')
          .attr('tabindex', -1);
        _plugin.$carouselItem
          .eq(_plugin.currentIndex)
          .removeAttr('aria-hidden')
          .find('a, button')
          .removeAttr('tabindex');
        _plugin.$pagn.is('[tabindex]') && _plugin.$pagn.removeAttr('tabindex');
        break;
      case 'TABLET':
      case 'MOBILE':
        _plugin.$carouselItem
          .removeAttr('aria-hidden')
          .find('a, button')
          .removeAttr('tabindex');
        _plugin.$pagn.not('[tabindex]') && _plugin.$pagn.attr('tabindex', 0);
        break;
      // default:
      //     break;
    }
  }

  // Update
  function updatePagn(_plugin) {
    var width =
      (100 / _plugin.$carouselItem.length) * (_plugin.currentIndex + 1);
    _plugin.$pagn.find('.owl-pagn-st').text(setNum(_plugin.currentIndex + 1));
    _plugin.$pagn.find('.owl-pagn-bar p').css('width', width + '%');
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }
  this.init();
}
fo.addPlugin(visionCarousel);

/** Page | MP_report */
function MP_report(el) {
  _proto = MP_report.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$bannerBar = this.$el.find('.bnr_bar');

  var _this = this;

  _proto.init = function () {
    //console.log("init:: MP_report")
    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    // F12 버튼 방지
    $(document).on('keydown', function (e) {
      if (e.keyCode == 123) {
        e.preventDefault();
        e.returnValue = false;
      }
    });
    $('body').attr({
      oncontextmenu: 'return false',
      onselectstart: 'return false',
      ondragstart: 'return false',
    });
    $(window).on('scroll', function (e) {
      updateBanner(_this);
    });
  };

  function updateBanner(_plugin) {
    var scrollTop = $(window).scrollTop();
    var scrollEnd =
      $(document).height() - $(window).height() - $('footer').innerHeight();

    if (scrollTop + _plugin.$bannerBar.height() >= scrollEnd) {
      if (_plugin.$bannerBar.hasClass('on')) return;

      _plugin.$bannerBar.addClass('on');
    } else {
      if (!_plugin.$bannerBar.hasClass('on')) return;

      _plugin.$bannerBar.removeClass('on');
    }
  }

  this.init();
}
fo.addPlugin(MP_report);

/** MP_contact | Contact **/
function MP_contact(el) {
  _proto = MP_contact.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.mhItems;

  var _this = this; // MP_contact
  var deviceType; // "PC", "TABLET", "MOBILE"
  var mhTarget = ['.box'];
  var resizeTimer;

  _proto.init = function () {
    // console.log("init:: MP_contact");
    // Device type check
    deviceType = checkDeviceType();

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateMhItem(_this);
      }
    }, 200);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Event
  _proto.addEvent = function () {
    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$el.find(target);
    });
  }

  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };

    switch (deviceType) {
      case 'PC':
      case 'TABLET':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        break;
      // default:
      //     break;
    }
  }

  this.init();
}
fo.addPlugin(MP_contact);

/** page | MP_license **/
function MP_license(el) {
  _proto = MP_license.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$toggleList = this.$el.find('.toggle_list');
  this.$toggleItem = this.$toggleList.find('.li');
  this.$selectbox = this.$el.find('.sel_box');
  this.key = this.$el.offset().top;
  this.onlyExpanded = false; // Only one item open flag
  this.opendIndex = []; // Open item array
  this.closedIndex = []; // Close item array

  var _this = this; // MP_license

  _proto.init = function () {
    // console.log("init:: MP_license")
    // this.onlyExpanded
    if (this.$el.is('[data-only-expanded]')) {
      this.onlyExpanded = this.data.onlyExpanded;
      this.$el.removeAttr('data-only-expanded');
    }

    // this.opendIndex
    if (
      this.$el.is('[data-opend-index]') &&
      typeof this.data.opendIndex == 'object'
    ) {
      this.opendIndex = this.data.opendIndex;
      this.$el.removeAttr('dta-opend-inadex');
    }

    // this.opendIndex: all item open
    if (this.$el.is('[data-opend-all]')) {
      this.opendIndex = new Array(this.$toggleItem.length + 1)
        .join('0')
        .split('')
        .map(function (a, idx) {
          return idx;
        });
      this.$el.removeAttr('data-opend-all');
    }

    // Exception, multiple items open
    if (this.opendIndex.length > 1) {
      this.onlyExpanded = false;
    }

    // Initial setting
    setAriaAttr(this);
    setOpenToggle(this);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$toggleList.on('click', '.toggle_btn', function (e) {
      e.preventDefault();

      _this.$toggleItem = $('.toggle_list').find('.li');
      var index = $(this).parent().index();

      // When the toggle button is open
      if ($(this).hasClass('active')) {
        _this.closedIndex = [index];
        setCloseToggle(_this);

        _this.opendIndex.splice(_this.opendIndex.indexOf(index), 1);

        return;
      }

      // When the toggle button is closed
      if (_this.onlyExpanded) {
        // Only one item open
        _this.closedIndex = [_this.opendIndex];
        setCloseToggle(_this);

        _this.opendIndex = [index];
        setOpenToggle(_this);
      } else {
        // Multiple items open
        _this.opendIndex.push(index);
        setOpenToggle(_this);
      }

      return;
    });

    _this.$selectbox.on('focus', '#goods', function (e) {
      _this.opendIndex = [];
    });

    _this.$selectbox.on('keyup', '#notice_keyword', function (e) {
      _this.opendIndex = [];
    });

    _this.$selectbox.on('click', '.btn_sch_ip', function () {
      _this.opendIndex = [];
    });
  };

  // Apply aria properties
  function setAriaAttr(_plugin) {
    _plugin.$toggleItem.each(function (index) {
      var key = _plugin.key + '_' + index;

      $(this)
        .find('.toggle_btn')
        .attr({
          id: 'toggle_btn_' + key, // fixed
          'aria-controls': 'toggle_cont_' + key, // fixed
          'aria-expanded': false, // changeable
        });

      $(this)
        .find('.toggle_cont')
        .attr({
          role: 'region', // fixed
          id: 'toggle_cont_' + key, // fixed
          'aria-labelledby': 'toggle_btn_' + key, // fixed
          'aria-hidden': true, // changeable
        });
    });
  }

  // Open toggle
  function setOpenToggle(_plugin) {
    for (var index = 0; index < _plugin.opendIndex.length; index++) {
      var $item = _plugin.$toggleItem.eq(_plugin.opendIndex[index]);

      $item.find('.toggle_btn').attr('aria-expanded', true).addClass('active');
      $item.find('.toggle_cont').attr('aria-hidden', false).stop().slideDown();
    }
  }

  // Close toggle
  function setCloseToggle(_plugin) {
    for (var index = 0; index < _plugin.closedIndex.length; index++) {
      var $item = _plugin.$toggleItem.eq(_plugin.closedIndex[index]);

      $item
        .find('.toggle_btn')
        .attr('aria-expanded', false)
        .removeClass('active');
      $item.find('.toggle_cont').attr('aria-hidden', true).stop().slideUp();

      _plugin.closedIndex.shift();
    }
  }

  this.init();
}
fo.addPlugin(MP_license);

/** Page | MP_history */
function MP_history(el) {
  _proto = MP_history.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.tabWrap = {
    $area: this.$el.find('.tab_slide_area'),
    $list: this.$el.find('.tab_slide_area .tab_list li'),
    $btn: this.$el.find('.tab_slide_area .tab_btn'),
  };
  this.$tabPanel = this.$el.find('.tab_panel');
  this.$year = this.$tabPanel.find('.year_list .list');
  this.$progress = this.$year.find('.progress_bar');

  var _this = this;
  var tabTop = parseInt(_this.tabWrap.$area.offset().top);
  var tabHeight = _this.tabWrap.$area.innerHeight();
  var scrollTop, headerTop, headerHeight, windowHeightHalf;
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var $hd = $('.M00_A');
  var $hdHeight = $hd.find('.inner').height();

  _proto.init = function () {
    //console.log("init:: MP_history")
    // Device type check
    deviceType = checkDeviceType();

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        scrollTop = $(window).scrollTop();
        headerTop = -1 * parseInt($hd.css('top'));
        headerHeight = $hdHeight - headerTop;
        windowHeightHalf = $(window).height() / 2;

        setTabScroll(_this);
        setProgress(_this);
        updateTabScroll(_this);
        updateYearBoxPos(_this);

        if (!_this.tabWrap.$area.hasClass('fixed')) {
          tabTop = parseInt(_this.tabWrap.$area.offset().top);
        }
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    //btnClick evnet
    _this.tabWrap.$btn.on('click', function () {
      var thisIdx = $(this).closest('li').index();
      var thisPanel = _this.$tabPanel.eq(thisIdx);
      var thisPanelTop = parseInt(thisPanel.offset().top);
      var btnPadding = 0;

      _this.tabWrap.$btn.removeClass('active');
      _this.tabWrap.$list.eq(thisIdx).find('.tab_btn').addClass('active');

      switch (deviceType) {
        case 'PC':
          btnPadding += 50;
          break;
        case 'TABLET':
        case 'MOBILE':
          btnPadding += 100;
          break;
        // default:
        //     break;
      }

      $('html, body')
        .stop()
        .animate(
          {
            scrollTop: thisPanelTop - ($hdHeight + tabHeight + btnPadding),
          },
          500,
          function () {
            thisPanel.get(0).focus({ preventScroll: true });
          },
        );
    });

    document.addEventListener('scroll', setScrollrAF(scrollEvent), {
      passive: true,
    });

    _this.tabWrap.$area.on('onInit', function (swiper, event) {
      updateTabScroll(_this);
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function scrollEvent(_plugin) {
    $hdHeight = $hd.find('.inner').height();
    scrollTop = $(window).scrollTop();
    headerTop = -1 * parseInt($hd.css('top'));
    headerHeight = $hdHeight - headerTop;
    windowHeightHalf = $(window).height() / 2;

    setTabScroll(_this);
    updateTabScroll(_this);
    updateYearBoxPos(_this);
    setProgress(_this);
  }

  function setTabScroll(_plugin) {
    if (scrollTop + headerHeight >= tabTop) {
      _plugin.tabWrap.$area.css('top', headerHeight);

      if (_plugin.tabWrap.$area.hasClass('fixed')) return;

      _plugin.tabWrap.$area.addClass('fixed');
    } else {
      if (!_plugin.tabWrap.$area.hasClass('fixed')) return;

      _plugin.tabWrap.$area.removeClass('fixed');
      _plugin.tabWrap.$area.css('top', 0);
    }
  }

  // update scroll
  function updateTabScroll(_plugin) {
    if (_plugin.tabWrap.$area.is(':visible')) {
      if (scrollTop + windowHeightHalf < _plugin.$tabPanel.eq(0).offset().top) {
        _plugin.$tabPanel.removeClass('reading read');
        section = -1;
      } else {
        var section = false;
        var sectionIndex = 0;

        _plugin.$tabPanel.each(function () {
          var tabSlide = _plugin.tabWrap.$area.data('plugin').slide;
          var sectionTop = $(this).offset().top;

          if (scrollTop + windowHeightHalf >= sectionTop) {
            //tab addClass and tabslide To
            _plugin.tabWrap.$btn.removeClass('active');
            _plugin.tabWrap.$list
              .eq(sectionIndex)
              .find('.tab_btn')
              .addClass('active');
            tabSlide.slideTo(sectionIndex);

            //panel addClass
            _plugin.$tabPanel.removeClass('reading');
            _plugin.$tabPanel.eq(sectionIndex).addClass('read reading');

            section = sectionIndex;
          } else {
            _plugin.$tabPanel.eq(sectionIndex).removeClass('read');
          }

          sectionIndex++;
        });
      }
    }
  }

  function updateYearBoxPos(_plugin) {
    switch (deviceType) {
      case 'PC':
        getYearBox(_plugin);
        break;
      case 'TABLET':
      case 'MOBILE':
        _plugin.$tabPanel.find('.year_box').removeClass('fixed');
        _plugin.$tabPanel.find('.year_box').css({
          top: 0,
        });
        break;
      // default:
      //     break;
    }
  }

  // update left year box position - Only PC
  function getYearBox(_plugin) {
    var scrollEnd =
      $(document).height() - $(window).height() - $('footer').innerHeight();

    if (_plugin.tabWrap.$area.is(':visible')) {
      if (scrollTop < _plugin.$tabPanel.eq(0).offset().top - 120) {
        // panel first < scrollTop
        _plugin.$tabPanel.eq(0).find('.year_box').removeClass('fixed');
        _plugin.$tabPanel.find('.year_box').css('top', '0');
        section = -1;
      } else if (scrollTop >= scrollEnd) {
        // panel last < scrollTop
        _plugin.$tabPanel
          .find('.year_box')
          .removeClass('fixed')
          .css('top', 'inherit');
        _plugin.$tabPanel.last().find('.year_box').addClass('last');
      } else {
        var section = false;
        var sectionIndex = 0;

        _plugin.$tabPanel.each(function () {
          var sectionTop = $(this).offset().top;

          if (scrollTop + windowHeightHalf >= sectionTop) {
            _plugin.$tabPanel
              .find('.year_box')
              .removeClass('last fixed')
              .css('top', '0');
            _plugin.$tabPanel
              .eq(sectionIndex)
              .find('.year_box')
              .addClass('fixed');
            _plugin.$tabPanel
              .eq(sectionIndex)
              .find('.year_box')
              .css({
                top: headerHeight + 100, // min : 220px, max : 280px (css margin-top 제외값)
              });

            section = sectionIndex;
          }

          sectionIndex++;
        });
      }
    }
  }

  // Progress Bar setting
  function setProgress(_plugin) {
    if (_plugin.tabWrap.$area.is(':visible')) {
      var sectionIndex = 0;

      _plugin.$year.each(function (index, node) {
        var $this = $(this);
        var progress;

        if (scrollTop + windowHeightHalf >= $this.offset().top) {
          progress =
            ((scrollTop - $this.offset().top + windowHeightHalf) /
              $this.innerHeight()) *
            100;
          if (progress >= 100) {
            progress = 100;
            $this.find('.progress_bar span').css('100%');
          }

          _plugin.$year.eq(sectionIndex).addClass('read');
          $this.find('.progress_bar span').css('height', progress + '%');
        } else {
          progress = 0;
          _plugin.$year.eq(sectionIndex).removeClass('read');
          $this.find('.progress_bar span').height('0%');
        }

        sectionIndex++;
      });
    }
  }

  /**
   * set Scroll Event requestAnimationFrame
   * scroll 최적화
   */
  function setScrollrAF(callback) {
    var rAfTimeout = null;

    return function () {
      if (rAfTimeout) {
        window.cancelAnimationFrame(rAfTimeout);
      }
      rAfTimeout = window.requestAnimationFrame(function () {
        callback();
      });
    };
  }

  this.init();
}
fo.addPlugin(MP_history);

/** Page | MP_fabrix */
function MP_fabrix(el) {
  _proto = MP_fabrix.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;

  _proto.init = function () {
    // console.log("init:: MP_fabrix");
    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    $(window).on('scroll resize', () => {
      animateInViewElements();
    });
  };

  const animateInViewElements = function () {
    let animationElements = $('.ban');
    let winT = $(window).scrollTop();
    // let winB = winT + ( $(window).height() / 2 );
    let winB = winT + $(window).height() / 1.5;

    animationElements.each((idx, item) => {
      var element = $(item);
      var elementHeight = $(element).outerHeight(true);
      var elementTop = $(element).offset().top;

      if (elementTop <= winB) {
        if (!element.hasClass('in-view')) element.addClass('in-view');
      } else if (elementTop > winB + elementHeight / 2) {
        element.removeClass('in-view');
      }
    });
  };

  this.init();
}
fo.addPlugin(MP_fabrix);

/** Page | MP_brityworks */
function MP_brityworks(el) {
  _proto = MP_brityworks.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$tab = {
    key: Math.floor(this.$el.offset().top),
    fixed: this.$el.find('.fixed_tab'),
    ul: this.$el.find('.fixed_tab .tab_inner ul'),
    li: this.$el.find('.fixed_tab .tab_inner li'),
    btn: this.$el.find('.fixed_tab .tab_inner li a'),
    panel: this.$el.find('.art'),
    beforeActive: 99,
    active: null,
    isClick: false,
    isFixed: false,
  };
  this.$featureList_cont = this.$el.find('.feature_list');
  this.mhItems;

  let _this = this;
  let $hd = $('.M00_A');

  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var mhTarget = ['strong'];

  _proto.init = function () {
    // console.log("init:: MP_brityworks");
    deviceType = checkDeviceType();

    setTabFixed();
    setTabAttr('init');

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateMhItem(_this);
      }
    }, 100);
  };

  _proto.addEvent = function () {
    _this.$tab.btn.on('click', function () {
      _this.$tab.isClick = true;

      let idx = $(this).parents('li').index();
      let panelT = parseInt(_this.$tab.panel.eq(idx).offset().top);

      let headH = $(document).find('#header').outerHeight(true);
      let headT = Math.abs($hd.position().top);
      let brandColorH =
        $('.brandcolor').is(':hidden') || $('.brandcolor').hasClass('normal')
          ? 0
          : $('.brandcolor').outerHeight(true);
      let tabH = _this.$tab.fixed.outerHeight(true);
      let scrollTop = panelT - tabH - (headH - headT - brandColorH);

      _this.$tab.active = idx;
      _this.$tab.li.removeClass('active').eq(idx).addClass('active');
      _this.$tab.btn
        .attr({ 'aria-selected': false })
        .eq(idx)
        .attr({ 'aria-selected': true });

      $('html, body')
        .stop()
        .animate({ scrollTop: scrollTop }, 500, () => {
          let afterHeadT = Math.abs($hd.position().top);
          scrollTop = scrollTop - (headT - afterHeadT);
          $('html, body')
            .stop()
            .animate({ scrollTop: scrollTop }, 500, () => {
              _this.$tab.isClick = false;
            });
        });
    });

    $(window).on('scroll resize', () => {
      setTabFixed();
      setTabActive();
      animateInViewElements();
    });
  };

  const setTabFixed = function () {
    let tabT = _this.$tab.fixed.offset().top;
    $(window).scrollTop() >= tabT
      ? _this.$tab.fixed.addClass('fixed')
      : _this.$tab.fixed.removeClass('fixed');
  };

  const setTabActive = function () {
    if (_this.$tab.isClick) return;

    let headT = Math.abs($hd.position().top);
    let headH = $hd.outerHeight(true) - headT;
    let tabH = _this.$tab.fixed.outerHeight(true);
    let active = null;

    _this.$tab.panel.each((idx, item) => {
      let offsetTop = parseInt($(item).offset().top) - (headH + tabH);
      if ($(window).scrollTop() >= offsetTop) active = idx;
    });

    _this.$tab.active = active;
    setTabAttr();
  };

  const setTabAttr = function (init) {
    let isFirst = init == 'init' ? true : false; // 처음 setting 시에만 'init' 전달
    let active = _this.$tab.active;

    let beforeActive = _this.$tab.beforeActive;
    if (active == beforeActive) return;
    _this.$tab.beforeActive = _this.$tab.active;

    _this.$tab.li.removeClass('active');
    _this.$tab.btn.attr({ 'aria-selected': false });

    if (typeof active == 'number') {
      _this.$tab.li.eq(active).addClass('active');
      _this.$tab.btn.eq(active).attr({ 'aria-selected': true });
    }

    if (!isFirst) return;

    _this.$tab.ul
      .attr('role', 'tablist')
      .find('li')
      .attr('role', 'presentation');

    _this.$tab.btn.each(function (index) {
      var key = `${_this.$tab.key}_${index}`;
      $(this).attr({
        role: `tab`, // 202304-01 웹접근 : 삭제
        id: `tab_btn_${key}`,
        'aria-controls': `tab_panel_${key}`,
        'aria-selected': index == active ? true : false, // changeable
      });
    });
    _this.$tab.panel.each(function (index) {
      var key = `${_this.$tab.key}_${index}`;
      $(this).attr({
        role: `region`,
        id: `tab_panel_${key}`,
        'aria-labelledby': `tab_btn_${key}`,
      });
    });
  };

  const animateInViewElements = function () {
    let animationElements = $('.ban');
    let winT = $(window).scrollTop();
    // let winB = winT + ( $(window).height() / 1.5 );
    let winB = winT + $(window).height() / 1;

    animationElements.each((idx, item) => {
      var element = $(item);
      var elementHeight = $(element).outerHeight(true);
      var elementTop = $(element).offset().top;

      if (elementTop <= winB) {
        if (!element.hasClass('in-view')) element.addClass('in-view');
      } else if (elementTop > winB + elementHeight / 2) {
        element.removeClass('in-view');
      }
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  /** 텍스트 주변 높이 */
  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$featureList_cont.find(target);
    });
  }
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };
    switch (deviceType) {
      case 'PC':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'TABLET':
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        break;
      // default:
      //     break;
    }
  }
  /** 텍스트 주변 높이 */

  this.init();
}
fo.addPlugin(MP_brityworks);

/** Page | MP_brityauto */
function MP_brityauto(el) {
  _proto = MP_brityauto.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.country = $('html').attr('data-country') || 'en';

  this.$tab = {
    key: Math.floor(this.$el.offset().top),
    fixed: this.$el.find('.fixed_tab'),
    ul: this.$el.find('.fixed_tab .tab_inner ul'),
    li: this.$el.find('.fixed_tab .tab_inner li'),
    btn: this.$el.find('.fixed_tab .tab_inner li a'),
    panel: this.$el.find('.art'),
    beforeActive: 99,
    active: null,
    isClick: false,
    isFixed: false,
  };

  let _this = this;
  let $hd = $('.M00_A');

  _proto.init = function () {
    //console.log("init:: MP_brityauto");

    // [S] 240123 브리티 BPA 임시 삭제
    _this.$el.find('.fixed_tab .tab_inner ul > li').eq(0).remove();
    _this.$el
      .find('.fixed_tab .tab_inner ul > li')
      .css({ flex: '0 0 33.333%', 'max-width': '33.333%' });
    _this.$el.find('.MP_brityauto_cont .art.cont.bpa').remove();
    _this.$tab.btn.splice(0, 1);
    _this.$tab.li.splice(0, 1);
    _this.$tab.panel.splice(0, 1);
    // [E] 240123 브리티 BPA 임시 삭제

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$tab.btn.on('click', function () {
      _this.$tab.isClick = true;

      let idx = $(this).parents('li').index();
      let panelT = parseInt(_this.$tab.panel.eq(idx).offset().top);

      let headH = $(document).find('#header').outerHeight(true);
      let headT = Math.abs($hd.position().top);
      let brandColorH =
        $('.brandcolor').is(':hidden') || $('.brandcolor').hasClass('normal')
          ? 0
          : $('.brandcolor').outerHeight(true);
      let tabH = _this.$tab.fixed.outerHeight(true);
      let scrollTop = panelT - tabH - (headH - headT - brandColorH);

      _this.$tab.active = idx;
      _this.$tab.li.removeClass('active').eq(idx).addClass('active');
      _this.$tab.btn
        .attr({ 'aria-selected': false })
        .eq(idx)
        .attr({ 'aria-selected': true });

      $('html, body')
        .stop()
        .animate({ scrollTop: scrollTop }, 500, () => {
          let afterHeadT = Math.abs($hd.position().top);
          scrollTop = scrollTop - (headT - afterHeadT);
          $('html, body')
            .stop()
            .animate({ scrollTop: scrollTop }, 500, () => {
              _this.$tab.isClick = false;
            });
        });
    });

    calBoxlength();

    $(window).on('scroll resize', () => {
      animateInViewElements();
    });
  };

  function calBoxlength() {
    let box = _this.$el.find('.box_link');
    if (box.length > 0) {
      let boxNum = box.find('li').length;
      if (boxNum > 0) {
        box.addClass('m' + boxNum);
      }
      console.log(boxNum);
    }
  }

  const setTabAttr = function (init) {
    let isFirst = init == 'init' ? true : false; // 처음 setting 시에만 'init' 전달
    let active = _this.$tab.active;

    let beforeActive = _this.$tab.beforeActive;
    if (active == beforeActive) return;
    _this.$tab.beforeActive = _this.$tab.active;

    _this.$tab.li.removeClass('active');
    _this.$tab.btn.attr({ 'aria-selected': false });

    if (typeof active == 'number') {
      _this.$tab.li.eq(active).addClass('active');
      _this.$tab.btn.eq(active).attr({ 'aria-selected': true });
    }

    if (!isFirst) return;

    _this.$tab.ul
      .attr('role', 'tablist')
      .find('li')
      .attr('role', 'presentation');

    _this.$tab.btn.each(function (index) {
      var key = `${_this.$tab.key}_${index}`;
      $(this).attr({
        role: `tab`, // 202304-01 웹접근 : 삭제
        id: `tab_btn_${key}`,
        'aria-controls': `tab_panel_${key}`,
        'aria-selected': index == active ? true : false, // changeable
      });
    });
    _this.$tab.panel.each(function (index) {
      var key = `${_this.$tab.key}_${index}`;
      $(this).attr({
        role: `region`,
        id: `tab_panel_${key}`,
        'aria-labelledby': `tab_btn_${key}`,
      });
    });
  };

  function animateInViewElements() {
    let animationElements = $('.ban');
    let winT = $(window).scrollTop();
    // let winB = winT + ( $(window).height() / 2 );
    let winB = winT + $(window).height() / 1;

    animationElements.each((idx, item) => {
      var element = $(item);
      var elementHeight = $(element).outerHeight(true);
      var elementTop = $(element).offset().top;

      if (elementTop <= winB) {
        if (!element.hasClass('in-view')) element.addClass('in-view');
      } else if (elementTop > winB + elementHeight / 2) {
        element.removeClass('in-view');
      }
    });
  }

  this.init();
}
fo.addPlugin(MP_brityauto);

/** Page | MP_britybpa */
function MP_britybpa(el) {
  _proto = MP_britybpa.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;

  let _this = this;

  _proto.init = function () {
    // console.log("init:: MP_britybpa");

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    $(window).on('scroll resize', () => {
      animateInViewElements();
    });
  };

  const animateInViewElements = function () {
    let animationElements = _this.$el.find('.ban');
    let winT = $(window).scrollTop();
    // let winB = winT + ( $(window).height() / 1.5 );
    let winB = winT + $(window).height() / 1;

    animationElements.each((idx, item) => {
      var element = $(item);
      var elementHeight = $(element).outerHeight(true);
      var elementTop = $(element).offset().top;

      if (elementTop <= winB) {
        if (!element.hasClass('in-view')) element.addClass('in-view');
      } else if (elementTop > winB + elementHeight / 2) {
        element.removeClass('in-view');
      }
    });
  };

  this.init();
}
fo.addPlugin(MP_britybpa);

/** Page | MP_logistics_story */
function MP_logistics_story(el) {
  _proto = MP_logistics_story.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;

  this.$scrollDown = {
    btn: this.$el.find('.M01_E .ico_scrolldown'),
  };
  this.$tab = {
    key: Math.floor(this.$el.offset().top),
    fixed: this.$el.find('.fixed_tab'),
    ul: this.$el.find('.fixed_tab .tab_inner ul'),
    li: this.$el.find('.fixed_tab .tab_inner li'),
    btn: this.$el.find('.fixed_tab .tab_inner li a'),
    bullet: this.$el.find('.fixed_tab .tab_inner li a .bullet i'),
    panel: this.$el.find('.art'),
    beforeActive: 99,
    active: null,
    isClick: false,
    isFixed: false,
  };

  let _this = this;
  let $hd = $('.M00_A');

  _proto.init = function () {
    //console.log("init:: MP_logistics_story");
    setBulletIcon();
    setTabFixed();
    setTabAttr('init');

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$scrollDown.btn.on('click', () => {
      _this.$tab.btn[0].click();
    });

    _this.$tab.btn.on('click', function () {
      _this.$tab.isClick = true;

      let idx = $(this).parents('li').index();
      let panelT = parseInt(_this.$tab.panel.eq(idx).offset().top);

      let headH = $(document).find('#header').outerHeight(true);
      let headT = Math.abs($hd.position().top);
      let brandColorH =
        $('.brandcolor').is(':hidden') || $('.brandcolor').hasClass('normal')
          ? 0
          : $('.brandcolor').outerHeight(true);
      let tabH = _this.$tab.fixed.outerHeight(true);
      let gap = 0;
      let scrollTop = panelT - tabH - (headH - headT - brandColorH) + gap;

      _this.$tab.active = idx;
      _this.$tab.li.removeClass('active').eq(idx).addClass('active');
      _this.$tab.btn
        .attr({ 'aria-selected': false })
        .eq(idx)
        .attr({ 'aria-selected': true });

      $('html, body')
        .stop()
        .animate({ scrollTop: scrollTop }, 500, () => {
          let afterHeadT = Math.abs($hd.position().top);
          scrollTop = scrollTop - (headT - afterHeadT);
          $('html, body')
            .stop()
            .animate({ scrollTop: scrollTop }, 500, () => {
              _this.$tab.isClick = false;
            });
        });
    });

    $(window).on('scroll resize', () => {
      setTabFixed();
      setTabActive();
      animateInViewElements();
    });
  };

  const setTabFixed = function () {
    let tabT = _this.$tab.fixed.offset().top;
    $(window).scrollTop() >= tabT
      ? _this.$tab.fixed.addClass('fixed')
      : _this.$tab.fixed.removeClass('fixed');
  };

  const setTabActive = function () {
    if (_this.$tab.isClick) return;

    let headT = Math.abs($hd.position().top);
    let headH = $hd.outerHeight(true) - headT;
    let tabH = _this.$tab.fixed.outerHeight(true);
    let active = 0;

    _this.$tab.panel.each((idx, item) => {
      let offsetTop = parseInt($(item).offset().top) - (headH + tabH);
      if ($(window).scrollTop() >= offsetTop) active = idx;
    });

    _this.$tab.active = active;
    setTabAttr();
  };

  const setTabAttr = function (init) {
    let isFirst = init == 'init' ? true : false; // 처음 setting 시에만 'init' 전달
    let active = _this.$tab.active;

    let beforeActive = _this.$tab.beforeActive;
    if (active == beforeActive) return;
    _this.$tab.beforeActive = _this.$tab.active;

    _this.$tab.li.removeClass('active');
    _this.$tab.btn.attr({ 'aria-selected': false });

    if (typeof active == 'number') {
      _this.$tab.li.eq(active).addClass('active');
      _this.$tab.btn.eq(active).attr({ 'aria-selected': true });
    }

    if (!isFirst) return;

    _this.$tab.ul
      .attr('role', 'tablist')
      .find('li')
      .attr('role', 'presentation');

    _this.$tab.btn.each(function (index) {
      var key = `${_this.$tab.key}_${index}`;
      $(this).attr({
        role: `tab`, // 202304-01 웹접근 : 삭제
        id: `tab_btn_${key}`,
        'aria-controls': `tab_panel_${key}`,
        'aria-selected': index == active ? true : false, // changeable
      });
    });
    _this.$tab.panel.each(function (index) {
      var key = `${_this.$tab.key}_${index}`;
      $(this).attr({
        role: `region`,
        id: `tab_panel_${key}`,
        'aria-labelledby': `tab_btn_${key}`,
      });
    });
  };

  const setBulletIcon = function () {
    let bullet = `
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 18" >
                  <path id="ico_bullet" d="M14.473,12.846A20.715,20.715,0,0,0,22,3.92l-1.159-.731-1.174-.74-1.52-.958L16.976.751,15.786,0A14.119,14.119,0,0,1,0,9.255v7.1a21.92,21.92,0,0,0,2.45.143,21.572,21.572,0,0,0,12.022-3.654" />
              </svg>
          `;
    _this.$tab.bullet.html(bullet);
  };

  function animateInViewElements() {
    let animationElements = $('.ban');
    let winT = $(window).scrollTop();
    // let winB = winT + ( $(window).height() / 2 );
    let winB = winT + $(window).height() / 1.1;

    animationElements.each((idx, item) => {
      var element = $(item);
      var elementHeight = $(element).outerHeight(true);
      var elementTop = $(element).offset().top;

      if (elementTop <= winB) {
        if (!element.hasClass('in-view')) element.addClass('in-view');
      } else if (elementTop > winB + elementHeight / 2) {
        element.removeClass('in-view');
      }
    });
  }

  this.init();
}
fo.addPlugin(MP_logistics_story);

/** MP_ESG | 최신뉴스,인사이트리포트 */
function MP_ESG(el) {
  _proto = MP_ESG.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$itemCont = this.$el.find('.cont_list');
  this.$itemTxtHeight = this.$itemCont.find('.item');

  var _this = this;
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  this.mhItems;
  var mhTarget = ['.md_tit', '.md_txt'];

  _proto.init = function () {
    //console.log("init:: MP_ESG")
    // Device type check
    deviceType = checkDeviceType();

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateMhItem(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$itemTxtHeight.find(target);
    });
  }
  // Update Match Height Item
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };
    switch (deviceType) {
      case 'PC':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'TABLET':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          if (_plugin.$itemCont.hasClass('item3')) {
            _plugin.mhItems[idx].matchHeight(opt.remove);
          } else {
            _plugin.mhItems[idx].matchHeight(opt.init);
          }
        }
        break;

      // default:
      //     break;
    }
  }
  this.init();
}
fo.addPlugin(MP_ESG);

/*** My tiral area ***/
/*** M100_A | Hero ***/
function M100_A(el) {
  _proto = M100_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.startIndex = 0;
  this.currentIndex = this.startIndex;
  this.$carousel = this.$el.find('.md_visual');
  this.$carouselItem = this.$el.find('.md_visual .li');
  this.$controlWrap = this.$el.find('.md_visual_control');
  this.$testControl = this.$el.find('.md_visual_control.md_cont_control');
  this.$heroPagn = this.$testControl.find('.pagn');
  this.$pagn = this.$el.find('.md_pagn');
  this.$timer = this.$el.find('.md_timer p');
  this.$control = {
    wrap: this.$el.find('.md_play'),
    playBtn: this.$el.find('.md_btn_play'),
    stopBtn: this.$el.find('.md_btn_stop'),
  };
  this.$txtArea = this.$carousel.find('.txt');
  this.$visualArea = this.$carousel.find('.img .img_p, .img .img_m');
  this.$tailBnr = $('.tail_bnr');

  var wheelHandler = true;
  var _this = this;
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: M100_A")
    // Device type check
    deviceType = checkDeviceType();

    // Set visual img
    this.setVisualImg();

    // Set visual txt break
    this.setTxtBreak();

    // FIREFOX
    this.$visualArea.find('video').attr('tabindex', -1);

    if (this.$carouselItem.length < 2) {
      this.$pagn.remove();
      // this.$timer.parent().remove();
      //  this.$control.wrap.remove();
      this.$carouselItem.eq(0).addClass('act');
      // return;
    }

    // Set carousel
    setCarousel(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarouselAria(_this);
        checkBanner(_this);
      }
      /**20230216 리사이징시 높이값 조정되는 trigger 삭제(의미없는 기능) */
      // updateCarouselStyle(_this);
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visualArea.parent().css({
      height: '100%',
    });
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  // Set visual txt break
  _proto.setTxtBreak = function () {
    var $title = this.$txtArea.find('.md_tit');

    $title.lettering('linesHtml');
    $title.find('span').wrapInner('<i></i>');
  };

  _proto.addEvent = function () {
    if (this.$carouselItem.length < 2) {
      setInterval(function () {
        _this.$carouselItem.find('video').trigger('pause');
        _this.$timer.css('width', '0');
        _this.$carouselItem.find('video').trigger('play');
      }, 8000);
    }

    _this.$carouselItem.on({
      focusin: function (e) {
        switch (deviceType) {
          case 'PC':
            //
            break;
          case 'TABLET':
          case 'MOBILE':
            var isPagnToSlide = $(e.relatedTarget).is(_this.$pagn);

            if (!isPagnToSlide) {
              var currentIndex = _this.$carouselItem.index(e.delegateTarget);
            } else {
              var currentIndex = 0;
              _this.$carouselItem.eq(0).find('a, button').first().focus();
            }

            _this.$carousel.trigger('slideTo', [currentIndex, 0, true]);
            break;
          // default:
          //     break;
        }
      },
      focusout: function (e) {
        switch (deviceType) {
          case 'PC':
            //
            break;
          case 'TABLET':
          case 'MOBILE':
            var isSameSequence = $(e.delegateTarget).find(
              e.relatedTarget,
            ).length;
            var isLastSequence = $(e.delegateTarget).is(
              _this.$carouselItem.last(),
            );

            if (!isSameSequence && isLastSequence) {
              _this.$pagn.focus();
            }
            break;
          // default:
          //     break;
        }
      },
    });

    _this.$control.stopBtn.on('click', function (e) {
      e.preventDefault();
      setTimeout(() => {
        _this.$control.playBtn.focus();
      }, 100);
      sequenceControl(_this, 'STOP', true);
      return false;
    });

    _this.$control.playBtn.on('click', function (e) {
      e.preventDefault();
      setTimeout(() => {
        _this.$control.stopBtn.focus();
      }, 100);
      sequenceControl(_this, 'PLAY', true);
      return false;
    });

    _this.$carousel.on('focusin', function () {
      sequenceControl(_this, 'STOP', false);
    });

    _this.$pagn.on('focusin', function (e) {
      if (!$(e.target).is(':hover')) {
        sequenceControl(_this, 'STOP', false);
      }
    });

    $('#container').bind('mousewheel', function () {
      return wheelHandler;
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  // Set carousel
  function setCarousel(_plugin) {
    var $prevBtn = _plugin.$testControl.find('.md_pagn_prev');
    var $nextBtn = _plugin.$testControl.find('.md_pagn_next');

    $prevBtn.wrapInner(
      '<em class="blind">' +
        langSet[lang]['slide']['prevStr'].toString() +
        '</em>',
    );
    $nextBtn.wrapInner(
      '<em class="blind">' +
        langSet[lang]['slide']['nextStr'].toString() +
        '</em>',
    );

    _plugin.$carousel.carouFredSel({
      responsive: true,
      auto: {
        play: true,
        progress: _plugin.$timer,
        timeoutDuration: 7000,
      },
      prev: {
        button: $prevBtn,
        key: 'left',
      },
      next: {
        button: $nextBtn,
        key: 'right',
      },
      items: {
        start: _plugin.currentIndex,
        visible: 1,
      },
      swipe: {
        onMouse: true,
        onTouch: true,
      },
      scroll: {
        fx: 'fade',
        duration: 0,
        items: 1,
        onAfter: function (data) {
          _plugin.currentIndex = _plugin.$carouselItem.index(
            data.items.visible,
          );
          _plugin.$carouselItem
            .eq(_plugin.currentIndex)
            .find('video').currentTime = 0;
          _plugin.$carouselItem
            .removeClass('act')
            .eq(_plugin.currentIndex)
            .addClass('act');

          // Update
          updatePagn(_plugin);
          updateControl(_plugin);
          updateCarouselAria(_plugin);
          updateDuration(_plugin);

          if (_plugin.$control.wrap.hasClass('on')) {
            _plugin.$timer.css('width', '0');
            sequenceControl(_plugin, 'STOP', true);
          }
        },
      },
      onCreate: function () {
        _plugin.$control.playBtn
          .find('.blind')
          .text(langSet[lang]['slide']['playStr'].toString());
        _plugin.$control.stopBtn
          .find('.blind')
          .text(langSet[lang]['slide']['pauseStr'].toString());
        _plugin.$testControl
          .find('.md_cont_bar_ed')
          .text(setNum(_plugin.$carouselItem.length));
        _plugin.$carouselItem
          .eq(_plugin.currentIndex)
          .find('video').currentTime = 0;
        _plugin.$carouselItem
          .removeClass('act')
          .eq(_plugin.currentIndex)
          .addClass('act');

        // Update
        updatePagn(_plugin);
        updateControl(_plugin);
        updateCarouselAria(_plugin);
        updateControl(_plugin);
        checkBanner(_plugin);
        updateDuration(_plugin);
      },
    });
  }

  // Set carousel Style
  function updateCarouselStyle(_plugin) {
    _plugin.$carousel.trigger('configuration', {
      height:
        $(window).height() -
        $('#header').height() -
        $('.md_visual_control').height(), // $(window).height() has tail => MP_page.css => .tail_chk .M100_A_cont, ... {height:calc(100vh - 70px) !important;}
      items: {
        height:
          $(window).height() -
          $('#header').height() -
          $('.md_visual_control').height(), // $(window).height() has tail => MP_page.css => .tail_chk .M100_A_cont, ... {height:calc(100vh - 70px) !important;}
      },
    });
    _plugin.$carousel.trigger('updateSizes');
  }

  function getTitlePos(_plugin) {
    var cotrolTop = parseInt(_plugin.$controlWrap.css('top'));
    var txtTop = parseInt(
      _plugin.$carouselItem.find('.txt').css('padding-top'),
    );
    return {
      cotrolTop: cotrolTop,
      txtTop: txtTop,
    };
  }

  //chech banner style update
  function checkBanner(_plugin) {
    if (!_plugin.$tailBnr.length) return;
    switch (deviceType) {
      case 'PC':
        _plugin.$controlWrap.css('top', '');
        _plugin.$carouselItem.find('.txt').css('padding-top', '');

        break;
      case 'TABLET':
      case 'MOBILE':
        _plugin.$controlWrap.css('top', '');
        _plugin.$carouselItem.find('.txt').css('padding-top', '');
        break;
      // default:
      //     break;
    }
  }

  // Set carousel Aria
  function updateCarouselAria(_plugin) {
    _plugin.$carouselItem
      .attr('aria-hidden', true)
      .find('a, button')
      .attr('tabindex', -1);
    _plugin.$carouselItem
      .eq(_plugin.currentIndex)
      .removeAttr('aria-hidden')
      .find('a, button')
      .removeAttr('tabindex');
    _plugin.$pagn.is('[tabindex]') && _plugin.$pagn.removeAttr('tabindex');
  }

  // Update Control
  function updateControl(_plugin) {
    if (!_plugin.$control.wrap.hasClass('on')) {
      sequenceControl(_plugin, 'PLAY', false);
    } else {
      sequenceControl(_plugin, 'STOP', false);
    }
  }

  // Update Duration
  function updateDuration(_plugin) {
    var defaultInterval = 7000; // 닷컴요청 기본값 15초 ICS 개발 디폴트값도 확인필요함
    var dataInterval = _plugin.$carouselItem
      .eq(_plugin.currentIndex)
      .data('interval');
    var carouselInterval = dataInterval ? dataInterval : defaultInterval;
    _plugin.$carousel.trigger('configuration', {
      auto: {
        play: true,
        timeoutDuration: carouselInterval,
      },
    });
  }

  // Sequence Control: play, stop
  function sequenceControl(_plugin, option, changeFocus) {
    switch (option) {
      case 'PLAY':
        _plugin.$carousel.trigger('isPaused', function () {
          _plugin.$control.wrap.removeClass('on');
          _plugin.$carousel.trigger('play', [true, 0, true]);
          _plugin.$carouselItem.find('video').trigger('play');
        });
        break;
      case 'STOP':
        _plugin.$carousel.trigger('isScrolling', function () {
          _plugin.$control.wrap.addClass('on');
          _plugin.$carousel.trigger('pause', [true, true]);
          _plugin.$carouselItem.find('video').trigger('pause');
        });
        break;
      case 'SCOLL_STOP':
        _plugin.$carousel.trigger('isPaused', function () {
          _plugin.$control.wrap.addClass('on');
          _plugin.$carousel.trigger('pause', [true, true]);
        });
        break;
      // default:
      //     break;
    }
  }

  function updatePagn(_plugin) {
    _plugin.$testControl
      .find('.md_cont_bar_st')
      .text(setNum(_plugin.currentIndex + 1));
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  this.init();
}
fo.addPlugin(M100_A);

/** MP_ESG | 최신뉴스,인사이트리포트 */
function MP_ESG(el) {
  _proto = MP_ESG.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$itemCont = this.$el.find('.cont_list');
  this.$itemTxtHeight = this.$itemCont.find('.item');

  var _this = this;
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  this.mhItems;
  var mhTarget = ['.md_tit', '.md_txt'];

  _proto.init = function () {
    //console.log("init:: MP_ESG")
    // Device type check
    deviceType = checkDeviceType();

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateMhItem(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$itemTxtHeight.find(target);
    });
  }
  // Update Match Height Item
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };
    switch (deviceType) {
      case 'PC':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'TABLET':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          if (_plugin.$itemCont.hasClass('item3')) {
            _plugin.mhItems[idx].matchHeight(opt.remove);
          } else {
            _plugin.mhItems[idx].matchHeight(opt.init);
          }
        }
        break;
      // default:
      //     break;
    }
  }

  this.init();
}

fo.addPlugin(MP_ESG);

/** M101_A | Award */
function M101_A(el) {
  _proto = M101_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$visualArea = this.$el.find('.img .img_p');
  this.$carousel = this.$el.find('.owl-carousel');
  this.$carouselItem = this.$el.find('.owl-carousel .item');
  this.$pagn = this.$el.find('.owl-pagn');

  var _this = this; // M101_A
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    // console.log("init:: M101_A")
    // Device type check
    deviceType = checkDeviceType();

    // Set visual img
    this.setVisualImg();
    this.$el.find('.M101_A_cont').addClass('m' + this.$carouselItem.length);

    //if(this.$carouselItem.length < 4) return;

    /* 210510 | 접근성 | 모바일 활성화 Nav */
    if (this.$carouselItem.length >= 3) {
      this.$carousel.after(
        '<div class="owl-navm"><button class="owl-prevm"><em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em></button><button class="owl-nextm"><em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em></button></div>',
      );
    }
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    updateCarousel(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarousel(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  _proto.addEvent = function () {
    _this.$el.find('.owl-navm button').on('click', function (e) {
      e.stopPropagation();

      if ($(this).hasClass('owl-prevm')) {
        _this.$carousel.trigger('prev.owl.carousel');
        _this.$carousel.find('.owl-item.active.center').find('.item a').focus();
      } else if ($(this).hasClass('owl-nextm')) {
        _this.$carousel.trigger('next.owl.carousel');
        _this.$carousel.find('.owl-item.active.center').find('.item a').focus();
      }
    });
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1024) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setCarousel(_plugin) {
    if (_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    if (window.innerWidth > 1024) {
      _plugin.$carousel.owlCarousel({
        stageElement: 'ul',
        itemElement: 'li',
        autoWidth: true,
        loop: true,
        nav: true,
        navText: [
          '<em class="blind">' +
            langSet[lang]['slide']['prevStr'].toString() +
            '</em>',
          '<em class="blind">' +
            langSet[lang]['slide']['nextStr'].toString() +
            '</em>',
        ],
        dots: false,
        smartSpeed: 500,
        onInitialized: function (e) {
          initPagn(e, _plugin);
          setCarouselAria(_plugin);

          _plugin.$carousel.addClass('act');
        },
        onRefreshed: function (e) {
          // FIREFOX
          initPagn(e, _plugin);
          setCarouselAria(_plugin);

          _plugin.$carousel.addClass('act');
        },
        onChanged: function (e) {
          updatePagn(e, _plugin);
          setInterval(function () {
            _plugin.$el.scrollLeft(0);
          }, 100);
          _plugin.$carousel.removeClass('act');
          setAriaHidden(e, _plugin); /* 210510 | 접근성 | 모바일 활성화 Nav */
        },
      });
    } else {
      _plugin.$carousel.owlCarousel({
        stageElement: 'ul',
        itemElement: 'li',
        autoWidth: true,
        loop: true,
        center: true,
        nav: true,
        navText: [
          '<em class="blind">' +
            langSet[lang]['slide']['prevStr'].toString() +
            '</em>',
          '<em class="blind">' +
            langSet[lang]['slide']['nextStr'].toString() +
            '</em>',
        ],
        dots: false,
        smartSpeed: 500,
        onInitialized: function (e) {
          initPagn(e, _plugin);
          setCarouselAria(_plugin);

          _plugin.$carousel.addClass('act');
        },
        onRefreshed: function (e) {
          // FIREFOX
          initPagn(e, _plugin);
          setCarouselAria(_plugin);

          _plugin.$carousel.addClass('act');
        },
        onChanged: function (e) {
          updatePagn(e, _plugin);
          setInterval(function () {
            _plugin.$el.scrollLeft(0);
          }, 100);
          _plugin.$carousel.removeClass('act');
          setAriaHidden(e, _plugin); /* 210510 | 접근성 | 모바일 활성화 Nav */
        },
      });
    }
  }

  function updateCarousel(_plugin) {
    switch (deviceType) {
      case 'PC':
        _plugin.$carouselItem.length < 4
          ? destroyCarousel(_plugin) // 1,2
          : setCarousel(_plugin); // 3,4,5,6,7...
        break;
      case 'TABLET':
      case 'MOBILE':
        _plugin.$carouselItem.length < 3
          ? destroyCarousel(_plugin) // 1
          : setCarousel(_plugin); // 2,3,4,5,6,7...
        break;
      // default:
      //     break;
    }
  }

  //tabIndex, aria hidden 슬라이드 처음 inint 셋팅
  function setCarouselAria(_plugin) {
    var $clonedItem = _plugin.$carousel.find('.owl-item.cloned');
    var $clonedCurrent = _plugin.$carousel.find('.owl-item.active.center');
    var $pc_slideActive = _plugin.$carousel.find('.owl-item.active');

    $clonedItem.find('a, button').attr('tabindex', -1);
    $clonedItem.attr('aria-hidden', true);

    switch (deviceType) {
      case 'PC':
        _plugin.$carousel
          .find('.owl-item')
          .find('a, button')
          .attr({ 'aria-hidden': 'true', tabindex: '-1' });
        $pc_slideActive
          .add($pc_slideActive.find('a, button'))
          .attr({ 'aria-hidden': 'false', tabindex: '' });
        break;
      case 'TABLET':
      case 'MOBILE':
        $clonedCurrent
          .add($clonedCurrent.find('a, button'))
          .attr({ 'aria-hidden': 'false', tabindex: '' });
        break;
    }
  }

  function initPagn(e, _plugin) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;

    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
    _plugin.$pagn.find('.owl-pagn-ed').text(setNum(e.item.count));
  }

  function updatePagn(e, _plugin) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;

    if (isNaN(activeIndex)) return;

    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
  }

  function destroyCarousel(_plugin) {
    if (!_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    _plugin.$carousel.owlCarousel('destroy');
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  //tabIndex, aria hidden 슬라이드 after 셋팅
  function setAriaHidden(e, _plugin) {
    var currentIdx = e.item.index;
    var activeItem = $(e.target).find('.owl-item').eq(currentIdx); //current slide
    var pc_activeSlide_around = activeItem.next(),
      pcActiveSlide_around = pc_activeSlide_around.next();

    $(e.target)
      .find('.owl-item')
      .attr('aria-hidden', true)
      .attr('tabindex', -1);
    $(e.target)
      .find('.owl-item')
      .find('a,button')
      .attr({ 'aria-hidden': 'true', tabindex: '-1' });
    activeItem.attr('aria-hidden', false).attr('tabindex', '');
    switch (deviceType) {
      case 'PC':
        pc_activeSlide_around
          .add(pcActiveSlide_around)
          .attr({ 'aria-hidden': 'false', tabindex: '' });
        activeItem
          .find('a, button')
          .attr({ 'aria-hidden': 'false', tabindex: '' });
        pc_activeSlide_around
          .find('a, button')
          .add(pcActiveSlide_around.find('a, button'))
          .attr({ 'aria-hidden': 'false', tabindex: '' });
        break;
      case 'TABLET':
      case 'MOBILE':
        activeItem
          .find('.item a')
          .attr({ 'aria-hidden': 'false', tabindex: '' });
        break;
    }
  }
  this.init();
}
fo.addPlugin(M101_A);

/*** M103_A | filter list ***/
function M103_A(el) {
  _proto = M103_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$tabListArea = this.$el.find('.tab_list_area');
  this.$tabList = this.$el.find('.tab_list');
  this.$tabListBtn = this.$tabList.find('.tab_btn');
  this.$tabPanel = this.$el.find('.tab_panel');
  this.$filterTab = this.$el.find('.filter_tab');
  this.$filterTabBtn1 = this.$filterTab.eq(0).find('.filter_btn');
  this.$filterTabBtn2 = this.$filterTab.eq(1).find('.filter_btn');
  this.$filterTabCancel = this.$el.find('.filter_title_area');
  this.$filterTabCancel1 = this.$filterTabCancel.eq(0).find('.btn_cancel');
  this.$filterTabCancel2 = this.$filterTabCancel.eq(1).find('.btn_cancel');
  this.$sortArea = this.$el.find('.sort_area');
  this.$sortType = this.$el.find('.sort_type > a');
  this.$cardBox = this.$el.find('.card_box');
  this.$cardItem = this.$cardBox.find('.card_item'); /* 2022.09.24 Add */
  this.$btnWarning = this.$cardBox.find('.btn_warning'); /* 2022.09.20 */
  this.$sortOrderSelect = this.$el.find('.sort_order_select');
  this.$sortOrderSelectBtn = this.$sortOrderSelect.find('.select_btn');
  this.$dropdownBox = this.$sortOrderSelect.find('.dropdown_box');
  this.$dropdownBoxBtn = this.$dropdownBox.find('button');
  this.$dropdownBoxList = this.$dropdownBox.find('.list');
  this.$dropdownBoxItem = this.$dropdownBoxList.find('li a');
  this.$filterWrap = this.$el.find('.filter_wrapper');
  this.$filterItem = this.$filterWrap.find('.filter_item');
  this.$filterItemCancel = this.$filterItem.find('.btn_cancel');
  this.$filterItemCancelAll = this.$el.find(
    '.filter_area .btn_area > .btn_cancel',
  );
  this.$cateBadgeArea = this.$el.find('.cate_badge_area'); /* 2022.09.24 Add */
  this.slide;
  this.$container = this.$el.hasClass('swiper-container')
    ? this.$el
    : this.$el.find('.swiper-container');
  this.$wrapper = this.$container.find('.swiper-wrapper');
  this.$items = this.$container.find('.swiper-slide');
  this.$prevBtn = this.$container.find('.btn_prev');
  this.$nextBtn = this.$container.find('.btn_next');
  this.$toggleList = this.$el.find('.toggle_list');
  this.$toggleItem = this.$toggleList.find('.li');
  this.$filterOpenBtn = this.$el.find('.filter_open_btn');
  this.$filterCloseBtn = this.$el.find('.pop_header > .btn-close');
  this.$filterPop = this.$el.find('.left');
  this.$filterArea = this.$el.find('.filter_area');
  this.$filterpopContainer = this.$el.find('.pop_container');
  this.$filterpopCont = this.$el.find('.left.pop_view .pop_cont');
  this.key = this.$el.offset().top;
  this.onlyExpanded = false; // Only one item open flag
  this.opendIndex = []; // Open item array
  this.closedIndex = []; // Close item array

  var _this = this; // M103_A
  var deviceType = checkDeviceType();

  _proto.init = function () {
    //console.log("init:: M103_A")
    // this.onlyExpanded
    if (this.$el.is('[data-only-expanded]')) {
      this.onlyExpanded = this.data.onlyExpanded;
      this.$el.removeAttr('data-only-expanded');
    }

    // this.opendIndex
    if (
      this.$el.is('[data-opend-index]') &&
      typeof this.data.opendIndex == 'object'
    ) {
      this.opendIndex = this.data.opendIndex;
      this.$el.removeAttr('dta-opend-inadex');
    }

    // this.opendIndex: all item open
    if (this.$el.is('[data-opend-all]')) {
      this.opendIndex = new Array(this.$toggleItem.length + 1)
        .join('0')
        .split('')
        .map(function (a, idx) {
          return idx;
        });
      this.$el.removeAttr('data-opend-all');
    }

    // Exception, multiple items open
    if (this.opendIndex.length > 1) {
      this.onlyExpanded = false;
    }

    /* 탭 기능 버튼 첫번째 버튼 강제 selected */
    this.$tabListBtn.eq(0).addClass('selected');
    this.$tabPanel.eq(0).addClass('selected');
    _this.$sortType.eq(0).addClass('selected');
    _this.$sortType.eq(0).attr('aria-selected', 'true');

    // 필터 왼쪽 메뉴 높이값 만큼 min-height 값 넣기
    if (deviceType === 'PC') {
      setTimeout(function () {
        var $minHeight = _this.$filterpopContainer.outerHeight() + 100;
        $('.filter_cont').css('min-height', $minHeight);
      }, 1000);
    }

    // tab swiper 2022.09.17
    //setSwiper(_this);

    // Initial setting
    setAriaAttr(this);
    setOpenToggle(this);
    cateBadgeLetter(); /* 2022.09.24 */

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$cardItem.on({
      mouseenter: function () {
        _this.$cardItem.removeClass('selected');
        $(this).addClass('selected');
      },
    });

    // 아코디언 이벤트 바인딩
    _this.$toggleList.on('click', '.toggle_btn', function (e) {
      e.preventDefault();
      var index = $(this).parent().index();

      // When the toggle button is open
      if ($(this).hasClass('selected')) {
        _this.closedIndex = [index];
        setCloseToggle(_this);
        _this.opendIndex.splice(_this.opendIndex.indexOf(index), 1);
        return;
      }

      // When the toggle button is closed
      if (_this.onlyExpanded) {
        // Only one item open
        _this.closedIndex = [_this.opendIndex];
        setCloseToggle(_this);

        _this.opendIndex = [index];
        setOpenToggle(_this);
      } else {
        // Multiple items open
        _this.opendIndex.push(index);
        setOpenToggle(_this);
      }
      return;
    });

    // 탭 기능 모듈 2022.09.15
    _this.$tabListBtn.on('click', function () {
      var $this = $(this);
      var $scrollTop = _this.key;
      _this.activeTab = _this.$tabListBtn.index($this); // 탭메뉴 클릭해야 탭이 바뀝
      setOpenTab(_this);
      if (deviceType !== 'PC') {
        $('html').animate({ scrollTop: $scrollTop }, 600);
        setTimeout(function () {
          $('.M00_A').css('top', '-61px');
        }, 1000);
        return false;
      } else {
        $('html').animate({ scrollTop: $scrollTop }, 600);
        return false;
      }
    });

    // category filter tab 기능 모듈
    _this.$filterTabBtn1.on('click', function () {
      var $this = $(this);
      _this.selectedTab = _this.$filterTabBtn1.index($(this));
      setSelectFilter1(_this);

      $this.attr('aria-selected', 'true');
      $this.addClass('selected');

      if (deviceType !== 'PC') {
        if (!_this.$filterArea.hasClass('on')) {
          //var $fiterHeight = $(window).outerHeight() - _this.$filterArea.outerHeight() - $('.left.pop_view .pop_header').outerHeight();
          _this.$filterArea.addClass('on');
          $('.left.pop_view .pop_cont').css(
            'height',
            $(window).outerHeight() -
              _this.$filterArea.outerHeight() -
              $('.left.pop_view .pop_header').outerHeight(),
          );
        }
      } else {
        if (!_this.$filterArea.hasClass('on')) {
          //var $filterWrapMaxWidth =  $(".M103_A_cont .filter_area .title").outerWidth() + $(".M103_A_cont .filter_area .btn_area").outerWidth();
          // $(".M103_A_cont .filter_wrapper").css("max-width","calc(100% - " + $filterWrapMaxWidth + "px - 8px)");
        }
        if (
          _this.$filterpopContainer.outerHeight() >=
          $('.M103_A_cont .card_box').outerHeight()
        ) {
          $('html').animate({ scrollTop: _this.key }, 600);
        }
      }
    });

    // type filter tab 기능 모듈
    _this.$filterTabBtn2.on('click', function () {
      var $this = $(this);
      _this.selectedTab = _this.$filterTabBtn2.index($(this));
      setSelectFilter2(_this);

      // if(_this.selectedTab == 0) {
      //     _this.$filterTabBtn2.attr('aria-selected','false');
      //     _this.$filterTabBtn2.removeClass('selected');
      // }
      $this.attr('aria-selected', 'true');
      $this.addClass('selected');

      if (deviceType !== 'PC') {
        if (!_this.$filterArea.hasClass('on')) {
          _this.$filterArea.addClass('on');
        }
      } else {
        if (!_this.$filterArea.hasClass('on')) {
          var $filterWrapMaxWidth =
            $('.M103_A_cont .filter_area .title').outerWidth() +
            $('.M103_A_cont .filter_area .btn_area').outerWidth();
          $('.M103_A_cont .filter_wrapper').css(
            'max-width',
            'calc(100% - ' + $filterWrapMaxWidth + 'px - 8px)',
          );
        }
      }
    });

    /* card_box type */
    _this.$sortType.on('click', function () {
      var $this = $(this);
      if (window.innerWidth > 1024) {
        if ($this.hasClass('list_type1')) {
          _this.$cardBox.removeClass('type2');
          $('.M103_A_cont .card_item .md_tit').css(
            'width',
            'calc(100% - 55px)',
          ); /* 2022.09.27 */
          $('.M103_A_cont .card_item .md_txt').css('width', 'auto');
        } else {
          _this.$cardBox.addClass('type2');
          /* S: 2022.08.10-2 Add */
          $('.M103_A_cont .card_box.type2 .card_item').each(function () {
            var $this = $(this);
            var $cardBtnWidth = $this.find('.btn_area').outerWidth() + 30;
            (($cardMdTit = $this.find('.md_tit')),
              ($cardMdTxt = $this.find('.md_txt')));
            $cardMdTit.css('width', 'calc(100% - ' + $cardBtnWidth + 'px)');
            $cardMdTxt.css('width', 'calc(100% - ' + $cardBtnWidth + 'px)');
          });
          /* E: 2022.08.10-2 Add */
        }
      } else {
        if ($this.hasClass('list_type1')) {
          _this.$cardBox.removeClass('type2');
          _this.$sortType.eq(0).hide();
          _this.$sortType.eq(1).show();
        } else {
          _this.$cardBox.addClass('type2');
          _this.$sortType.eq(0).show();
          _this.$sortType.eq(1).hide();
        }
      }
      _this.$sortType.attr('aria-selected', 'false');
      _this.$sortType.removeClass('selected');
      $this.attr('aria-selected', 'true');
      $this.addClass('selected');
    });

    /* sort_order_select */
    _this.$sortOrderSelectBtn.on('click', function () {
      var $this = $(this);
      $this.parents('.dropdown_box').toggleClass('on');
      if ($this.parents('.dropdown_box').hasClass('on')) {
        $this.attr('aria-expanded', 'true');
        $this.siblings('.list').slideDown('fast');
      } else {
        $this.attr('aria-expanded', 'false');
        $this.siblings('.list').slideUp('fast');
      }
    });
    _this.$dropdownBoxItem.on({
      click: function () {
        /* 2022.09.07  */
        var $this = $(this),
          $thisParent = $this.closest('.list'),
          $thisTxt = $this.text();

        $thisParent.find('li a').removeClass('selected');
        $this.addClass('selected');
        $thisParent.children('li a').attr('aria-selected', 'false');
        $this.attr('aria-selected', 'true');
        $thisParent.slideUp('fast');
        _this.$sortOrderSelectBtn.children('span').text($thisTxt);
        $this.closest('.dropdown_box').removeClass('on'); /* 2022.09.14  */
        return false;
      },
      focus: function (e) {
        var $this = $(this);
        _this.$dropdownBoxItem.attr('aria-selected', false);
        $this.attr('aria-selected', 'true');
      },
      focusout: function (e) {
        _this.$dropdownBoxItem.attr('aria-selected', false);
      },
    });
    _this.$dropdownBox.on({
      mouseleave: function () {
        var $this = $(this);
        $this.find('button').attr('aria-expanded', 'false');
        $this.find('.list').slideUp('fast');
        $this.removeClass('on');
      },
    });
    _this.$dropdownBoxList.on({
      keydown: function (e) {
        e.stopPropagation();
        var $target = $(e.target);
        var keycode = e.keyCode;
        switch (keycode) {
          case 9:
            e.preventDefault();
            _this.$dropdownBox.removeClass('on');
            _this.$dropdownBoxBtn.attr('aria-expanded', 'false');
            _this.$dropdownBoxList.slideUp('fast');
            break;
          case 38:
            e.preventDefault();
            if ($target.parent().index() > 0)
              $target.parent().prev().find('a').focus();
            break;
          case 40:
            e.preventDefault();
            var len = $target.parents('.list').children().length - 1;
            if ($target.parent().index() < len)
              $target.parent().next().find('a').focus();
            break;
        }
      },
    });

    /* Select filter tab cancel button all */
    _this.$filterTabCancel1.on({
      click: function () {
        _this.$filterTabBtn1.attr('aria-selected', 'false');
        _this.$filterTabBtn1.removeClass('selected');
      },
    });
    _this.$filterTabCancel2.on({
      click: function () {
        _this.$filterTabBtn2.attr('aria-selected', 'false');
        _this.$filterTabBtn2.removeClass('selected');
      },
    });

    /* Select filter cancel */
    _this.$filterItemCancel.on({
      click: function (e) {
        var $this = $(this);
        // $this.parent(_this.$filterItem).remove();
      },
    });
    /* Select filter cancel all */
    _this.$filterItemCancelAll.on({
      click: function () {
        _this.$filterTabBtn1.attr('aria-selected', 'false');
        _this.$filterTabBtn1.removeClass('selected');
        _this.$filterTabBtn2.attr('aria-selected', 'false');
        _this.$filterTabBtn2.removeClass('selected');
        // _this.$filterItem.remove();
        // _this.$filterTabBtn1.eq(0).attr('aria-selected','true');
        // _this.$filterTabBtn1.eq(0).addClass('selected');
        if (deviceType !== 'PC') {
          if (_this.$filterArea.hasClass('on')) {
            _this.$filterArea.removeClass('on');
          }
        }
      },
    });

    _this.$filterOpenBtn.on({
      click: function () {
        var $popView = $(this).closest('.pop_view');
        if (!_this.$filterPop.hasClass('pop_view')) {
          openTab(_this.$filterPop, true, _this);
        } else {
          closeTab($popView, true);
        }
      },
    });

    _this.$filterCloseBtn.on({
      click: function () {
        var $popView = $(this).closest('.pop_view');
        closeTab($popView, true);
        setTimeout(() => {
          _this.$filterOpenBtn.focus();
        }, 200);
      },
    });

    /* 2022.09.20 Add */
    _this.$btnWarning.on({
      mouseover: function () {
        var $this = $(this);
        $this.find('.pop_longletter').show();
      },
      mouseout: function () {
        var $this = $(this);
        $this.find('.pop_longletter').hide();
      },
    });

    $(document).ready(function () {
      updateTab();
    });

    // window resize
    $(window).resize(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateTab();
        if (deviceType === 'PC') {
          if (_this.$sortType.find('.list_type1.selected')) {
            _this.$sortType.eq(0).show();
          }
          if (_this.$sortType.find('.list_type2.selected')) {
            _this.$sortType.eq(1).show();
          }
        }
      }
    });

    $(window).on('scroll', function () {
      var cur_pos = $(this).scrollTop();
      var top = _this.key + _this.$tabListArea.outerHeight(),
        top2 = $('.filter_cont').offset().top,
        /* 2022.09.21 Add */
        bottom = top + _this.$el.outerHeight() - 100; /* 2022.09.15 */
      var bottom2 =
        _this.$el.offset().top +
        _this.$el.outerHeight() -
        _this.$filterpopContainer.outerHeight() -
        200; /* 2022.09.14 */
      var bottom3 =
        _this.$el.offset().top +
        _this.$el.outerHeight() -
        _this.$sortArea.outerHeight() -
        _this.$tabListArea.outerHeight() -
        200; /* 2022.09.14 */

      if (deviceType !== 'PC') {
        if (cur_pos >= top && cur_pos <= bottom3) {
          if (!_this.$sortArea.hasClass('fixed')) {
            _this.$sortArea.addClass('fixed');
          }
        } else {
          if (_this.$sortArea.hasClass('fixed')) {
            _this.$sortArea.removeClass('fixed');
          }
        }
      } else {
        if (cur_pos >= top2 && cur_pos <= bottom) {
          /* 2022.09.21 top -> top2 */
          if (!_this.$filterpopContainer.hasClass('fixed')) {
            _this.$filterpopContainer.addClass('fixed');
            if ($('body').hasClass('sc_down')) {
              _this.$filterpopContainer.css({
                position: 'fixed',
                top: '70px',
                bottom: 'auto',
              });
            } else {
              _this.$filterpopContainer.css({
                position: 'fixed',
                top: '130px',
                bottom: 'auto',
              });
            }
          }
          if (cur_pos >= bottom2) {
            _this.$filterpopContainer.removeClass('fixed').css({
              position: 'absolute',
              top: 'auto',
              bottom: '0px',
            });
          }
        } else {
          _this.$filterpopContainer.removeClass('fixed').css({
            position: 'static',
            top: 'auto',
            bottom: 'auto',
          });
        }
      }
    });
  };

  /* S: 2022.09.24 cate_badge_area pop_longletter */
  function cateBadgeLetter() {
    _this.$cardItem.each(function () {
      var $this = $(this),
        $cateBadgeSpan1 = $this.find('.cate_badge span:first-of-type'),
        $cateBadgeSpan2 = $this.find('.cate_badge span:last-of-type'),
        $cateBadgeHieght1 = $cateBadgeSpan1.height(),
        $cateBadgeHieght2 = $cateBadgeSpan2.height(),
        th_orgin = 22; /* line-height 값 */

      if (th_orgin < $cateBadgeHieght1 || th_orgin < $cateBadgeHieght2) {
        $this.find('.cate_badge .pop_longletter').addClass('hover_open');
      } else {
        $this.find('.cate_badge .pop_longletter').removeClass('hover_open');
      }
    });
  }
  /* E: 2022.09.24 */

  function updateTab(_plugin) {
    if (deviceType !== 'PC') {
      closeTab($(this), false);
      $(this).find('.tit').attr('tabindex', 0);
    } else {
      openTab($(this), false, _plugin);
      $(this).find('.tit').removeAttr('tabindex');
    }
  }

  function openTab($popViewWrap, isFocusMove, _plugin) {
    $popViewWrap.addClass('pop_view');
    if (!$popViewWrap.find('.scroll-wrapper').length) {
      $popViewWrap.find('.pop_cont').scrollbar();
    }

    if (deviceType !== 'PC') {
      $('body').addClass('hid_s');
      /* 210527 | 접근성 | IOS Focus Issue settimeout추가 */
      setTimeout(function () {
        _plugin.$filterpopContainer.find('.btn-close').focus();
      }, 200);
      /* //210527 | 접근성 | IOS Focus Issue settimeout추가 */

      /* 210511 | 접근성 | 팝업 밑에 텍스트 초점안가게 */
      //202304-02 웹접근 : 모바일 조건 수정,추가
      var ariahidden = $(
        '#skip_navi, header, footer, #container .inner > h1, .filterContainer > div:not(.left), .left .list > a, #container > div:not(.M103_A), #container .inner > div:not(.M103_A_cont), #container .inner > div .filter_cont > div:not(.left)',
      );
      ariahidden.attr({
        'aria-hidden': true,
        tabindex: -1,
      });
      /* //210511 | 접근성 | 팝업 밑에 텍스트 초점안가게 */

      /* filter .filter_item  style="display:block" 존재여부 2022.08.10-2 Add */
      _this.$filterArea.find('.filter_item').each(function () {
        var $this = $(this);
        if ($this.css('display') == 'none') {
          // _this.$filterArea.removeClass('on');
          return;
        } else {
          _this.$filterArea.addClass('on');
          $('.left.pop_view .pop_cont').css(
            'height',
            $(window).outerHeight() -
              _this.$filterArea.outerHeight() -
              $('.left.pop_view .pop_header').outerHeight(),
          );
        }
      }); /* 2022.08.10 Add */
    }
  }

  function closeTab($popViewWrap, isFocusMove) {
    $popViewWrap.removeClass('pop_view');
    $('body').removeClass('hid_s');

    if (isFocusMove) {
      /* 210527 | 접근성 | IOS Focus Issue settimeout추가 */
      setTimeout(function () {
        $popViewWrap.find('.btn').attr('tabindex', '0').focus();
      }, 300);
      /* //210527 | 접근성 | IOS Focus Issue settimeout추가 */
    }

    if (deviceType !== 'PC') {
      /* 210511 | 접근성 | 팝업 밑에 텍스트 초점안가게 */
      //202304-02 웹접근 : 모바일 조건 추가
      var ariahidden = $(
        '#skip_navi, header, footer, #container .inner > h1, #container .inner > div:not(.filterContainer), .filterContainer > div:not(.left), .left .list > a, #container > div:not(.MP_resource), #container .inner > div .filter_cont > div:not(.left)',
      );
      ariahidden.removeAttr('tabindex');
      ariahidden.removeAttr('aria-hidden');
      /* //210511 | 접근성 | 팝업 밑에 텍스트 초점안가게 */
      _this.$filterArea.removeClass('on');
    }
  }
  // Set Swiper
  function setSwiper(_plugin) {
    _plugin.slide = new Swiper(_plugin.$container, {
      a11y: true,
      loop: false,
      centeredSlides: false,
      slidesPerView: 'auto',
      freeMode: true,
      watchSlidesVisibility: true,
      keyboardControl: true,
      slidesOffsetBefore: 0,
      slidesOffsetAfter: 0,
      onInit: function (swiper) {
        setSlideStyle(_this, swiper);
        // setControlStyle(_this, swiper);
      },
    });
  }

  // slide, prev button, next button style
  function setSlideStyle(_plugin, swiper) {
    var slideWidth = 0;
    swiper.slidesSizesGrid.map(function (width) {
      slideWidth += width;
    });

    if (slideWidth <= swiper.size) {
      // fixed wrapper
      _plugin.$wrapper.not('.isFixed') &&
        _plugin.$wrapper
          .addClass('isFixed')
          .css('transform', 'translate3d(0px, 0px, 0px);');
      // button disabled
      _plugin.$prevBtn.not('[disabled]') &&
        _plugin.$prevBtn.attr('disabled', 'disabled').addClass('disabled');
      _plugin.$nextBtn.not('[disabled]') &&
        _plugin.$nextBtn.attr('disabled', 'disabled').addClass('disabled');
    } else {
      // fixed wrapper
      _plugin.$wrapper.is('.isFixed') &&
        _plugin.$wrapper
          .removeClass('isFixed')
          .css('transform', 'translate3d(0px, 0px, 0px);');
      // button disabled
      _plugin.$prevBtn.is('[disabled]') &&
        _plugin.$prevBtn.removeAttr('disabled').removeClass('disabled');
      _plugin.$nextBtn.is('[disabled]') &&
        _plugin.$nextBtn.removeAttr('disabled').removeClass('disabled');
    }
  }

  // Apply aria properties
  function setAriaAttr(_plugin) {
    _plugin.$toggleItem.each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this)
        .find('.toggle_btn')
        .attr({
          id: 'toggle_btn_' + key, // fixed
          'aria-controls': 'toggle_cont_' + key, // fixed
          'aria-expanded': false, // changeable
        });

      $(this)
        .find('.toggle_cont')
        .attr({
          role: 'region', // fixed
          id: 'toggle_cont_' + key, // fixed
          'aria-labelledby': 'toggle_btn_' + key, // fixed
          'aria-hidden': true, // changeable
        });
    });
  }

  // Open toggle
  function setOpenToggle(_plugin) {
    for (var index = 0; index < _plugin.opendIndex.length; index++) {
      var $item = _plugin.$toggleItem.eq(_plugin.opendIndex[index]);
      $item
        .find('.toggle_btn')
        .attr('aria-expanded', true)
        .addClass('selected');
      $item.find('.toggle_cont').attr('aria-hidden', false).stop().slideDown();
    }
  }

  // Close toggle
  function setCloseToggle(_plugin) {
    for (var index = 0; index < _plugin.closedIndex.length; index++) {
      var $item = _plugin.$toggleItem.eq(_plugin.closedIndex[index]);
      $item
        .find('.toggle_btn')
        .attr('aria-expanded', false)
        .removeClass('selected');
      $item.find('.toggle_cont').attr('aria-hidden', true).stop().slideUp();

      _plugin.closedIndex.shift();
    }
  }

  function setOpenTab(_plugin) {
    // Exception, if there is no activation tab
    if (_plugin.activeTab >= _plugin.$tabPanel.length) {
      return;
    }

    // Activate tab button
    _plugin.$tabListBtn
      .removeClass('selected')
      .attr({
        'aria-selected': false,
      })
      .eq(_plugin.activeTab)
      .addClass('selected')
      .attr({
        'aria-selected': true,
      });

    // Activate tab panel
    _plugin.$tabPanel
      .removeClass('selected')
      .eq(_plugin.activeTab)
      .addClass('selected');
  }

  function setSelectFilter1(_plugin) {
    // Activate category filter tab button
    _plugin.$filterTabBtn1
      // .eq(0).removeClass("selected")
      // .eq(0).attr({"aria-selected": false})
      .eq(_plugin.selectedTab)
      .addClass('selected')
      .attr({ 'aria-selected': true });
  }

  function setSelectFilter2(_plugin) {
    // Activate type filter tab button
    _plugin.$filterTabBtn2
      // .eq(0).removeClass("selected")
      // .eq(0).attr({"aria-selected": false})
      .eq(_plugin.selectedTab)
      .addClass('selected')
      .attr({ 'aria-selected': true });
  }

  // function setCloseAll(_plugin) {
  // }

  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  this.init();
}
fo.addPlugin(M103_A);

/** M104_A | FAQ **/
function M104_A(el) {
  _proto = M104_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$tabSlideArea = this.$el.find('.tab_slide_area');
  this.$tabList = this.$tabSlideArea.find('.tab_list');
  this.$tabListItem = this.$tabList.find('.swiper-slide');
  this.$tabListBtn = this.$tabList.find('.tab_btn');
  this.$tabPanel = this.$el.find('.tab_panel');
  this.$toggleList = this.$el.find('.toggle_list');
  this.$toggleItem = this.$toggleList.find('.li');
  this.$container = this.$el.find('.swiper-container');
  this.$wrapper = this.$container.find('.swiper-wrapper');
  this.$items = this.$container.find('.swiper-slide');
  this.slide;
  this.$slideArrowCont = this.$el.find('.tab_arrow');
  this.$slidePrevBtn = this.$slideArrowCont.find('.swiper-button-prev');
  this.$slideNextBtn = this.$slideArrowCont.find('.swiper-button-next');
  this.key = this.$el.offset().top;
  this.onlyExpanded = false; // Only one item open flag
  this.opendIndex = []; // Open item array
  this.closedIndex = []; // Close item array

  var _this = this; // M06_D
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var slideTotalWidth = 0;

  _proto.init = function () {
    // Device type check
    deviceType = checkDeviceType();

    // Set swiper
    updateCarousel(this);
    slideArrowOnOff(this);
    find_M118_tabCheck(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarousel(_this);
        slideArrowOnOff(_this);
        find_M118_tabCheck(_this);
      }
    }, 200);

    // this.onlyExpanded
    if (this.$el.is('[data-only-expanded]')) {
      this.onlyExpanded = this.data.onlyExpanded;
      this.$el.removeAttr('data-only-expanded');
    }

    // this.opendIndex
    if (
      this.$el.is('[data-opend-index]') &&
      typeof this.data.opendIndex == 'object'
    ) {
      this.opendIndex = this.data.opendIndex;
      this.$el.removeAttr('dta-opend-inadex');
    }

    // this.opendIndex: all item open
    if (this.$el.is('[data-opend-all]')) {
      this.opendIndex = new Array(this.$toggleItem.length + 1)
        .join('0')
        .split('')
        .map(function (a, idx) {
          return idx;
        });
      this.$el.removeAttr('data-opend-all');
    }

    // Exception, multiple items open
    if (this.opendIndex.length > 1) {
      this.onlyExpanded = false;
    }

    // Initial setting
    setAriaAttr(this);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    // 아코디언 이벤트 바인딩
    this.$toggleList.on('click', '.li', function () {
      var btn = $(this).find('.toggle_btn');
      var cont = $(this).find('.toggle_cont');
      var onlyExpanded = _this.$el.data('only-expanded');
      var open = function () {
        btn.attr('aria-expanded', true).addClass('selected');
        cont.attr('aria-hidden', false).stop().slideDown();
      };
      var openOnlyOne = function () {
        cont.attr('aria-hidden', false).stop().slideToggle();
        cont.parent().siblings('li').children('.toggle_cont').slideUp();
      };
      var close = function () {
        btn.attr('aria-expanded', false).removeClass('selected');
        cont.attr('aria-hidden', true).stop().slideUp();
      };

      if (onlyExpanded === true) {
        // onlyExpanded 옵션 - 리스트 단일 선택이였을때 아코디언 슬라이드 옵션
        openOnlyOne();
      } else {
        // default 옵션 - 리스트 멀티 선택 가능한 아코디언 슬라이드 옵션
        if (!btn.hasClass('selected')) {
          open();
        } else {
          close();
        }
      }
    });

    // 아코디언 옵션 opend-index[n]였을때 아코디언 최초 [n]번째 열려있는 상태
    this.$toggleList.each(function () {
      if (_this.$el.data('opend-index').length === 0) {
        return false;
      }
      var openIndex = _this.$el.data('opend-index')[0];
      $(this).find('.li').eq(openIndex).trigger('click');
    });

    // 탭 초점 이동(방향키), 탭 활성화(Space/Enter key) 기능
    _this.$tabListBtn.on({
      click: function () {
        _this.activeTab = _this.$tabListBtn.index($(this)); // 탭메뉴 클릭해야 탭이 바뀝
        setOpenTab(_this);
        // 선택된 탭 활성화
        $(this)
          .attr({ 'aria-hidden': 'false', 'aria-selected': 'true' })
          .addClass('selected')
          // 기존 탭 비활성화
          .parent()
          .siblings()
          .find('a')
          .attr({ 'aria-hidden': 'false', 'aria-selected': 'false' })
          .removeClass('selected');
      },
    });

    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function find_M118_tabCheck(_plugin) {
    var m118Afind = $('.M118_A');

    if (m118Afind.length) {
      switch (deviceType) {
        case 'MOBILE':
          if (deviceType == 'MOBILE') {
            var m118AfindBtn = m118Afind.find('.tabs_area li a');

            m118AfindBtn.on('click', function () {
              setSwiper(_plugin);
              slideArrowOnOff(_plugin);
            });
          }
          break;
        // default:
        //     break;
      }
    }
  }

  //swiper Slide inint
  function setSwiper(_plugin) {
    //setTimeout 슬라이드 너비를 불러오는 속도가 기기마다 차이가 있으므로 타임아웃 추가
    setTimeout(() => {
      _plugin.slide = new Swiper(_plugin.$container, {
        a11y: false,
        loop: false,
        nextButton: '.swiper-button-next',
        prevButton: '.swiper-button-prev',
        spaceBetween: 20,
        centeredSlides: false,
        slidesPerView: 'auto',
        // slidesPerView: 1,
        freeMode: true,
        // watchOverflow: true,
        watchSlidesVisibility: true, //화면에 보여지는 슬라이드 표시
        // keyboardControl: true,
        // slidesOffsetBefore: 0,
        // slidesOffsetAfter: 0, // 슬라이드 시작 부분 여백
        /* S: Tab메뉴 시 슬라이더 오류: 불러올 때마다 새로 고침 해 주는 역할 2022.10.18 Add */
        // observer: true,
        // observeParents: true,
        allowTouchMove: false, //(false-스와이핑안됨)버튼으로만 슬라이드 조작이 가능
        breakpoints: {
          1024: {
            allowTouchMove: true, //(false-스와이핑안됨) 버튼으로만 슬라이드 조작이 가능
          },
        },
        /* E: 2022.10.18 Add */
        onInit: function (swiper) {
          var visible_slide = _plugin.$tabList.find(
              'li.swiper-slide.swiper-slide-visible',
            ),
            visible_slide_last = visible_slide.eq(-1);

          //슬라이드 리스트 item 웹접근성 data
          visible_slide
            .attr({ tabindex: '', 'aria-hidden': 'false' })
            .siblings(':not(.swiper-slide-visible)')
            .attr({ tabindex: '-1', 'aria-hidden': 'ture' });

          //슬라이드 안의 a버튼 웹접근성 data
          visible_slide
            .find('a')
            .attr({ tabindex: '', 'aria-hidden': 'false' })
            .parent()
            .siblings(':not(.swiper-slide-visible)')
            .find('a')
            .attr({ tabindex: '-1', 'aria-hidden': 'ture' });

          //visible 마지막 슬라이드는 웹접근 데이터 삭제
          visible_slide_last.attr({ tabindex: '-1', 'aria-hidden': 'ture' });
          visible_slide_last
            .find('a')
            .attr({ tabindex: '-1', 'aria-hidden': 'ture' });

          //모바일이였을때는(600이하) 마지막 슬라이드 였을 경우
          // if(deviceType == "MOBILE") {
          //     visible_slide_last.add(visible_slide_last.find('a')).attr({"tabindex" : "", "aria-hidden" : "false"})
          // }
        },
        onTransitionStart: function (swiper) {
          var visible_slide = _plugin.$tabList.find(
              'li.swiper-slide.swiper-slide-visible',
            ),
            visible_slide_second = visible_slide.eq(1),
            visible_slide_lastSecond = visible_slide.eq(-2),
            visible_slide_last = visible_slide.eq(-1),
            visible_secondSlide_button = visible_slide_second.find('a'),
            visible_lastSlide_button = visible_slide_last.find('a'),
            visible_lastSecondSlide_button = visible_slide_lastSecond.find('a');

          //슬라이드 리스트 item 웹접근성 data
          visible_slide
            .attr({ tabindex: '', 'aria-hidden': 'false' })
            .siblings(':not(.swiper-slide-visible)')
            .attr({ tabindex: '-1', 'aria-hidden': 'ture' });

          //슬라이드 안의 a버튼 웹접근성 data
          visible_slide
            .find('a')
            .attr({ tabindex: '', 'aria-hidden': 'false' })
            .parent()
            .siblings(':not(.swiper-slide-visible)')
            .find('a')
            .attr({ tabindex: '-1', 'aria-hidden': 'ture' });

          //visible 마지막 슬라이드는 웹접근 데이터 삭제
          visible_slide_last
            .add(visible_lastSlide_button)
            .attr({ tabindex: '-1', 'aria-hidden': 'ture' });

          //슬라이드 next버튼 클릭, 맨끝 슬라이드로 도달시 마지막 슬라이드는 웹접근 데이터 삭제
          if (_plugin.$slideNextBtn.hasClass('swiper-button-disabled')) {
            visible_slide_last
              .add(visible_lastSlide_button)
              .attr({ tabindex: '', 'aria-hidden': 'false' });
          }
        },
      });
    }, 200);
  }

  //swiper Slide destroy
  function destroyCarousel(_plugin) {
    _plugin.$container.find('.swiper-wrapper').removeAttr('style');
    _plugin.$container.find('.swiper-slide').removeAttr('style');
  }

  //슬라이드 아이템 개수가 많으면 슬라이드 arrow 버튼 유,무
  function slideArrowOnOff(_plugin) {
    _plugin.$tabListItem.each(function (i) {
      slideTotalWidth += parseInt($(this).outerWidth(true), 10);
    });
    if (_plugin.$tabList.width() >= slideTotalWidth) {
      _plugin.$slideArrowCont.addClass('no_arrow');
    } else {
      _plugin.$slideArrowCont.removeClass('no_arrow');
    }
    //증가 반복 초기화
    slideTotalWidth = 0;
  }

  function updateCarousel(_plugin) {
    switch (deviceType) {
      case 'PC':
        destroyCarousel(_plugin);
        _plugin.$tabListItem
          .add(_plugin.$tabListBtn)
          .removeAttr('tabindex aria-hidden');
        break;
      case 'TABLET':
      case 'MOBILE':
        setSwiper(_plugin);
        break;
      // default:
      //     break;
    }
  }

  // Apply aria properties
  function setAriaAttr(_plugin) {
    _plugin.$el.find('.M104_C_cont').attr('data-role', 'tab');
    _plugin.$tabList
      .attr('role', 'tablist') // fixed
      .find('li')
      .attr('role', 'presentation'); // fixed

    _plugin.$tabListBtn.each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this).attr({
        role: 'tab', // fixed
        id: 'tab_btn_' + key, // fixed
        'aria-controls': 'tab_panel_' + key, // fixed
        'aria-selected': 'false', // changeable
        // 'tabindex':'-1' //202304-01 웹접근 삭제
      });
    });
    _plugin.$tabPanel.each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this).attr({
        role: 'region', // fixed
        id: 'tab_panel_' + key, // fixed
        'aria-labelledby': 'tab_btn_' + key, // fixed
        // 'tabindex':'-1', //202304-01 웹접근 삭제
        hidden: 'true',
      });
    });
    _plugin.$tabListBtn.removeClass('selected');
    _plugin.$tabPanel.removeClass('selected');

    _plugin.$tabListBtn
      .eq(0)
      .attr('aria-selected', 'true')
      .addClass('selected'); //202304-01 웹접근 수정
    _plugin.$tabPanel.eq(0).removeAttr('hidden').addClass('selected'); //202304-01 웹접근 수정

    _plugin.$toggleList.attr('data-role', 'accordion-group');
    _plugin.$toggleItem.each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this)
        .find('.toggle_btn')
        .attr({
          id: 'toggle_btn_' + key, // fixed
          'aria-controls': 'toggle_cont_' + key, // fixed
          'aria-expanded': false, // changeable
        });
      $(this)
        .find('.toggle_cont')
        .attr({
          role: 'region', // fixed
          id: 'toggle_cont_' + key, // fixed
          'aria-labelledby': 'toggle_btn_' + key, // fixed
          'aria-hidden': true, // changeable
        });
    });
  }

  function setOpenTab(_plugin) {
    // Exception, if there is no activation tab
    if (_plugin.activeTab >= _plugin.$tabPanel.length) {
      return;
    }
    // Activate tab button
    _plugin.$tabListBtn
      .removeClass('selected')
      .attr('aria-selected', 'fale') //202304-01 웹접근 수정
      .eq(_plugin.activeTab)
      .addClass('selected')
      .attr('aria-selected', 'true'); //202304-01 웹접근 수정

    // Activate tab panel
    _plugin.$tabPanel
      .removeClass('selected')
      .attr('hidden', 'true') //202304-01 웹접근 수정
      .eq(_plugin.activeTab)
      .addClass('selected')
      .removeAttr('hidden'); //202304-01 웹접근 수정
  }

  this.init();
}
fo.addPlugin(M104_A);

/** Notice | FAQ **/
function M104_B(el) {
  _proto = M104_B.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$toggleList = this.$el.find('.toggle_list');
  this.$toggleItem = this.$toggleList.find('.li');
  this.key = this.$el.offset().top;
  this.onlyExpanded = false; // Only one item open flag
  this.opendIndex = []; // Open item array
  this.closedIndex = []; // Close item array

  var _this = this; // M104_B

  _proto.init = function () {
    //console.log("init:: M104_B")
    // this.onlyExpanded
    if (this.$el.is('[data-only-expanded]')) {
      this.onlyExpanded = this.data.onlyExpanded;
      this.$el.removeAttr('data-only-expanded');
    }

    // this.opendIndex
    if (
      this.$el.is('[data-opend-index]') &&
      typeof this.data.opendIndex == 'object'
    ) {
      this.opendIndex = this.data.opendIndex;
      this.$el.removeAttr('dta-opend-inadex');
    }

    // this.opendIndex: all item open
    if (this.$el.is('[data-opend-all]')) {
      this.opendIndex = new Array(this.$toggleItem.length + 1)
        .join('0')
        .split('')
        .map(function (a, idx) {
          return idx;
        });
      this.$el.removeAttr('data-opend-all');
    }

    // Exception, multiple items open
    if (this.opendIndex.length > 1) {
      this.onlyExpanded = false;
    }

    // Initial setting
    setAriaAttr(this);
    setOpenToggle(this);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$toggleList.on('click', '.toggle_btn', function (e) {
      e.preventDefault();
      var index = $(this).parent().index();
      // When the toggle button is open
      if ($(this).hasClass('active')) {
        _this.closedIndex = [index];
        setCloseToggle(_this);
        _this.opendIndex.splice(_this.opendIndex.indexOf(index), 1);
        return;
      }
      // When the toggle button is closed
      if (_this.onlyExpanded) {
        // Only one item open
        _this.closedIndex = [_this.opendIndex];
        setCloseToggle(_this);

        _this.opendIndex = [index];
        setOpenToggle(_this);
      } else {
        // Multiple items open
        _this.opendIndex.push(index);
        setOpenToggle(_this);
      }
      return;
    });
  };

  // Apply aria properties
  function setAriaAttr(_plugin) {
    _plugin.$toggleList.attr('data-role', 'accordion-group');
    _plugin.$toggleItem.each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this)
        .find('.toggle_btn')
        .attr({
          id: 'toggle_btn_' + key, // fixed
          'aria-controls': 'toggle_cont_' + key, // fixed
          'aria-expanded': false, // changeable
        });
      $(this)
        .find('.toggle_cont')
        .attr({
          role: 'region', // fixed
          id: 'toggle_cont_' + key, // fixed
          'aria-labelledby': 'toggle_btn_' + key, // fixed
          'aria-hidden': true, // changeable
        });
    });
  }

  // Open toggle
  function setOpenToggle(_plugin) {
    for (var index = 0; index < _plugin.opendIndex.length; index++) {
      var $item = _plugin.$toggleItem.eq(_plugin.opendIndex[index]);
      $item.find('.toggle_btn').attr('aria-expanded', true).addClass('active');
      $item.find('.toggle_cont').attr('aria-hidden', false).stop().slideDown();
    }
  }

  // Close toggle
  function setCloseToggle(_plugin) {
    for (var index = 0; index < _plugin.closedIndex.length; index++) {
      var $item = _plugin.$toggleItem.eq(_plugin.closedIndex[index]);
      $item
        .find('.toggle_btn')
        .attr('aria-expanded', false)
        .removeClass('active');
      $item.find('.toggle_cont').attr('aria-hidden', true).stop().slideUp();

      _plugin.closedIndex.shift();
    }
  }
  this.init();
}
fo.addPlugin(M104_B);

/** M104_C | FAQ **/
function M104_C(el) {
  _proto = M104_C.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$tabSlideArea = this.$el.find('.tab_slide_area');
  this.$tabList = this.$el.find('.tab_list');
  this.$tabListBtn = this.$tabList.find('.tab_btn');
  this.$tabPanel = this.$el.find('.tab_panel');
  this.$toggleList = this.$el.find('.toggle_list');
  this.$toggleItem = this.$toggleList.find('.li');
  this.key = this.$el.offset().top;
  this.onlyExpanded = false; // Only one item open flag
  this.opendIndex = []; // Open item array
  this.closedIndex = []; // Close item array

  var _this = this; // M104_C

  _proto.init = function () {
    /* PC에서 슬라이드 제거 */
    chkDeviceTab(_this);

    // this.onlyExpanded
    if (this.$el.is('[data-only-expanded]')) {
      this.onlyExpanded = this.data.onlyExpanded;
      this.$el.removeAttr('data-only-expanded');
    }

    // this.opendIndex
    if (
      this.$el.is('[data-opend-index]') &&
      typeof this.data.opendIndex == 'object'
    ) {
      this.opendIndex = this.data.opendIndex;
      this.$el.removeAttr('dta-opend-inadex');
    }

    // this.opendIndex: all item open
    if (this.$el.is('[data-opend-all]')) {
      this.opendIndex = new Array(this.$toggleItem.length + 1)
        .join('0')
        .split('')
        .map(function (a, idx) {
          return idx;
        });
      this.$el.removeAttr('data-opend-all');
    }

    // Exception, multiple items open
    if (this.opendIndex.length > 1) {
      this.onlyExpanded = false;
    }

    // Initial setting
    setAriaAttr(this);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    // 아코디언 이벤트 바인딩
    this.$toggleList.on('click', '.li', function () {
      var btn = $(this).find('.toggle_btn');
      var cont = $(this).find('.toggle_cont');
      var onlyExpanded = _this.$el.data('only-expanded');
      var open = function () {
        btn.attr('aria-expanded', true).addClass('selected');
        cont.attr('aria-hidden', false).stop().slideDown();
      };
      var openOnlyOne = function () {
        cont.attr('aria-hidden', false).stop().slideToggle();
        cont.parent().siblings('li').children('.toggle_cont').slideUp();
      };
      var close = function () {
        btn.attr('aria-expanded', false).removeClass('selected');
        cont.attr('aria-hidden', true).stop().slideUp();
      };
      if (onlyExpanded === true) {
        // onlyExpanded 옵션 - 리스트 단일 선택이였을때 아코디언 슬라이드 옵션
        openOnlyOne();
      } else {
        // default 옵션 - 리스트 멀티 선택 가능한 아코디언 슬라이드 옵션
        if (!btn.hasClass('selected')) {
          open();
        } else {
          close();
        }
      }
    });

    // 아코디언 옵션 opend-index[n]였을때 아코디언 최초 [n]번째 열려있는 상태
    this.$toggleList.each(function () {
      if (_this.$el.data('opend-index').length === 0) {
        return false;
      }
      var openIndex = _this.$el.data('opend-index')[0];
      $(this).find('.li').eq(openIndex).trigger('click');
    });

    // 탭 초점 이동(방향키), 탭 활성화(Space/Enter key) 기능
    _this.$tabListBtn.on({
      click: function () {
        _this.activeTab = _this.$tabListBtn.index($(this)); // 탭메뉴 클릭해야 탭이 바뀝
        setOpenTab(_this);
        // 선택된 탭 활성화
        $(this)
          .attr('aria-selected', 'true') //202304-01 웹접근수정
          .addClass('selected')
          // 기존 탭 비활성화
          .siblings(_this.$tabListBtn) //그외 형제
          .attr('aria-selected', 'false') //202304-01 웹접근수정
          .removeClass('selected');
      },
    });

    $(window).on('resize', function () {
      /* PC에서 슬라이드 제거 */
      chkDeviceTab(_this);
    });
  };
  // PC에서 탭버튼 슬라이드 제거
  function chkDeviceTab(_plugin) {
    if (window.innerWidth > 1024) {
      _plugin.$tabList.addClass('fixed');
    } else {
      _plugin.$tabList
        .removeClass('fixed')
        .css('transform', 'translate3d(0px, 0px, 0px);');
    }
  }
  // Apply aria properties
  function setAriaAttr(_plugin) {
    _plugin.$el.find('.M104_C_cont').attr('data-role', 'tab');
    _plugin.$tabList
      .attr('role', 'tablist') // fixed
      .find('li')
      .attr('role', 'presentation'); // fixed

    _plugin.$tabListBtn.each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this).attr({
        role: 'tab', // fixed
        id: 'tab_btn_' + key, // fixed
        'aria-controls': 'tab_panel_' + key, // fixed
        'aria-selected': 'false', // changeable
        // 'tabindex':'-1' //202304-01 웹접근 삭제
      });
    });
    _plugin.$tabPanel.each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this).attr({
        role: 'region', // fixed
        id: 'tab_panel_' + key, // fixed
        'aria-labelledby': 'tab_btn_' + key, // fixed
        // 'tabindex':'-1', //202304-01 웹접근 삭제
        hidden: 'true',
      });
    });
    _plugin.$tabListBtn.removeClass('selected');
    _plugin.$tabPanel.removeClass('selected');

    _plugin.$tabListBtn
      .eq(0)
      .attr('aria-selected', 'true')
      .addClass('selected'); //202304-01 웹접근 수정
    _plugin.$tabPanel.eq(0).removeAttr('hidden').addClass('selected'); //202304-01 웹접근 수정

    _plugin.$toggleList.attr('data-role', 'accordion-group');
    _plugin.$toggleItem.each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this)
        .find('.toggle_btn')
        .attr({
          id: 'toggle_btn_' + key, // fixed
          'aria-controls': 'toggle_cont_' + key, // fixed
          'aria-expanded': false, // changeable
        });
      $(this)
        .find('.toggle_cont')
        .attr({
          role: 'region', // fixed
          id: 'toggle_cont_' + key, // fixed
          'aria-labelledby': 'toggle_btn_' + key, // fixed
          'aria-hidden': true, // changeable
        });
    });
  }

  function setOpenTab(_plugin) {
    // Exception, if there is no activation tab
    if (_plugin.activeTab >= _plugin.$tabPanel.length) {
      return;
    }
    // Activate tab button
    _plugin.$tabListBtn
      .removeClass('selected')
      .attr('aria-selected', 'fale') //202304-01 웹접근 수정
      .eq(_plugin.activeTab)
      .addClass('selected')
      .attr('aria-selected', 'true'); //202304-01 웹접근 수정

    // Activate tab panel
    _plugin.$tabPanel
      .removeClass('selected')
      .attr('hidden', 'true') //202304-01 웹접근 수정
      .eq(_plugin.activeTab) //그외 형제
      .addClass('selected')
      .removeAttr('hidden'); //202304-01 웹접근 수정
  }
  this.init();
}
fo.addPlugin(M104_C);

/** Notice | FAQ 2 **/
function M104_D(el) {
  _proto = M104_D.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$toggleList = this.$el.find('.toggle_list');
  this.$toggleItem = this.$toggleList.find('.li');
  this.key = this.$el.offset().top;
  this.onlyExpanded = false; // Only one item open flag
  this.opendIndex = []; // Open item array
  this.closedIndex = []; // Close item array

  var _this = this; // M104_D

  _proto.init = function () {
    //console.log("init:: M104_D")
    // this.onlyExpanded
    if (this.$el.is('[data-only-expanded]')) {
      this.onlyExpanded = this.data.onlyExpanded;
      this.$el.removeAttr('data-only-expanded');
    }

    // this.opendIndex
    if (
      this.$el.is('[data-opend-index]') &&
      typeof this.data.opendIndex == 'object'
    ) {
      this.opendIndex = this.data.opendIndex;
      this.$el.removeAttr('dta-opend-inadex');
    }

    // this.opendIndex: all item open
    if (this.$el.is('[data-opend-all]')) {
      this.opendIndex = new Array(this.$toggleItem.length + 1)
        .join('0')
        .split('')
        .map(function (a, idx) {
          return idx;
        });
      this.$el.removeAttr('data-opend-all');
    }

    // Exception, multiple items open
    if (this.opendIndex.length > 1) {
      this.onlyExpanded = false;
    }

    // Initial setting
    setAriaAttr(this);
    setOpenToggle(this);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$toggleList.on('click', '.toggle_btn', function (e) {
      e.preventDefault();

      var index = $(this).parent().index();

      // When the toggle button is open
      if ($(this).hasClass('selected')) {
        _this.closedIndex = [index];
        setCloseToggle(_this);

        _this.opendIndex.splice(_this.opendIndex.indexOf(index), 1);

        return;
      }

      // When the toggle button is closed
      if (_this.onlyExpanded) {
        // Only one item open
        _this.closedIndex = [_this.opendIndex];
        setCloseToggle(_this);

        _this.opendIndex = [index];
        setOpenToggle(_this);
      } else {
        // Multiple items open
        _this.opendIndex.push(index);
        setOpenToggle(_this);
      }

      return;
    });
  };

  // Apply aria properties
  function setAriaAttr(_plugin) {
    _plugin.$toggleList.attr('data-role', 'accordion-group');
    _plugin.$toggleItem.each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this)
        .find('.toggle_btn')
        .attr({
          id: 'toggle_btn_' + key, // fixed
          'aria-controls': 'toggle_cont_' + key, // fixed
          'aria-expanded': false, // changeable
        });
      $(this)
        .find('.toggle_cont')
        .attr({
          role: 'region', // fixed
          id: 'toggle_cont_' + key, // fixed
          'aria-labelledby': 'toggle_btn_' + key, // fixed
          'aria-hidden': true, // changeable
        });
    });
  }

  // Open toggle
  function setOpenToggle(_plugin) {
    for (var index = 0; index < _plugin.opendIndex.length; index++) {
      var $item = _plugin.$toggleItem.eq(_plugin.opendIndex[index]);

      $item
        .find('.toggle_btn')
        .attr('aria-expanded', true)
        .addClass('selected');
      $item.find('.toggle_cont').attr('aria-hidden', false).stop().slideDown();
    }
  }

  // Close toggle
  function setCloseToggle(_plugin) {
    for (var index = 0; index < _plugin.closedIndex.length; index++) {
      var $item = _plugin.$toggleItem.eq(_plugin.closedIndex[index]);

      $item
        .find('.toggle_btn')
        .attr('aria-expanded', false)
        .removeClass('selected');
      $item.find('.toggle_cont').attr('aria-hidden', true).stop().slideUp();

      _plugin.closedIndex.shift();
    }
  }

  this.init();
}
fo.addPlugin(M104_D);

/** M105_A | Banner rolling **/
function M105_A(el) {
  _proto = M105_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.slide;
  this.$container = this.$el.hasClass('swiper-container')
    ? this.$el
    : this.$el.find('.swiper-container');
  this.$noticeBtnArea = this.$el.find('.btn_area'); /* 2022.08.10 Add */

  var _this = this; // M105_A

  _proto.init = function () {
    //console.log("init:: M105_A")
    /* S: notice banner swiper width 값 2022.08.10 Add */
    var $noticeBtnAreaWidth = _this.$noticeBtnArea.outerWidth() + 10;
    _this.$container.css('width', 'calc(100% - ' + $noticeBtnAreaWidth + 'px)');
    /* E: 2022.08.10 Add */

    setTimeout(function () {
      // _this.$el.addClass('show');
      // tab swiper
    }, 2000);

    var $txtLength = this.$el.find(
      '.swiper-slide:not(.swiper-slide-duplicate)',
    ).length;
    if ($txtLength < 2) {
      return;
    } else {
      setSwiper(_this);
    }

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    /*S: 공지사항 전체보기 버튼 클릭시 공지사항/업데이트 앵커 이동 2022.08.10 */
    this.$noticeBtnArea.on('click', function () {
      var $m103TabBtn = $('.M103_A_cont .tab_list .tab_btn'),
        $m103TabLi = $('.M103_A_cont .tab_list li'),
        $m103TabPanel = $('.M103_A_cont .tab_panel');
      $m103TabBtn.removeClass('selected');
      $m103TabLi.eq(1).find('.tab_btn').addClass('selected');
      $m103TabPanel.removeClass('selected');
      $m103TabPanel.eq(1).addClass('selected');
    }); /*S: 공지사항 전체보기 버튼 클릭시 공지사항/업데이트 앵커 이동 2022.08.10 */
  };

  // Set Swiper
  function setSwiper(_plugin) {
    _plugin.slide = new Swiper(_plugin.$container, {
      autoplay: 3000,
      speed: 400,
      direction: 'vertical',
      a11y: true,
      loop: true,
      centeredSlides: false,
      slidesPerView: 1,
      // freeMode: true,
      watchSlidesVisibility: true,
      keyboardControl: true,
      slidesOffsetBefore: 0,
      slidesOffsetAfter: 0,
    });
  }

  this.init();
}
fo.addPlugin(M105_A);

/*** M106_A | Offering Hero1 ***/
function M106_A(el) {
  _proto = M106_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$contWrap = this.$el.find('.M106_A_cont');
  this.$txtArea = this.$el.find('.txt');
  this.$visualArea = this.$el.find('.img .img_p, .img .img_m');
  this.$control = {
    wrap: this.$el.find('.video_control_wrap'),
    playBtn: this.$el.find('.btn_play'),
  };
  this.$video = this.$contWrap.find('.img_p video');

  var _this = this;
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: M106_A")
    // Set visual img
    this.setVisualImg();
    // Set visual txt break
    this.setTxtBreak();

    resizeTimer = new Timer(function () {
      setTxtHeight(_this);
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  // Set visual txt break
  _proto.setTxtBreak = function () {
    var $title = this.$txtArea.find('.md_tit');

    this.$contWrap.addClass('act');
    this.$txtArea.css('height', _this.$visualArea.height());
  };

  _proto.addEvent = function () {
    _this.$control.playBtn.on('click', function (e) {
      e.preventDefault();

      if ($(this).hasClass('pause')) {
        _this.$video.get(0).pause();
        if (_this.$video.length > 1) {
          _this.$video.get(1).pause();
        }
        $(this).removeClass('pause').addClass('play');
        $(this)
          .find('button span')
          .text(langSet[lang]['slide']['playStr'].toString());
      } else {
        _this.$video.get(0).play();
        if (_this.$video.length > 1) {
          _this.$video.get(1).play();
        }
        $(this).removeClass('play').addClass('pause');
        $(this)
          .find('button span')
          .text(langSet[lang]['slide']['pauseStr'].toString());
      }

      return false;
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Set textarea height
  function setTxtHeight(_plugin) {
    _plugin.$txtArea.css({
      // "height": $(window).height() - 60
    });
  }

  this.init();
}
fo.addPlugin(M106_A);

/*** M106_B | Offering Hero1 ***/
function M106_B(el) {
  _proto = M106_B.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;

  this.$contWrap = this.$el.find('.M106_B_cont');
  this.$txtArea = this.$el.find('.txt');
  this.$visualArea = this.$el.find('.img .img_p, .img .img_m');

  this.$control = {
    wrap: this.$el.find('.video_control_wrap'),
    playBtn: this.$el.find('.btn_play'),
  };

  this.$video = this.$contWrap.find('.img_p video');

  var _this = this;
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: M106_B")

    // Set visual img
    this.setVisualImg();
    // Set visual txt break
    this.setTxtBreak();

    resizeTimer = new Timer(function () {
      setTxtHeight(_this);
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  // Set visual txt break
  _proto.setTxtBreak = function () {
    var $title = this.$txtArea.find('.md_tit');

    // $title.lettering('lines');
    // $title.find('span').wrapInner('<i></i>');
    this.$contWrap.addClass('act');
    this.$txtArea.css('height', _this.$visualArea.height());
  };

  _proto.addEvent = function () {
    _this.$control.playBtn.on('click', function (e) {
      e.preventDefault();

      if ($(this).hasClass('pause')) {
        _this.$video.get(0).pause();
        if (_this.$video.length > 1) {
          _this.$video.get(1).pause();
        }
        $(this).removeClass('pause').addClass('play');
        $(this)
          .find('button span')
          .text(langSet[lang]['slide']['playStr'].toString());
      } else {
        _this.$video.get(0).play();
        if (_this.$video.length > 1) {
          _this.$video.get(1).play();
        }
        $(this).removeClass('play').addClass('pause');
        $(this)
          .find('button span')
          .text(langSet[lang]['slide']['pauseStr'].toString());
      }

      return false;
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Set textarea height
  function setTxtHeight(_plugin) {
    _plugin.$txtArea.css({
      // "height": $(window).height() - 60
    });
  }

  this.init();
}

fo.addPlugin(M106_B);

/** M107_B */
function M107_B(el) {
  _proto = M107_B.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$carousel = this.$el.find('.owl-carousel');
  this.$carouselItem = this.$el.find('.owl-carousel .item');
  this.$pagn = this.$el.find('.owl-pagn');
  this.$control = {
    wrap: this.$el.find('.md_play'),
    playBtn: this.$el.find('.md_btn_play'),
    stopBtn: this.$el.find('.md_btn_stop'),
    prevBtn: this.$el.find('.owl-prev'),
    nextBtn: this.$el.find('.owl-next'),
  };

  var _this = this; // M107_B
  var deviceType; // "PC_LARGE", "PC_MEDIUM", "PC_SMALL", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';
  var stopChk = false;

  _proto.init = function () {
    //console.log("init:: M107_B")
    // Device type check
    deviceType = checkDeviceType();

    this.$el.find('.M107_B_cont').addClass('m' + this.$carouselItem.length);

    if (this.$carouselItem.length < 2) return;

    if (this.$carouselItem.length > 3) {
      this.$el.find('.M107_B_cont').addClass('itemMax');
    }
    // else {
    //     this.$el.find(".M107_B_cont").addClass('pcItemMin')
    // }

    /* 210510 | 접근성 | 모바일 활성화 Nav */
    // if(this.$carouselItem.length >= 2){
    //     this.$carousel.after('<div class="owl-navm"><button class="owl-prevm"><em class=\"blind\">'+(langSet[lang]["slide"]["prevStr"]).toString()+'</em></button><button class="owl-nextm"><em class=\"blind\">'+(langSet[lang]["slide"]["nextStr"]).toString()+'</em></button></div>');
    // }
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    updateCarousel(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarousel(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$carouselItem.on('focusin', function (e) {
      if ($(e.target).is(':hover')) {
        return;
      }

      var currentIndex = _this.$carouselItem.index(e.delegateTarget);
      _this.$carousel.trigger('to.owl.carousel', currentIndex);

      _this.$carousel.children().scrollLeft() != 0 &&
        _this.$carousel.children().scrollLeft(0);
      _this.$el.scrollLeft() != 0 && _this.$el.scrollLeft(0);
    });

    _this.$el.on('keyup', function (e) {
      e.stopPropagation();

      if (!_this.$carousel.data('owl.carousel')) {
        return;
      }

      if (e.keyCode == 37) {
        _this.$carousel.trigger('prev.owl.carousel');
      } else if (e.keyCode == 39) {
        _this.$carousel.trigger('next.owl.carousel');
      }
    });

    /* 210510 | 접근성 | 모바일 활성화 Nav */
    _this.$el.find('.owl-navm button').on('click', function (e) {
      e.stopPropagation();

      if ($(this).hasClass('owl-prevm')) {
        _this.$carousel.trigger('prev.owl.carousel');
        _this.$carousel.find('.owl-item.active').get(0).focus();
      } else if ($(this).hasClass('owl-nextm')) {
        _this.$carousel.trigger('next.owl.carousel');
        _this.$carousel.find('.owl-item.active').get(0).focus();
      }
    });
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    // 슬라이드 play,stop 버튼
    _this.$control.stopBtn.on('click', function (e) {
      e.preventDefault();
      stopChk = true;
      sequenceControl(_this, 'STOP', true);
      return false;
    });
    _this.$control.playBtn.on('click', function (e) {
      e.preventDefault();
      stopChk = false;
      sequenceControl(_this, 'PLAY', true);
      return false;
    });

    // 슬라이드 arrow 버튼
    _this.$control.prevBtn.on('click', function (e) {
      e.preventDefault();
      arrowBtnControl(_this, 'PREV', true);
      return false;
    });
    _this.$control.nextBtn.on('click', function (e) {
      e.preventDefault();
      arrowBtnControl(_this, 'NEXT', true);
      return false;
    });

    _this.$control.prevBtn
      .add(_this.$control.nextBtn)
      .off('mouseover mouseout')
      .on({
        mouseover: function () {
          // _this.$carousel.trigger('stop.owl.autoplay');
          if (deviceType.toUpperCase().indexOf('PC') > -1)
            sequenceControl(_this, 'STOP', true);
        },
        mouseout: function (e) {
          // _this.$carousel.trigger('play.owl.autoplay');
          if (deviceType.toUpperCase().indexOf('PC') > -1) {
            if (_this.$control.wrap.hasClass('on') && !stopChk)
              sequenceControl(_this, 'PLAY', true);
          }
        },
      });

    _this.$carousel
      .off('mouseenter')
      .on('mouseenter', function () {
        if (deviceType.toUpperCase().indexOf('PC') > -1)
          sequenceControl(_this, 'STOP', true);
      })
      .off('mouseleave')
      .on('mouseleave', function () {
        if (deviceType.toUpperCase().indexOf('PC') > -1) {
          if (_this.$control.wrap.hasClass('on') && !stopChk)
            sequenceControl(_this, 'PLAY', true);
        }
      });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check

  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setCarousel(_plugin) {
    if (_plugin.$carousel.data('owl.carousel')) {
      return;
    }

    _plugin.$carousel.owlCarousel({
      autoplay: true,
      autoplayTimeout: 5000, // 3초에서 5초로 수정
      autoplaySpeed: 700, //넘어가는 속도
      autoplayHoverPause: true,
      stopOnHover: true,
      autoplayHoverPause: false,
      loop: true,
      nav: false,
      navText: [
        '<em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em>',
        '<em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em>',
      ],
      dots: false,
      items: 1,
      singleItem: true,
      // smartSpeed: 500,
      responsive: {
        0: {
          autoplay: false,
          autoplayHoverPause: false,
        },
        1023: {
          autoplay: false,
          autoplayHoverPause: false,
        },
        1024: {
          autoplay: true,
        },
      },
      onInitialized: function (e) {
        initPagn(e, _plugin);
        setCarouselAria(_plugin);
        _plugin.$carousel.addClass('act');
      },
      onRefreshed: function (e) {
        // FIREFOX
        initPagn(e, _plugin);
        setCarouselAria(_plugin);
        _plugin.$carousel.addClass('act');
      },
      onChanged: function (e) {
        updatePagn(e, _plugin);
        setInterval(function () {
          _plugin.$el.scrollLeft(0);
        }, 100);
        _plugin.$carousel.removeClass('act');
        setAriaHidden(e, _plugin); /* 210510 | 접근성 | 모바일 활성화 Nav */
      },
      onResized: function (e) {
        _plugin.$carousel.removeClass('act');
      },
    });
  }

  function updateCarousel(_plugin) {
    switch (deviceType) {
      case 'PC':
        _plugin.$carouselItem.length < 1
          ? destroyCarousel(_plugin) // 1,2
          : setCarousel(_plugin); // 3,4,5,6,7...
        break;
      case 'TABLET':
      case 'MOBILE':
        _plugin.$carouselItem.length < 1
          ? destroyCarousel(_plugin) // 1
          : setCarousel(_plugin); // 2,3,4,5,6,7...
        break;
      // default:
      //     break;
    }
  }

  function setCarouselAria(_plugin) {
    var $clonedItem = _plugin.$carousel.find('.owl-item.cloned');

    $clonedItem.attr('aria-hidden', true);
    $clonedItem.find('a, button').attr('tabindex', -1);
  }

  function initPagn(e, _plugin) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;
    var ariaTxt = setNum(activeIndex) + ' of ' + setNum(e.item.count);

    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
    _plugin.$pagn.find('.owl-pagn-ed').text(setNum(e.item.count));
  }

  function updatePagn(e, _plugin) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;
    var ariaTxt = setNum(activeIndex) + ' of ' + setNum(e.item.count);

    if (isNaN(activeIndex)) return;

    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
  }

  function destroyCarousel(_plugin) {
    if (!_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    _plugin.$carousel.owlCarousel('destroy');
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  // Sequence Control: play, stop
  function sequenceControl(_plugin, option, changeFocus) {
    switch (option) {
      case 'PLAY':
        _this.$carousel.trigger('play.owl.autoplay');
        _plugin.$control.wrap.removeClass('on');
        break;
      case 'STOP':
        _this.$carousel.trigger('stop.owl.autoplay');
        _plugin.$control.wrap.addClass('on');
        break;
      // default:
      //     break;
    }
  }
  // slide left right button
  function arrowBtnControl(_plugin, option, changeFocus) {
    switch (option) {
      case 'PREV':
        _this.$carousel.trigger('prev.owl.carousel');
        break;
      case 'NEXT':
        _this.$carousel.trigger('next.owl.carousel');
        break;
      // default:
      //     break;
    }
  }

  function setAriaHidden(e, _plugin) {
    var currentIdx = e.item.index;
    var activeItem = $(e.target).find('.owl-item').eq(currentIdx);

    $(e.target).find('.owl-item').attr('aria-hidden', true); //.attr("tabindex", -1) 220413 | 접근성
    activeItem.attr('aria-hidden', false); //.attr("tabindex", 0) 220413 | 접근성
  }

  this.init();
}
fo.addPlugin(M107_B);

/** M108_A | Testimonial **/
function M108_A(el) {
  _proto = M108_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.startIndex = 0;
  this.currentIndex = this.startIndex;
  this.$carousel = this.$el.find('.md_cont');
  this.$carouselItem = this.$el.find('.md_cont .li');
  this.$control = this.$el.find('.md_cont_control');
  this.$txtArea = this.$carousel.find('.txt');
  this.$visualArea = this.$carousel.find('.img .img_p, .img .img_m');

  var _this = this;
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';
  var carouselHeight = {
    PC: 660,
    TABLET: 580,
    MOBILE: 580,
  };

  _proto.init = function () {
    //console.log("init:: M108_A")
    // Device type check
    deviceType = checkDeviceType();

    // Set visual txt break
    this.setVisualImg();
    this.setTxtBreak();

    // Set scroll bar
    this.$carousel.find('.scrollbar-inner').scrollbar();

    // this.$carouselItem.each(function() {
    //     var blindTxt = "<div class='blind'>" + ($(this).hasClass("chk") ? "Not reported" : "Reported") + "</div>";
    //     $(this).find(".txt_inner").before(blindTxt);
    // })

    if (this.$carouselItem.length < 2) {
      this.$control.remove();
      this.$carouselItem.eq(0).addClass('act');
      this.$carouselItem
        .eq(0)
        .find('.scrollbar-inner.scroll-content')
        .attr('tabindex', 0);
      return;
    }

    /* 210510 | 접근성 | 모바일 활성화 Nav */
    if (this.$carouselItem.length >= 2) {
      this.$control.after(
        '<div class="owl-navm"><button class="owl-prevm"><em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em></button><button class="owl-nextm"><em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em></button></div>',
      );
    }
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    // Set carousel
    setCarousel(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarouselStyle(_this);
        updateCarouselAria(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  // Set visual txt break
  _proto.setTxtBreak = function () {
    var $title = this.$txtArea.find('.md_tit');

    $title.find('p, em').lettering('lines');
    $title.find('span').wrapInner('<i></i>');
  };

  // Event
  _proto.addEvent = function () {
    /* 220405 | 접근성 | 모바일 활성화 Nav */
    _this.$el.find('.owl-navm button').on('click', function (e) {
      e.stopPropagation();

      if ($(this).hasClass('owl-prevm')) {
        _this.$carousel.trigger('prev');
      } else if ($(this).hasClass('owl-nextm')) {
        _this.$carousel.trigger('next');
      }
    });
    /* //220405 | 접근성 | 모바일 활성화 Nav */

    _this.$el.find('.md_btn_stop').on('click', function (e) {
      _this.$carousel.trigger('pause');
      _this.$el.find('.md_play').addClass('on');
    });
    _this.$el.find('.md_btn_play').on('click', function (e) {
      _this.$carousel.trigger('play');
      _this.$el.find('.md_play').removeClass('on');
    });
    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setCarousel(_plugin) {
    var $prevBtn = _plugin.$control.find('.md_pagn_prev');
    var $nextBtn = _plugin.$control.find('.md_pagn_next');

    $prevBtn.wrapInner(
      '<em class="blind">' +
        langSet[lang]['slide']['prevStr'].toString() +
        '</em>',
    );
    $nextBtn.wrapInner(
      '<em class="blind">' +
        langSet[lang]['slide']['nextStr'].toString() +
        '</em>',
    );

    _plugin.$carousel.carouFredSel({
      responsive: true,
      height: carouselHeight[deviceType],
      auto: {
        play: true,
      },
      prev: {
        button: $prevBtn,
        key: 'left',
      },
      next: {
        button: $nextBtn,
        key: 'right',
      },
      items: {
        start: _plugin.currentIndex,
        visible: 1,
        height: carouselHeight[deviceType],
      },
      swipe: {
        onMouse: true,
        onTouch: true,
      },
      scroll: {
        fx: 'fade',
        duration: 0,
        items: 1,
        onAfter: function (data) {
          _plugin.currentIndex = _plugin.$carouselItem.index(
            data.items.visible,
          );

          // Update
          updatePagn(_plugin);
          updateCarouselAria(_plugin);

          _plugin.$carouselItem
            .removeClass('act')
            .eq(_plugin.currentIndex)
            .addClass('act')
            .find('.scrollbar-inner.scroll-content')
            .stop()
            .animate({ scrollTop: 0 }, 100);
        },
      },
      onCreate: function () {
        _plugin.$control
          .find('.md_cont_bar_ed')
          .text(setNum(_plugin.$carouselItem.length));

        // Update
        updatePagn(_plugin);
        updateCarouselStyle(_plugin);
        updateCarouselAria(_plugin);

        _plugin.$carouselItem
          .removeClass('act')
          .eq(_plugin.currentIndex)
          .addClass('act')
          .find('.scrollbar-inner.scroll-content')
          .stop()
          .animate({ scrollTop: 0 }, 100);
      },
    });
  }

  // Set carousel Style
  function updateCarouselStyle(_plugin) {
    _plugin.$carousel.trigger('configuration', {
      height: carouselHeight[deviceType],
      items: {
        height: carouselHeight[deviceType],
      },
    });
    _plugin.$carousel.trigger('updateSizes');
  }

  function updateCarouselAria(_plugin) {
    _plugin.$carouselItem
      .attr('aria-hidden', true)
      .find('a, button')
      .attr('tabindex', -1);
    _plugin.$carouselItem
      .find('.scrollbar-inner.scroll-content')
      .attr('tabindex', -1);
    _plugin.$carouselItem
      .eq(_plugin.currentIndex)
      .removeAttr('aria-hidden')
      .find('a, button')
      .removeAttr('tabindex');
    _plugin.$carouselItem
      .eq(_plugin.currentIndex)
      .find('.scrollbar-inner.scroll-content')
      .attr('tabindex', 0);

    _plugin.$control.is('[tabindex]') &&
      _plugin.$control.removeAttr('tabindex');
  }

  // Update
  function updatePagn(_plugin) {
    var width =
      (100 / _plugin.$carouselItem.length) * (_plugin.currentIndex + 1);
    var ariaTxt =
      setNum(_plugin.currentIndex + 1) +
      ' of ' +
      setNum(_plugin.$carouselItem.length);

    _plugin.$control
      .find('.md_cont_bar_st')
      .text(setNum(_plugin.currentIndex + 1));
    _plugin.$control.find('.bar p').css('width', width + '%');
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  this.init();
}
fo.addPlugin(M108_A);

/** M109_A | People 1 */
function M109_A(el) {
  _proto = M109_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$visualArea = this.$el.find('.img .img_p');
  this.$carousel = this.$el.find('.owl-carousel');
  this.$carouselItem = this.$el.find('.owl-carousel .item');
  this.$pagn = this.$el.find('.owl-pagn');

  var _this = this; // M109_A
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: M109_A")
    // Device type check
    deviceType = checkDeviceType();

    // Set visual img
    this.setVisualImg();

    this.$el.find('.M109_A_cont').addClass('m' + this.$carouselItem.length);

    if (this.$carouselItem.length < 2) return;

    /* 210510 | 접근성 | 모바일 활성화 Nav */
    if (this.$carouselItem.length >= 2) {
      this.$carousel.after(
        '<div class="owl-navm"><button class="owl-prevm"><em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em></button><button class="owl-nextm"><em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em></button></div>',
      );
    }
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    updateCarousel(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarousel(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  _proto.addEvent = function () {
    _this.$carouselItem.on('focusin', function (e) {
      if ($(e.target).is(':hover')) {
        return;
      }

      var currentIndex = _this.$carouselItem.index(e.delegateTarget);
      _this.$carousel.trigger('to.owl.carousel', currentIndex);

      _this.$carousel.children().scrollLeft() != 0 &&
        _this.$carousel.children().scrollLeft(0);
      _this.$el.scrollLeft() != 0 && _this.$el.scrollLeft(0);
    });

    _this.$el.on('keyup', function (e) {
      e.stopPropagation();

      if (!_this.$carousel.data('owl.carousel')) {
        return;
      }

      if (e.keyCode == 37) {
        _this.$carousel.trigger('prev.owl.carousel');
      } else if (e.keyCode == 39) {
        _this.$carousel.trigger('next.owl.carousel');
      }
    });

    /* 210510 | 접근성 | 모바일 활성화 Nav */
    _this.$el.find('.owl-navm button').on('click', function (e) {
      e.stopPropagation();

      if ($(this).hasClass('owl-prevm')) {
        _this.$carousel.trigger('prev.owl.carousel');
        _this.$carousel.find('.owl-item.active').get(0).focus();
      } else if ($(this).hasClass('owl-nextm')) {
        _this.$carousel.trigger('next.owl.carousel');
        _this.$carousel.find('.owl-item.active').get(0).focus();
      }
    });
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setCarousel(_plugin) {
    if (_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    _plugin.$carousel.owlCarousel({
      stageElement: 'ul',
      itemElement: 'li',
      autoWidth: true,
      loop: true,
      nav: true,
      navText: [
        '<em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em>',
        '<em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em>',
      ],
      dots: false,
      items: 4,
      singleItem: true,
      smartSpeed: 500,
      responsive: {
        0: {
          margin: 16,
        },
        500: {
          margin: 16,
        },
        1023: {
          margin: 26,
        },
      },
      onInitialized: function (e) {
        initPagn(e, _plugin);
        setCarouselAria(_plugin);

        _plugin.$carousel.addClass('act');
      },
      onRefreshed: function (e) {
        // FIREFOX
        initPagn(e, _plugin);
        setCarouselAria(_plugin);

        _plugin.$carousel.addClass('act');
      },
      onChanged: function (e) {
        updatePagn(e, _plugin);
        setInterval(function () {
          _plugin.$el.scrollLeft(0);
        }, 100);
        _plugin.$carousel.removeClass('act');
        setAriaHidden(e, _plugin); /* 210510 | 접근성 | 모바일 활성화 Nav */
      },
    });
  }

  function updateCarousel(_plugin) {
    switch (deviceType) {
      case 'PC':
        _plugin.$carouselItem.length < 4
          ? destroyCarousel(_plugin) // 1,2,3
          : setCarousel(_plugin); // 4,5,6,7...
        break;
      case 'TABLET':
      case 'MOBILE':
        _plugin.$carouselItem.length < 2
          ? destroyCarousel(_plugin) // 1
          : setCarousel(_plugin); // 2,3,4,5,6,7...
        break;
      // default:
      //     break;
    }
  }

  function setCarouselAria(_plugin) {
    var $clonedItem = _plugin.$carousel.find('.owl-item.cloned');

    $clonedItem.attr('aria-hidden', true);
    $clonedItem.find('a, button').attr('tabindex', -1);
  }

  function initPagn(e, _plugin) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;

    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
    _plugin.$pagn.find('.owl-pagn-ed').text(setNum(e.item.count));
  }

  function updatePagn(e, _plugin) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;

    if (isNaN(activeIndex)) return;

    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
  }

  function destroyCarousel(_plugin) {
    if (!_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    _plugin.$carousel.owlCarousel('destroy');
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  function setAriaHidden(e, _plugin) {
    var currentIdx = e.item.index;
    var activeItem = $(e.target).find('.owl-item').eq(currentIdx);

    $(e.target).find('.owl-item').attr('aria-hidden', true); //.attr("tabindex", -1) 220413 | 접근성
    activeItem.attr('aria-hidden', false); //.attr("tabindex", 0) 220413 | 접근성
  }

  this.init();
}
fo.addPlugin(M109_A);

/** M110_A | Customer story */
function M110_A(el) {
  _proto = M110_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$tabList = this.$el.find('.tab_list');
  this.$tabListBtn = this.$tabList.find('.tab_btn');
  this.$tabPanel = this.$el.find('.tab_panel');
  this.$scroll = this.$el.find('.txt');
  this.$scrollItem = this.$el.find('.txt .txt_inner');
  this.$txtInner = this.$el.find('.txt_inner');
  this.slide;
  /* 20220302 */
  this.$tabMenu = this.$el.find('.slider-nav');
  this.$tabView = this.$el.find('.slider-tabContents');
  this.$arrowContainer = this.$el.find('.slick-arrowContainer');
  this.$prevBtn = this.$el.find('.prev');
  this.$nextBtn = this.$el.find('.next');
  this.$tabMenuLength = this.$tabMenu.find('.swiper-slide').length - 1;
  this.key = Math.floor(this.$el.offset().top);
  this.activeTab = 0;
  this.mhItems;

  var _this = this; // M110_A
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var mhTarget = ['.txt_logo'];
  var activeTabClick = false;

  _proto.init = function () {
    //console.log("init:: M110_A")
    // Device type check
    deviceType = checkDeviceType();

    //슬라이드 함수
    setSlick(_this);

    // Set scroll bar
    this.$scroll.find('.scrollbar-inner').scrollbar();

    if (this.$scrollItem.length < 2) {
      this.$scrollItem
        .eq(0)
        .find('.scrollbar-inner.scroll-content')
        .attr('tabindex', 0);
      return;
    }

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
      }
    }, 100);

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Set Swiper
  function setSlick(_plugin) {
    _plugin.$tabView.slick({
      slidesToShow: 1,
      arrows: true,
      fade: false,
      adaptiveHeight: true,
      infinite: false,
      useTransform: true,
      speed: 0,
      prevArrow: _plugin.$prevBtn,
      nextArrow: _plugin.$nextBtn,
      fade: true,
    });

    _plugin.$tabMenu.on('init', function (event, slick, currentSlide) {
      _plugin.$tabMenu.find('.slick-slide.slick-current').addClass('is-active');

      //slide 갯수 너비 계산 해서 slide 좌,우 버튼 출력
      setSlideStyle(_this, slick);
    });
    _plugin.$tabMenu.slick({
      slidesToShow: _plugin.$tabMenuLength,
      slidesToScroll: 3,
      rows: 1,
      speed: 100,
      dots: false,
      focusOnSelect: true,
      infinite: false,
      arrows: false,
      variableWidth: true,
      responsive: [
        {
          breakpoint: 1023,
          settings: {
            slidesToShow: 3,
            slidesToScroll: 3,
          },
        },
        {
          breakpoint: 500,
          settings: {
            slidesToShow: 1,
            slidesToScroll: 1,
            swipeToSlide: true,
          },
        },
      ],
    });

    /* 탭 메뉴 리스트 슬라이드 이동시 클래스 변경 */
    _plugin.$tabView.on('afterChange', function (event, slick, currentSlide) {
      _plugin.$tabMenu.slick('slickGoTo', currentSlide);
      var currrentNavSlideElem = _plugin.$tabMenu.find(
        '.slick-slide[data-slick-index="' + currentSlide + '"]',
      );
      _plugin.$tabMenu.find('.slick-slide.is-active').removeClass('is-active');
      $(currrentNavSlideElem).addClass('is-active');
    });
    _plugin.$tabMenu.on('click', '.slick-slide', function (event) {
      event.preventDefault();
      var goToSingleSlide = $(this).data('slick-index');
      _plugin.$tabView.slick('slickGoTo', goToSingleSlide);
    });
    /* //탭 메뉴 리스트 슬라이드 이동시 클래스 변경 */
  }

  // slide, prev button, next button style
  function setSlideStyle(_plugin, slick) {
    var slideWidth = 0;
    slick.$slides.each(function (index) {
      slideWidth += parseInt($(this).outerWidth(true), 10);
    });
    if (slick.listWidth <= slideWidth) {
      _plugin.$arrowContainer.addClass('addArrow');
    } else {
      _plugin.$arrowContainer.removeClass('addArrow');
      _plugin.$tabMenu.addClass('unSlick-width');
    }
  }

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$txtInner.find(target);
    });
  }

  // Update Match Height Item
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };
    switch (deviceType) {
      case 'PC':
      case 'TABLET':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        break;
      // default:
      //     break;
    }
  }
  this.init();
}
fo.addPlugin(M110_A);

/** M110_B | Mytrial DTA */
function M110_B(el) {
  _proto = M110_B.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$tabList = this.$el.find('.tab_list');
  this.$tabListBtn = this.$tabList.find('.tab_btn');
  this.$tabPanel = this.$el.find('.tab_panel');
  this.$visualArea = this.$el.find('.visual_img .img_p');
  this.$detailList = this.$el.find('.detail_list');
  this.key = Math.floor(this.$el.offset().top);
  this.activeTab = 0;
  this.mhItems;

  var hashUrl = window.location.hash;
  var hashId = hashUrl.split('#')[1];
  var _this = this; // M110_B
  var deviceType; // "PC", "TABLET", "MOBILE"
  var mhTarget = ['.md_tit', '.md_txt'];
  var resizeTimer;

  _proto.init = function () {
    //console.log("init:: M110_B")
    // Device type check
    deviceType = checkDeviceType();

    // Set visual img
    this.setVisualImg();

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    if (this.$tabListBtn.length < 2 || this.$tabPanel.length < 2) {
      //this.$tabList.remove();
      _this.$el
        .find('.tab_slide_area')
        .remove(); /* 2022.10.20 observer 오류방지 */
      return;
    }

    // Tab activated on initial load
    if (this.$el.is('[data-active-tab]') && this.data.activeTab >= 0) {
      this.activeTab =
        this.data.activeTab < this.$tabListBtn.length
          ? this.data.activeTab
          : this.$tabListBtn.length - 1;
      this.$el.removeAttr('data-active-tab');
    }

    // Initial tab aria setting
    setAriaAttr(this);
    setOpenTab(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateMhItem(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  _proto.addEvent = function () {
    //other page url hash
    setTimeout(function () {
      _this.$tabListBtn.each(function (index) {
        var $this = $(this);
        var key;
        var $thisParents = $this.closest('.M110_B_cont');

        if ($this.hasClass(hashId)) {
          //$this.attr('id') == hashId
          key = _this.key - $('.gsnb').outerHeight();
          _this.activeTab = _this.$tabListBtn.index($(this));
          setOpenTab(_this);
          window.scrollTo(top, key);
          if (deviceType != 'PC') {
            var $swiperItemWidth = 0;
            var $thisItemIndex = $this.parent('li').index();
            $thisParents.find('li').each(function (index) {
              var $this = $(this);
              $swiperItemWidth += $this.outerWidth();
              if (index == $thisItemIndex - 1) {
                return false;
              }
            });
            var position = $swiperItemWidth;

            if ($thisItemIndex > 1) {
              $thisParents.find('.swiper-wrapper').css({
                transform: 'translate3d(-' + position + 'px, 0px, 0px)',
                transition: 'transform 0.4s',
              });
            } else {
              $thisParents.find('.swiper-wrapper').css({
                transform: 'translate3d(0, 0px, 0px)',
                transition: 'transform 0.4s',
              });
            }
          }
        }
      });
    }, 1000);

    // Tab button click
    _this.$tabListBtn.on('click', function () {
      _this.activeTab = _this.$tabListBtn.index($(this));
      setOpenTab(_this);
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$detailList.find(target);
    });
  }

  // Update Match Height Item
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };

    switch (deviceType) {
      case 'PC':
      case 'TABLET':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        break;
      // default:
      //     break;
    }
  }

  // Apply aria properties
  function setAriaAttr(_plugin) {
    _plugin.$tabList
      .attr('role', 'tablist') // fixed
      .find('li')
      .attr('role', 'presentation'); // fixed

    _plugin.$tabListBtn.each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this).attr({
        role: 'tab', // fixed
        id: 'tab_btn_' + key, // fixed
        'aria-controls': 'tab_panel_' + key, // fixed
        'aria-selected': false, // changeable
      });
    });

    _plugin.$tabPanel.each(function (index) {
      var key = _plugin.key + '_' + index;
      $(this).attr({
        role: 'region', // fixed
        id: 'tab_panel_' + key, // fixed
        'aria-labelledby': 'tab_btn_' + key, // fixed
      });
    });
  }

  function setOpenTab(_plugin) {
    // Exception, if there is no activation tab
    if (_plugin.activeTab >= _plugin.$tabPanel.length) {
      return;
    }

    // Activate tab button
    _plugin.$tabListBtn
      .removeClass('active')
      .attr({
        'aria-selected': false,
      })
      .eq(_plugin.activeTab)
      .addClass('active')
      .attr({
        'aria-selected': true,
      });

    // Activate tab panel
    _plugin.$tabPanel
      .removeClass('active')
      .eq(_plugin.activeTab)
      .addClass('active');
  }

  this.init();
}
fo.addPlugin(M110_B);

/** M110_C | Mytrial Video Demo */
function M110_C(el) {
  _proto = M110_C.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$slick = {
    slideCount: 0,
    currentSlide: this.data.activeTab || 0,
    autoplay: true,

    slick: this.$el.find('.slider-tabContents'),
    slickItem: this.$el.find('.slider-tabContents .tab_panel'),
    slickItemLength: this.$el.find('.slider-tabContents .tab_panel').length - 1,

    tab: this.$el.find('.slider-nav'),
    tabItem: this.$el.find('.slider-nav .swiper-slide'),
    tabItemLength: this.$el.find('.slider-nav .swiper-slide').length - 1,

    navigation: this.$el.find('.navigation'),

    control: this.$el.find('.md_play'),
    controlPlay: this.$el.find('.md_btn_play'),
    controlStop: this.$el.find('.md_btn_stop'),

    prevBtn: this.$el.find('.slick-arrowContainer .prev'),
    nextBtn: this.$el.find('.slick-arrowContainer .next'),

    counterCurrent: this.$el.find('.slick-counter .current'),
    counterTotal: this.$el.find('.slick-counter .total'),
    counterProgress: this.$el.find('.slick-counter .progress'),
    counterLabel: this.$el.find('.slick-counter .progress .slider__label'),
    // videoStop       : 엘리먼트 추가 후 바인딩
    // videoPlay       : 엘리먼트 추가 후 바인딩
  };

  var _this = this; // M110_C
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';
  var resizeTimeOut;

  _proto.init = function () {
    //console.log("init:: M110_C")
    deviceType = checkDeviceType();
    setSlick(_this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) deviceType = currentDeviceType;
      if (currentDeviceType == 'MOBILE') sequenceControl(_this, 'STOP', true);
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }

    if (_this.$slick.slickItemLength < 1) {
      _this.$slick.tab.slick('unslick');
      _this.$slick.slick.slick('unslick');
      _this.$slick.navigation.remove();
    }

    setHeight();
  };

  _proto.addEvent = function () {
    _this.$slick.tabItem.on('click', function () {
      const idx = $(this).index();
      _this.$slick.currentSlide = idx;
      _this.$slick.slick.slick('slickGoTo', idx, false);
    });

    // slider controler
    _this.$slick.controlStop.on('click', function (e) {
      e.preventDefault();
      sequenceControl(_this, 'STOP', true);
    });
    _this.$slick.controlPlay.on('click', function (e) {
      e.preventDefault();
      sequenceControl(_this, 'PLAY', true);
    });

    // video controler
    _this.$slick.videoStop.on('click', function (e) {
      var videoBtnThis = $(this);
      e.preventDefault();
      videoControl(_this, videoBtnThis, 'STOP', true);
    });
    _this.$slick.videoPlay.on('click', function (e) {
      var videoBtnThis = $(this);
      e.preventDefault();
      videoControl(_this, videoBtnThis, 'PLAY', true);
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();

      $(function () {
        if (resizeTimeOut) {
          clearTimeout(resizeTimeOut);
        }

        resizeTimeOut = setTimeout(function () {
          setHeight();
        }, 600);
      });
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else {
      return 'MOBILE';
    }
  }

  // Set slick
  function setSlick(_plugin) {
    _this.$slick.slick.on('init', function (event, slick) {
      _this.$slick.currentSlide = slick.currentSlide;
      _this.$slick.slideCount = slick.slideCount;
      setCounter();
      setVideoPlay();
      setVideoBtn();
    });
    _this.$slick.slick.slick({
      initialSlide: _this.$slick.currentSlide,
      accessibility: true,
      autoplay: _this.$slick.autoplay,
      autoplaySpeed: 3000,
      adaptiveHeight: false,
      infinite: true,
      speed: 200,
      lazyLoad: 'ondemand',
      arrows: true,
      prevArrow: _this.$slick.prevBtn,
      nextArrow: _this.$slick.nextBtn,
    });

    checkAutoplay(); // data-slideStop="true" 옵션 추가 시 자동재생 멈춤

    _this.$slick.slick.on('afterChange', function (event, slick, currentSlide) {
      _this.$slick.currentSlide = slick.currentSlide;
      setCounter();
      setSlickTab();
      checkAutoplay();
      setVideoPlay();
      setHeight();
    });

    _this.$slick.tab.on('init', function (event, slick) {
      setTabAttr();
      setSlickTab();
    });
    _this.$slick.tab.slick({
      initialSlide: _this.$slick.currentSlide,
      slidesToShow: _this.$slick.slickItemLength,
      slidesToScroll: 3,
      infinite: false,
      dots: false,
      arrows: false,
      pauseOnHover: true,
      pauseOnFocus: true,
      variableWidth: true,
      responsive: [
        {
          breakpoint: 1023,
          settings: {
            slidesToShow: 3,
            slidesToScroll: 3,
          },
        },
        {
          breakpoint: 600,
          settings: {
            slidesToShow: 1,
            slidesToScroll: 1,
            swipeToSlide: true,
          },
        },
      ],
    });

    _this.$slick.tab.on('afterChange', function (event, slick, currentSlide) {
      setTabAttr();
    });
  }

  function setVideoBtn() {
    let HTML =
      `
              <div class="md_control">
                  <div class="videoPlay">
                  <a href="#" class="md_video_stop"><span class="blind">` +
      langSet[lang]['slide']['pauseStr'] +
      `</span></a>
                  <a href="#" class="md_video_play"><span class="blind">` +
      langSet[lang]['slide']['playStr'] +
      `</span></a>
                  </div>
              </div>`;

    _this.$slick.slickItem.each((idx, item) => {
      if ($(item).find('video').length > 0) $(item).find('.txt').append(HTML);
    });

    _this.$slick.videoBtn = $('.md_control');
    _this.$slick.videoStop = $('.md_video_stop');
    _this.$slick.videoPlay = $('.md_video_play');
  }

  // set tab swiper attribute
  function setTabAttr() {
    setTimeout(() => {
      _this.$slick.tabItem.removeAttr('tabindex');
      _this.$slick.tabItem.removeAttr('aria-hidden');
      _this.$slick.tabItem.find('a').removeAttr('tabindex');
    }, 1);
  }

  // Sequence Control: play, stop
  function sequenceControl(_plugin, option, changeFocus) {
    switch (option) {
      case 'PLAY':
        _this.$slick.slick.slick('slickPlay');
        _this.$slick.control.removeClass('on');
        // _this.$slick.slickItem.attr("data-slideStop", "");
        _this.$slick.autoplay = true;
        break;
      case 'STOP':
        _this.$slick.slick.slick('slickPause');
        _this.$slick.control.addClass('on');
        // _this.$slick.slickItem.attr("data-slideStop", true);
        _this.$slick.autoplay = false;
        break;
      default:
        break;
    }
  }

  // video Control: play, stop
  function videoControl(_plugin, videoBtnThis, option, changeFocus) {
    switch (option) {
      case 'PLAY':
        videoBtnThis.closest('.videoPlay').removeClass('on');
        videoBtnThis.closest('.tabContents').find('video').get(0).play();
        changeFocus && videoBtnThis.prev();
        break;
      case 'STOP':
        videoBtnThis.closest('.videoPlay').addClass('on');
        videoBtnThis.closest('.tabContents').find('video').get(0).pause();
        changeFocus && videoBtnThis.next();
        break;
      default:
        break;
    }
  }

  // data-slidestop="true" 옵션 추가 시 자동재생 멈춤
  const checkAutoplay = function () {
    const currentSlide = _this.$slick.currentSlide;
    const slide = _this.$slick.slickItem[currentSlide];
    const isStop = $(slide).data('slidestop');

    if (isStop) {
      sequenceControl(_this, 'STOP', true);
    } else if (!_this.$slick.autoplay) {
      sequenceControl(_this, 'STOP', true);
    } else {
      sequenceControl(_this, 'PLAY', true);
    }
  };

  // counter 동기화
  const setCounter = function () {
    const slideCount = _this.$slick.slideCount;
    const currentSlide = _this.$slick.currentSlide + 1;
    const per = Math.floor((currentSlide * 100) / slideCount);

    _this.$slick.counterCurrent.html(String(currentSlide).padStart(2, 0));
    _this.$slick.counterTotal.html(String(slideCount).padStart(2, 0));

    _this.$slick.counterProgress.css({ 'background-size': `${per}% 100%` });
    _this.$slick.counterLabel.text(`${per}% completed`);
  };

  // tab slick 동기화, active class 부여
  const setSlickTab = function () {
    const currentSlide = _this.$slick.currentSlide;
    setTimeout(() => {
      _this.$slick.tab.slick('slickGoTo', currentSlide, false);
    });
    _this.$slick.tabItem
      .removeClass('active')
      .eq(currentSlide)
      .addClass('active');
  };

  // 활성화 되어있는 슬라이드의 비디오만 play
  const setVideoPlay = function () {
    _this.$slick.slickItem.each((idx, item) => {
      if ($(item).find('video').length < 1) return;

      if (_this.$slick.currentSlide != idx) {
        $(item).find('video').get(0).pause();
        $(item).find('video').get(0).currentTime = 0;
      } else {
        $(item).find('video').get(0).play();
      }
    });
  };

  // 20240807 brity-automation 페이지 높이 조절
  function setHeight() {
    let maxHeight = 0;
    let demoDiv = _this.$el;
    if (demoDiv.attr('id') == 'demo') {
      let tab_panel = _this.$slick.slickItem;

      tab_panel.each(function () {
        let panelHeight = $(this).find('.tabContents').outerHeight();
        if (panelHeight > maxHeight) {
          maxHeight = panelHeight;
        }
      });
      tab_panel.css('height', maxHeight + 'px');
      // console.log(tab_panel.css('height'))
    }
  }

  this.init();
}
fo.addPlugin(M110_C);

/** M110_D | 특장점 & Demo 1 */
function M110_D(el) {
  _proto = M110_D.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$visualArea = this.$el.find('.img .img_p');
  this.$tabList = this.$el.find('.tab_list');
  this.$tabListBtn = this.$tabList.find('.tab_btn');
  this.$tabPanel = this.$el.find('.tab_panel');
  this.$scroll = this.$el.find('.txt');
  this.$scrollItem = this.$el.find('.txt .txt_inner');
  this.$txtInner = this.$el.find('.txt_inner');
  this.slide;
  // this.$container = this.$el.hasClass("swiper-container") ? this.$el : this.$el.find(".swiper-container");
  this.$tabMenu = this.$el.find('.slider-nav');
  this.$tabView = this.$el.find('.slider-tabContents');
  this.$slideControl = {
    wrap: this.$el.find('.md_play'),
    // playBtn: this.$el.find(".md_btn_play"),
    // stopBtn: this.$el.find(".md_btn_stop")
  };
  ((this.$slideControl.playBtn = this.$slideControl.wrap.find('.md_btn_play')),
    (this.$slideControl.stopBtn = this.$slideControl.wrap.find('.md_btn_stop')),
    (this.$arrowContainer = this.$el.find('.slick-arrowContainer')));
  this.$prevBtn = this.$el.find('.prev');
  this.$nextBtn = this.$el.find('.next');
  this.$tabMenuLength = this.$tabMenu.find('.swiper-slide').length - 1;
  this.$slickCounter = this.$el.find('.slick-counter');
  this.$progressBar = this.$slickCounter.find('.progress');
  this.$progressBarLabel = this.$slickCounter.find('.slider__label');
  this.$currentTxt = this.$slickCounter.find('.current');
  this.$totalTxt = this.$slickCounter.find('.total');
  this.startIndex = 0;
  this.currentIndex = this.startIndex;
  this.$carousel = this.$el.find('.video_tab .roll_wrap');
  this.$carouselItem = this.$el.find('.video_tab .roll_wrap .item');
  this.$controlWrap = this.$el.find('.video_tab .md_control');
  this.$pagn = this.$el.find('.video_tab .md_control .pagn');
  this.$control = {
    wrap: this.$el.find('.play'),
    // playBtn: this.$el.find(".md_btn_play"),
    // stopBtn: this.$el.find(".md_btn_stop")
  };
  ((this.$control.playBtn = this.$control.wrap.find('.md_btn_play')),
    (this.$control.stopBtn = this.$control.wrap.find('.md_btn_stop')));
  // this.$items = this.$container.find(".swiper-slide");
  this.key = Math.floor(this.$el.offset().top);
  this.activeTab = 0;
  this.mhItems;

  var _this = this; // M110_D
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';
  var mhTarget = ['.txt_logo'];
  var activeTabClick = false;

  var stopChk = false;

  _proto.init = function () {
    //console.log("init:: M110_D")
    // Device type check
    deviceType = checkDeviceType();

    // Set visual img
    this.setVisualImg();

    if (this.$tabPanel.length < 2) {
      _this.$arrowContainer.hide();
      _this.$slickCounter.hide();
      _this.$el.find('.slider-tabSection').css('padding-bottom', '0');
    }
    if (this.$el.hasClass('autoPlay')) {
      _this.autoPlaySet();
    }

    /* total text */
    _this.$totalTxt.text(
      this.$tabPanel.length < 10
        ? '0' + this.$tabPanel.length
        : this.$tabPanel.length,
    );

    setCarousel(_this);
    //슬라이드 함수
    setSlick(_this);

    // slick-counter top 값
    slickCounterTop();

    // Set scroll bar
    this.$scroll.find('.scrollbar-inner').scrollbar();

    if (this.$scrollItem.length < 2) {
      this.$scrollItem
        .eq(0)
        .find('.scrollbar-inner.scroll-content')
        .attr('tabindex', 0);
      // return; // 이 상태에서 return이 추가될 경우 이후 함수가 돌아가지 않습니다.
    }

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
      }
    }, 100);

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }

    // setVisualImg 메서드를 수정해도 되겠지만 정보가 부족하여 아래와 같이 background-size만 초기화
    this.$visualArea.css({ 'background-size': '100% auto' });
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  _proto.addEvent = function () {
    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
      slickCounterTop();
    });
  };

  _proto.autoPlaySet = function () {
    deviceType = checkDeviceType();
    // _this.$slideControl.wrap.hide();
    if (deviceType === 'MOBILE' || deviceType === 'TABLET') {
      this.$slideControl.wrap.hide();
    } else {
      this.$slideControl.wrap.show();
    }
  };

  // slick-counter top 값
  function slickCounterTop() {
    if (deviceType !== 'PC') {
      setTimeout(function () {
        var $slickCounterTop = $('.slider-tabSection').innerHeight() + 40;
      }, 1000);
    }
  }

  // Set Swiper
  function setSlick(_plugin) {
    /* 2023-04 접근성 수정 시작 */
    _plugin.$tabView.on('init', function (event, slick, currentSlide) {
      let calc = ((slick.currentSlide + 1) / slick.slideCount) * 100;
      let firstNum = 100 / slick.slideCount;
      calc = calc == 0 ? firstNum : calc;

      _this.$progressBar.removeAttr('role aria-valuemin aria-valuemax');
      _this.$progressBarLabel.text(Math.floor(calc) + '% completed');
    });
    /* // 2023-04 접근성 수정 끝 */

    _plugin.$tabView.slick({
      accessibility: true,
      slidesToShow: 1,
      arrows: true,
      adaptiveHeight: true,
      infinite: _plugin.$el.hasClass('autoPlay') ? true : false,
      useTransform: true,
      speed: 0,
      prevArrow: _plugin.$prevBtn,
      nextArrow: _plugin.$nextBtn,
      fade: true,
      responsive: [
        {
          breakpoint: 1023,
          settings: {
            fade: false,
            adaptiveHeight: false,
            autoplay: false,
            infinite: true,
            speed: 200,
          },
        },
      ],
      autoplay: _plugin.$el.hasClass('autoPlay') ? true : false,
      autoplaySpeed: 3000,
      pauseOnHover: true,
      pauseOnFocus: true,
    });

    _plugin.$tabMenu.on('init', function (event, slick, currentSlide) {
      _plugin.$tabMenu.find('.slick-slide.slick-current').addClass('is-active');
      setSlideStyle(_this, slick);
    });

    _plugin.$tabMenu.slick({
      slidesToShow: _plugin.$tabMenuLength,
      slidesToScroll: 3,
      rows: 1,
      speed: 100,
      dots: false,
      focusOnSelect: false,
      infinite: false,
      arrows: false,
      variableWidth: true,
      responsive: [
        {
          breakpoint: 1023,
          settings: {
            slidesToShow: 3,
            slidesToScroll: 3,
          },
        },
        {
          breakpoint: 500,
          settings: {
            slidesToShow: 1,
            slidesToScroll: 1,
            swipeToSlide: true,
          },
        },
      ],
    });
    /* 탭 메뉴 리스트 슬라이드 이동시 클래스 변경 */
    _plugin.$tabView.on('afterChange', function (event, slick, currentSlide) {
      _plugin.$tabMenu.slick('slickGoTo', currentSlide);
      var currrentNavSlideElem = _plugin.$tabMenu.find(
        '.slick-slide[data-slick-index="' + currentSlide + '"]',
      );
      _plugin.$tabMenu.find('.slick-slide.is-active').removeClass('is-active');
      $(currrentNavSlideElem).addClass('is-active');

      /* current text */
      _this.$currentTxt.text(
        currentSlide + 1 < 10 ? '0' + (currentSlide + 1) : currentSlide + 1,
      );
      /* progressBar */
      var calc = ((currentSlide + 1) / slick.slideCount) * 100,
        firstNum = 100 / slick.slideCount;
      calc = calc == 0 ? firstNum : calc;
      _this.$progressBar.css('background-size', Math.floor(calc) + '% 100%'); // .attr('aria-valuenow', calc); // 2023-04 접근성 수정
      _this.$progressBarLabel.text(Math.floor(calc) + '% completed'); // 2023-04 접근성 수정
    });
    _plugin.$tabMenu.on('click', '.slick-slide', function (event) {
      event.preventDefault();
      var goToSingleSlide = $(this).data('slick-index');
      _plugin.$tabView.slick('slickGoTo', goToSingleSlide);
    });
    /* //탭 메뉴 리스트 슬라이드 이동시 클래스 변경 */

    _this.$el.on('M110D.UPDATE', function () {
      updateCarouselStyle(_this);
    });

    _this.$carouselItem.on({
      focusin: function (e) {
        switch (deviceType) {
          case 'PC':
            break;
          case 'TABLET':
          case 'MOBILE':
            var isPagnToSlide = $(e.relatedTarget).is(_this.$pagn);
            if (!isPagnToSlide) {
              var currentIndex = _this.$carouselItem.index(e.delegateTarget);
            } else {
              var currentIndex = 0;
              _this.$carouselItem.eq(0).find('a, button').first().focus();
            }
            _this.$carousel.trigger('slideTo', [currentIndex, 0, true]);
            break;
          // default:
          //     break;
        }
      },
      focusout: function (e) {
        switch (deviceType) {
          case 'PC':
            break;
          case 'TABLET':
          case 'MOBILE':
            var isSameSequence = $(e.delegateTarget).find(
              e.relatedTarget,
            ).length;
            var isLastSequence = $(e.delegateTarget).is(
              _this.$carouselItem.last(),
            );
            if (!isSameSequence && isLastSequence) {
              _this.$pagn.focus();
            }
            break;
          // default:
          //     break;
        }
      },
    });

    _this.$control.stopBtn.on('click', function (e) {
      e.preventDefault();
      sequenceControl(_this, 'STOP', true);
      return false;
    });

    _this.$control.playBtn.on('click', function (e) {
      e.preventDefault();
      sequenceControl(_this, 'PLAY', true);
      return false;
    });

    _this.$carousel.on('focusin', function () {
      sequenceControl(_this, 'STOP', false);
    });

    _this.$pagn.on('focusin', function (e) {
      if (!$(e.target).is(':hover')) {
        sequenceControl(_this, 'STOP', false);
      }
    });

    _this.$slideControl.stopBtn.on('click', function (e) {
      e.preventDefault();
      stopChk = true;
      sequenceControl(_plugin, 'STOP', true, 'slide');
      return false;
    });
    _this.$slideControl.playBtn.on('click', function (e) {
      e.preventDefault();
      stopChk = false;
      sequenceControl(_plugin, 'PLAY', true, 'slide');
      return false;
    });

    // Window resize && matchHeight after update
    $.fn.matchHeight._afterUpdate = function (event, groups) {
      $('.M110_D').trigger('M110D.UPDATE');
    };
  }

  // slide, prev button, next button style
  function setSlideStyle(_plugin, slick) {
    var slideWidth = 0;

    slick.$slides.each(function (index) {
      slideWidth += parseInt($(this).outerWidth(true), 10);
    }); //outerWidth

    if (slick.listWidth <= slideWidth) {
      //slideWidth
      _plugin.$arrowContainer.addClass('addArrow');
    } else {
      _plugin.$arrowContainer.removeClass('addArrow');
      _plugin.$tabMenu.addClass('unSlick-width');
    }
  }

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$txtInner.find(target);
    });
  }

  // Update Match Height Item
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };
    switch (deviceType) {
      case 'PC':
      case 'TABLET':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        break;
      // default:
      //     break;
    }
  }

  // Set carousel
  function setCarousel(_plugin) {
    _plugin.$carousel.carouFredSel({
      responsive: true,
      height: null,
      auto: {
        play: true,
        timeoutDuration: 7800,
      },
      prev: false,
      next: false,
      items: {
        start: _plugin.currentIndex,
        visible: 1,
        height: null,
      },
      swipe: {
        onMouse: false,
        onTouch: false,
      },
      scroll: {
        fx: 'fade',
        duration: 0,
        items: 1,
        onAfter: function (data) {
          _plugin.currentIndex = _plugin.$carouselItem.index(
            data.items.visible,
          );
          _plugin.$carouselItem
            .removeClass('act')
            .eq(_plugin.currentIndex)
            .addClass('act');
          _plugin.$pagn
            .find('li')
            .removeClass('act')
            .eq(_plugin.currentIndex)
            .addClass('act');
          _plugin.$carouselItem.find('video').get(0).currentTime = 0;
          _plugin.$carouselItem
            .eq(_plugin.currentIndex)
            .find('video')
            .get(0)
            .play();

          // Update
          updateControl(_plugin);
          updateDuration(_plugin);
        },
      },
      onCreate: function () {
        _plugin.$control.playBtn
          .find('.blind')
          .text(langSet[lang]['slide']['playStr'].toString());
        _plugin.$control.stopBtn
          .find('.blind')
          .text(langSet[lang]['slide']['pauseStr'].toString());
        _plugin.$carouselItem
          .removeClass('act')
          .eq(_plugin.currentIndex)
          .addClass('act');
        _plugin.$carouselItem
          .eq(_plugin.currentIndex)
          .find('video')
          .get(0)
          .play();

        // Update
        updateCarouselStyle(_plugin);
        updateControl(_plugin);
        updateDuration(_plugin);
      },
    });
  }

  //update carouf height
  function updateCarouselStyle(_plugin) {
    _plugin.$carouselItem.height('auto');
    var heights = _plugin.$carouselItem.map(function () {
      return this.clientHeight;
    });
    _plugin.$carousel.trigger('configuration', {
      height: Math.max.apply(null, heights),
      items: {
        height: Math.max.apply(null, heights),
      },
    });
    _plugin.$carousel.trigger('updateSizes');
  }

  // Update Duration
  function updateDuration(_plugin) {
    var defaultInterval = 7800; // 기본값 7.8초(8초) 기존 사용하던 시간
    var dataInterval = _plugin.$carouselItem
      .eq(_plugin.currentIndex)
      .data('interval');
    var carouselInterval = dataInterval ? dataInterval : defaultInterval;

    _plugin.$carousel.trigger('configuration', {
      auto: {
        play: true,
        timeoutDuration: carouselInterval,
      },
    });
  }

  // Update Control
  function updateControl(_plugin) {
    if (!_plugin.$control.wrap.hasClass('on')) {
      sequenceControl(_plugin, 'PLAY', false);
    } else {
      sequenceControl(_plugin, 'STOP', false);
    }
  }

  // Sequence Control: play, stop
  function sequenceControl(_plugin, option, changeFocus, type) {
    if (type !== 'slide') {
      switch (option) {
        case 'PLAY':
          _plugin.$control.wrap.removeClass('on');
          _plugin.$carousel.trigger('play', [null, 0, true]);
          _plugin.$carouselItem.find('video').get(0).play();

          changeFocus && _plugin.$control.stopBtn.focus();
          break;
        case 'STOP':
          _plugin.$control.wrap.addClass('on');
          _plugin.$carousel.trigger('pause', [true, true]);
          _plugin.$carouselItem.find('video').get(0).pause();

          changeFocus && _plugin.$control.playBtn.focus();
          break;
        // default:
        //     break;
      }
    } else {
      switch (option) {
        case 'PLAY':
          _this.$tabView.slick('slickPlay');
          _plugin.$slideControl.wrap.removeClass('on');
          break;
        case 'STOP':
          _this.$tabView.slick('slickPause');
          _plugin.$slideControl.wrap.addClass('on');
          break;
        // default:
        //     break;
      }
    }
  }

  this.init();
}
fo.addPlugin(M110_D);

/** M110_E | Mytrial Company intro */
function M110_E(el) {
  _proto = M110_E.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;

  this.$carousel = this.$el.find('.slider-tabSection');
  this.$carouselItem = this.$el.find('.slider-tabSection .tab_panel ');
  this.$carouselRealItem = this.$el.find('.slider-tabSection .tab_panel '); // clone 전 .item

  this.$pagn = {
    wrap: this.$el.find('.slick-counter'),
    st: this.$el.find('.slick-counter .current'),
    ed: this.$el.find('.slick-counter .total'),
    bar: this.$el.find('.slick-counter .progress'),
  };

  this.$nav = {
    wrap: this.$el.find('.slick-arrowContainer'),
    prevBtn: this.$el.find('.slick-arrowContainer .prev'),
    nextBtn: this.$el.find('.slick-arrowContainer .next'),
  };
  this.$selectedIndex = null;

  this.$tabList = this.$el.find('.tab_list');
  this.$tabListBtn = this.$tabList.find('.tab_btn');
  this.$tabPanel = this.$el.find('.tab_panel');
  this.$scroll = this.$el.find('.txt');
  this.$scrollItem = this.$el.find('.txt .txt_inner');
  this.$txtInner = this.$el.find('.txt_inner');
  this.slide;
  // this.$container = this.$el.hasClass("swiper-container") ? this.$el : this.$el.find(".swiper-container");
  /* 20220302 */
  this.$tabMenu = this.$el.find('.slider-nav');
  this.$tabView = this.$el.find('.slider-tabContents');
  this.$arrowContainer = this.$el.find('.slick-arrowContainer');
  this.$prevBtn = this.$el.find('.prev');
  this.$nextBtn = this.$el.find('.next');
  this.$tabMenuLength = this.$tabMenu.find('.swiper-slide').length - 1; // why length -1 ? // 2023-04 접근성 수정
  this.$slickCounter = this.$el.find('.slick-counter');
  this.$progressBar = this.$slickCounter.find('.progress');
  this.$progressBarLabel = this.$slickCounter.find('.slider__label');
  this.$currentTxt = this.$slickCounter.find('.current');
  this.$totalTxt = this.$slickCounter.find('.total');
  // this.$items = this.$container.find(".swiper-slide");
  this.key = Math.floor(this.$el.offset().top);
  this.activeTab = 0;
  this.mhItems;

  var _this = this; // M110_E
  var deviceType; // "PC", "TABLET", "MOBILE"
  this.running = false; // 2023-04 접근성 수정
  var resizeTimer;
  var mhTarget = ['.txt_logo'];
  var activeTabClick = false;

  var scrollbar = function () {
    var r,
      l,
      o = $('<div class="inner_scrollbar"></div>'),
      s = $('<div class="outer_scrollbar"></div>').append(o),
      e = o[0],
      a = s[0];
    return (
      $('body').append(a),
      (r = e.offsetWidth),
      s.css({ overflow: 'scroll' }),
      (l = a.clientWidth),
      s.remove(),
      r - l
    );
  }; // 2023-04 접근성 수정

  _proto.init = function () {
    //console.log("init:: M110_E")
    // Device type check
    deviceType = checkDeviceType();
    if (this.$tabPanel.length < 2) {
      _this.$arrowContainer.hide();
      _this.$slickCounter.hide();
    }

    this.$pagn.wrap.find('.progress span').remove();
    this.$pagn.wrap.find('.progress').append('<p></p>');
    this.$pagn.bar = this.$el.find('.slick-counter .progress p');

    //슬라이드 함수
    setSlick(_this);

    // Set scroll bar
    this.$scroll.find('.scrollbar-inner').scrollbar();

    if (this.$scrollItem.length < 2) {
      this.$scrollItem
        .eq(0)
        .find('.scrollbar-inner.scroll-content')
        .attr('tabindex', 0);
      return;
    }

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
      }

      /* 2023-04 접근성 수정 시작 */
      _this.running = true;
      let _timer = null;
      if (_timer) {
        clearTimeout(_timer);
      }

      _timer = setTimeout(function () {
        _this.running = false;
      }, 400);
      /* // 2023-04 접근성 수정 끝 */
    }, 100);

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });

    /* 2023-04 접근성 수정 시작 */
    /* AOS에서 focus, blur 작동 방식은 직접 발생시켜야 한다 그래서 아래 코드는 작동하지 않는다. */
    /* IOS는 tabindex를 넣더라도 초점을 할당할 수 없다. */
    _this.$tabPanel.on('blur', function () {
      $(this).removeAttr('tabindex');
    });
    /* // 2023-04 접근성 수정 끝 */
  };

  // Set Swiper
  function setSlick(_plugin) {
    /* 2023-04 접근성 수정 시작 */
    _plugin.$tabView.on('init', function (event, slick, currentSlide) {
      const _attrValue = { 'aria-hidden': true, tabindex: -1 };

      if (_this.$tabMenu.find('.swiper-slide').length > 1) {
        _attrValue.role = 'tabpanel';
      }

      $(this)
        .find('.slick-slide')
        .attr(_attrValue)
        .find('.btn_arrow')
        .attr({ 'aria-hidden': true, tabindex: -1 });
      $(this)
        .find('.slick-slide')
        .filter('[data-slick-index="' + slick.currentSlide + '"]')
        .removeAttr('aria-hidden tabindex')
        .find('.btn_arrow')
        .removeAttr('aria-hidden tabindex');

      updatePagn(currentSlide);
    });
    /* // 2023-04 접근성 수정 끝 */

    _plugin.$tabView.slick({
      accessibility: false, // 2023-04 접근성 수정
      slidesToShow: 1,
      arrows: true,
      adaptiveHeight: true,
      infinite: false,
      centerPadding: '0',
      useTransform: true,
      speed: 0,
      prevArrow: _plugin.$prevBtn,
      nextArrow: _plugin.$nextBtn,
      fade: true,
      responsive: [
        {
          breakpoint: 1024, // 2023-04 접근성 수정
          settings: {
            fade: false,
            adaptiveHeight: false,
            infinite: true,
            centerMode: true,
            speed: 200,
          },
        },
      ],
    });

    _plugin.$tabMenu.on('init', function (event, slick, currentSlide) {
      _plugin.$tabMenu.find('.slick-slide.slick-current').addClass('is-active');

      //slide 갯수 너비 계산 해서 slide 좌,우 버튼 출력
      setSlideStyle(_this, slick);

      /* total text */
      _this.$totalTxt.text(
        slick.slideCount < 10 ? '0' + slick.slideCount : slick.slideCount,
      );

      /* 2023-04 접근성 수정 시작 */
      const _attrValue = { 'aria-selected': false };

      if ($(this).find('.swiper-slide').length > 1) {
        $(this).attr({ role: 'tablist' });
        _attrValue.role = 'tab';
      }

      $(this).find('.slick-slide').siblings().find('.tit_s').attr(_attrValue);
      $(this).find('.is-active').find('.tit_s').attr({ 'aria-selected': true });

      _plugin.$tabMenu.find('.slick-slide').removeAttr('aria-hidden');
      /* // 2023-04 접근성 수정 끝 */
    });

    _plugin.$tabMenu.slick({
      accessibility: false, // 2023-04 접근성 수정
      slidesToShow: _plugin.$tabMenuLength,
      slidesToScroll: 3,
      rows: 1,
      speed: 100,
      dots: false,
      focusOnSelect: true,
      infinite: false,
      arrows: false,
      variableWidth: true,
      responsive: [
        {
          breakpoint: 1024, // 2023-04 접근성 수정
          settings: {
            slidesToShow: 3,
            slidesToScroll: 3,
          },
        },
        {
          breakpoint: 500,
          settings: {
            slidesToShow: 1,
            slidesToScroll: 1,
            swipeToSlide: true,
          },
        },
      ],
    });

    /* 탭 메뉴 리스트 슬라이드 이동시 클래스 변경 */
    _plugin.$tabView.on('afterChange', function (event, slick, currentSlide) {
      _plugin.$tabMenu.slick('slickGoTo', currentSlide);
      var currrentNavSlideElem = _plugin.$tabMenu.find(
        '.slick-slide[data-slick-index="' + currentSlide + '"]',
      );
      _plugin.$tabMenu.find('.slick-slide.is-active').removeClass('is-active');
      $(currrentNavSlideElem).addClass('is-active');

      updatePagn(currentSlide);

      /* current text */
      _this.$currentTxt.text(
        currentSlide + 1 < 10 ? '0' + (currentSlide + 1) : currentSlide + 1,
      );
      /* progressBar */
      var calc = ((currentSlide + 1) / slick.slideCount) * 100,
        firstNum = 100 / slick.slideCount;
      calc = calc == 0 ? firstNum : calc;
      _this.$progressBar.css('background-size', Math.floor(calc) + '% 100%'); // .attr('aria-valuenow', calc ); // 2023-04 접근성 수정
      _this.$progressBarLabel.text(Math.floor(calc) + '% completed'); // 2023-04 접근성 수정

      /* 2023-04 접근성 수정 시작 */
      _plugin.$tabMenu
        .find('.slick-slide')
        .siblings()
        .find('.tit_s')
        .attr('aria-selected', false);
      _plugin.$tabMenu
        .find('.is-active')
        .find('.tit_s')
        .attr('aria-selected', true);
      _plugin.$tabMenu.find('.slick-slide').removeAttr('aria-hidden');
      _plugin.$tabView
        .find('.slick-slide')
        .attr({ 'aria-hidden': true, tabindex: -1 })
        .find('.btn_arrow')
        .attr({ 'aria-hidden': true, tabindex: -1 });
      _plugin.$tabView
        .find('.slick-slide')
        .filter('[data-slick-index="' + currentSlide + '"]')
        .removeAttr('aria-hidden')
        .attr('tabindex', 0)
        .find('.btn_arrow')
        .removeAttr('aria-hidden tabindex');

      if (_this.running) return;

      setTimeout(function () {
        _plugin.$tabView
          .find('.slick-slide')
          .filter('[data-slick-index="' + currentSlide + '"]')
          .focus();
      }, 1);
      /* // 2023-04 접근성 수정 끝 */
    });

    _plugin.$tabMenu.on('click', '.slick-slide', function (event) {
      event.preventDefault();
      var goToSingleSlide = $(this).data('slick-index');

      _plugin.$tabView.slick('slickGoTo', goToSingleSlide);
    });
    /* //탭 메뉴 리스트 슬라이드 이동시 클래스 변경 */
  }

  /* 슬라이드의 activeIndex가 변경되면 페이지 숫자 업데이트 */
  function updatePagn(currentSlide) {
    const data = {
      carousel: _this.$carousel,
      slides: _this.$carouselItem.length,
      activeIdx: currentSlide ? currentSlide : 0,

      element: {
        st: _this.$pagn.st,
        ed: _this.$pagn.ed,
        bar: _this.$pagn.bar,
      },
    };
    slide.setPagn(_this, data);
  }

  // slide, prev button, next button style
  function setSlideStyle(_plugin, slick) {
    var slideWidth = 0;
    slick.$slides.each(function (index) {
      slideWidth += parseInt($(this).outerWidth(true), 10);
    }); //outerWidth

    if (slick.listWidth <= slideWidth) {
      //slideWidth
      _plugin.$arrowContainer.addClass('addArrow');
    } else {
      _plugin.$arrowContainer.removeClass('addArrow');
      _plugin.$tabMenu.addClass('unSlick-width');
    }
  }

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth - scrollbar() >= 1024) {
      // 2023-04 접근성 수정
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$txtInner.find(target);
    });
  }

  // Update Match Height Item
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };
    switch (deviceType) {
      case 'PC':
      case 'TABLET':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        break;
      // default:
      //     break;
    }
  }

  this.init();
}
fo.addPlugin(M110_E);

/** M110_F | 활용예시 & 특장점 & Demo 2 */
function M110_F(el) {
  _proto = M110_F.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$visualArea = this.$el.find('.img .img_p');

  this.startIndex = this.data.activeTab || 0;
  this.currentIndex = this.startIndex;

  this.$tabList = this.$el.find('.tab_list');
  this.$tabListBtn = this.$tabList.find('.tab_btn');
  this.$tabPanel = this.$el.find('.tab_panel');
  this.$scroll = this.$el.find('.txt');
  this.$scrollItem = this.$el.find('.txt .txt_inner');
  this.$txtInner = this.$el.find('.txt_inner');
  this.slide;
  this.$tabMenu = this.$el.find('.slider-nav');
  this.$tabMenuButton = this.$tabMenu.find('a');
  this.$tabView = this.$el.find('.slider-tabContents');
  this.$arrowContainer = this.$el.find('.slick-arrowContainer');
  this.$prevBtn = this.$el.find('.prev');
  this.$nextBtn = this.$el.find('.next');
  this.$tabMenuLength = this.$tabMenu.find('.swiper-slide').length - 1;
  this.$slickCounter = this.$el.find('.slick-counter');
  this.$progressBar = this.$slickCounter.find('.progress');
  this.$progressBarLabel = this.$slickCounter.find('.slider__label');
  this.$currentTxt = this.$slickCounter.find('.current');
  this.$totalTxt = this.$slickCounter.find('.total');
  // this.$items = this.$container.find(".swiper-slide");
  this.key = Math.floor(this.$el.offset().top);
  this.activeTab = 0;
  this.mhItems;

  var _this = this; // M110_F
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var mhTarget = ['.txt_logo'];
  var activeTabClick = false;

  _proto.init = function () {
    //console.log("init:: M110_F")
    // Device type check
    deviceType = checkDeviceType();

    // Set visual img
    this.setVisualImg();

    if (this.$tabPanel.length < 2) {
      _this.$arrowContainer.hide();
      _this.$slickCounter.hide();
      _this.$el.find('.slider-tabSection').css('padding-bottom', '0');
    }

    /* total text */
    _this.$totalTxt.text(
      this.$tabPanel.length < 10
        ? '0' + this.$tabPanel.length
        : this.$tabPanel.length,
    );

    //슬라이드 함수
    setSlick(_this);
    webAcc(this);

    // Set scroll bar
    this.$scroll.find('.scrollbar-inner').scrollbar();

    if (this.$scrollItem.length < 2) {
      this.$scrollItem
        .eq(0)
        .find('.scrollbar-inner.scroll-content')
        .attr('tabindex', 0);
      // return; // 이 상태에서 return이 추가될 경우 이후 함수가 돌아가지 않습니다.
    }

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        tabScroll(_this);
      }
    }, 100);

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }

    // setVisualImg 메서드를 수정해도 되겠지만 정보가 부족하여 아래와 같이 background-size만 초기화
    this.$visualArea.css({ 'background-size': '100% auto' });
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  _proto.addEvent = function () {
    clickEvent();

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Set Swiper
  function setSlick(_plugin) {
    _plugin.$tabView.on('init', function (event, slick, currentSlide) {
      tabScroll(_this, slick);

      let calc = ((slick.currentSlide + 1) / slick.slideCount) * 100;
      let firstNum = 100 / slick.slideCount;
      calc = calc == 0 ? firstNum : calc;

      _this.$progressBar.removeAttr('role aria-valuemin aria-valuemax');
      _this.$progressBarLabel.text(Math.floor(calc) + '% completed');
    });

    _plugin.$tabView.slick({
      accessibility: true,
      slidesToShow: 1,
      arrows: true,
      adaptiveHeight: true,
      infinite: false,
      useTransform: true,
      speed: 0,
      prevArrow: _plugin.$prevBtn,
      nextArrow: _plugin.$nextBtn,
      fade: true,
      responsive: [
        {
          breakpoint: 1023,
          settings: {
            fade: false,
            adaptiveHeight: false,
            infinite: true,
            speed: 200,
          },
        },
      ],
    });

    /* 탭 메뉴 리스트 슬라이드 이동시 클래스 변경 */
    _plugin.$tabView.on('afterChange', function (event, slick, currentSlide) {
      webAcc(_plugin);
      _this.currentIndex = currentSlide;
      tabScroll(_this, slick, currentSlide);

      /* current text */
      _this.$currentTxt.text(
        currentSlide + 1 < 10 ? '0' + (currentSlide + 1) : currentSlide + 1,
      );
      /* progressBar */
      var calc = ((currentSlide + 1) / slick.slideCount) * 100,
        firstNum = 100 / slick.slideCount;

      calc = calc == 0 ? firstNum : calc;
      _this.$progressBar.css('background-size', Math.floor(calc) + '% 100%'); // .attr('aria-valuenow', calc ); // 2023-04 접근성 수정
      _this.$progressBarLabel.text(Math.floor(calc) + '% completed');
    });
    /* //탭 메뉴 리스트 슬라이드 이동시 클래스 변경 */
  }

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  // 웹접근 tabindex : 0, aria-hidden
  function webAcc(_plugin) {
    // console.log("웹접근 데이터 속성", _plugin.$el)
    var all_item = _plugin.$el.find('.slider-tabContents .tab_panel');
    setTimeout(function () {
      all_item.each(function (i, e) {
        if (
          $(e).hasClass('slick-active') ||
          _plugin.$el.find('.inner').is('.no_slide')
        ) {
          $(e).attr({ tabindex: '', 'aria-hidden': 'false' });
          $(e).find('a').attr({ tabindex: '0', 'aria-hidden': 'false' });
        } else {
          $(e).attr({ tabindex: '-1', 'aria-hidden': 'true' });
          $(e).find('a').attr({ tabindex: '-1', 'aria-hidden': 'true' });
        }
      });
    }, 100);
  }

  /* slide click event */
  function clickEvent() {
    _this.$tabMenuButton.on('click', function (e) {
      // console.log("tab nav click")
      const idx = _this.$tabMenuButton.index($(this));
      _this.$tabView.slick('goTo', idx);
    });
  }

  /* activeIndex 변경 시 tab 스크롤 값 세팅 */
  function tabScroll(_plugin, slick, currentSlide) {
    if (!_plugin.$el.find('.tab_slide_wrap .slider>div').length) return;

    const data = {
      tabSlideArea: _this.$el.find('.tab_slide_wrap'),
      tab: _this.$tabMenu,
      tabItems: _this.$tabMenuButton,
      activeIdx: _this.currentIndex,
    };
    slide.setTabScroll(_this, data);

    _plugin.$el.find('.tab_slide_wrap .slider>div').eq(0).addClass('is-active');
    _this.$tabMenuButton
      .eq(currentSlide)
      .parent()
      .addClass('is-active')
      .siblings()
      .removeClass('is-active');
  }

  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$txtInner.find(target);
    });
  }

  // Update Match Height Item
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };
    switch (deviceType) {
      case 'PC':
      case 'TABLET':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        break;
      // default:
      //     break;
    }
  }
  this.init();
}
fo.addPlugin(M110_F);

/** M110_G | 특장점 3*/
function M110_G(el) {
  _proto = M110_G.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$visualArea = this.$el.find('.img .img_p, .img .img_m');

  this.startIndex = this.data.activeTab || 0;
  this.currentIndex = this.startIndex;

  this.$tabList = this.$el.find('.tab_list');
  this.$tabListBtn = this.$tabList.find('.tab_btn');
  this.$tabPanel = this.$el.find('.tab_panel');
  this.$scroll = this.$el.find('.txt');
  this.$scrollItem = this.$el.find('.txt .txt_inner');
  this.$txtInner = this.$el.find('.txt_inner');
  this.slide;
  this.$tabMenu = this.$el.find('.slider-nav');
  this.$tabMenuButton = this.$tabMenu.find('a');
  this.$tabView = this.$el.find('.slider-tabContents');
  this.$control = {
    wrap: this.$el.find('.md_play'),
    playBtn: this.$el.find('.md_btn_play'),
    stopBtn: this.$el.find('.md_btn_stop'),
  };
  this.$arrowContainer = this.$el.find('.slick-arrowContainer');
  this.$prevBtn = this.$el.find('.prev');
  this.$nextBtn = this.$el.find('.next');
  this.$tabMenuLength = this.$tabMenu.find('.swiper-slide').length - 1;
  this.$slickCounter = this.$el.find('.slick-counter');
  this.$progressBar = this.$slickCounter.find('.progress');
  this.$progressBarLabel = this.$slickCounter.find('.slider__label');
  this.$currentTxt = this.$slickCounter.find('.current');
  this.$totalTxt = this.$slickCounter.find('.total');
  // this.$items = this.$container.find(".swiper-slide");
  this.key = Math.floor(this.$el.offset().top);
  this.activeTab = 0;
  this.mhItems;

  var _this = this; // M110_G
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var mhTarget = ['.txt_logo'];
  var activeTabClick = false;
  var stopChk = false;

  _proto.init = function () {
    //console.log("init:: M110_G")
    // Device type check
    deviceType = checkDeviceType();

    // Set visual img
    this.setVisualImg();

    if (this.$tabPanel.length < 2) {
      _this.$arrowContainer.hide();
      _this.$slickCounter.hide();
      _this.$control.wrap.hide();
      _this.$el.find('.slider-tabSection').css('padding-bottom', '0');
    }

    /* total text */
    _this.$totalTxt.text(
      this.$tabPanel.length < 10
        ? '0' + this.$tabPanel.length
        : this.$tabPanel.length,
    );

    //슬라이드 함수
    setSlick(_this);
    webAcc(this);

    // Set scroll bar
    this.$scroll.find('.scrollbar-inner').scrollbar();

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        tabScroll(_this);
      }
    }, 100);

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  _proto.addEvent = function () {
    clickEvent();

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Set Swiper
  function setSlick(_plugin) {
    /* 2023-04 접근성 수정 시작 */
    _plugin.$tabView.on('init', function (event, slick, currentSlide) {
      tabScroll(_this, slick);

      let calc = ((slick.currentSlide + 1) / slick.slideCount) * 100;
      let firstNum = 100 / slick.slideCount;
      calc = calc == 0 ? firstNum : calc;

      _this.$progressBar.removeAttr('role aria-valuemin aria-valuemax');
      _this.$progressBarLabel.text(Math.floor(calc) + '% completed');
    });
    /* // 2023-04 접근성 수정 끝 */

    _plugin.$tabView.slick({
      accessibility: true,
      slidesToShow: 1,
      autoplay: true,
      autoplaySpeed: 3000,
      arrows: true,
      adaptiveHeight: false,
      useTransform: true,
      speed: 0,
      prevArrow: _plugin.$prevBtn,
      nextArrow: _plugin.$nextBtn,
      pauseOnHover: true,
      pauseOnFocus: true,
      fade: true,
      responsive: [
        {
          breakpoint: 1023,
          settings: {
            fade: false,
            adaptiveHeight: false,
            infinite: true,
            autoplay: false,
            speed: 200,
          },
        },
      ],
    });

    /* 탭 메뉴 리스트 슬라이드 이동시 클래스 변경 */
    _plugin.$tabView.on('afterChange', function (event, slick, currentSlide) {
      webAcc(_plugin);
      _this.currentIndex = currentSlide;
      tabScroll(_this, slick, currentSlide);

      /* current text */
      _this.$currentTxt.text(
        currentSlide + 1 < 10 ? '0' + (currentSlide + 1) : currentSlide + 1,
      );
      /* progressBar */
      var calc = ((currentSlide + 1) / slick.slideCount) * 100,
        firstNum = 100 / slick.slideCount;
      calc = calc == 0 ? firstNum : calc;

      _this.$progressBar.css('background-size', Math.floor(calc) + '% 100%'); // .attr('aria-valuenow', calc ); // 2023-04 접근성 수정
      _this.$progressBarLabel.text(Math.floor(calc) + '% completed'); // 2023-04 접근성 수정
    });
    /* //탭 메뉴 리스트 슬라이드 이동시 클래스 변경 */

    _plugin.$control.stopBtn.on('click', function (e) {
      e.preventDefault();
      stopChk = true;
      sequenceControl(_plugin, 'STOP', true);
      return false;
    });
    _plugin.$control.playBtn.on('click', function (e) {
      e.preventDefault();
      stopChk = false;
      sequenceControl(_plugin, 'PLAY', true);
      return false;
    });
  }

  // Sequence Control: play, stop
  function sequenceControl(_plugin, option, changeFocus) {
    switch (option) {
      case 'PLAY':
        _this.$tabView.slick('slickPlay');
        _plugin.$control.wrap.removeClass('on');
        break;
      case 'STOP':
        _this.$tabView.slick('slickPause');
        _plugin.$control.wrap.addClass('on');
        break;
      // default:
      //     break;
    }
  }

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  // 웹접근 tabindex : 0, aria-hidden
  function webAcc(_plugin) {
    // console.log("웹접근 데이터 속성", _plugin.$el)
    var all_item = _plugin.$el.find('.slider-tabContents .tab_panel');
    setTimeout(function () {
      all_item.each(function (i, e) {
        if (
          $(e).hasClass('slick-active') ||
          _plugin.$el.find('.inner').is('.no_slide')
        ) {
          $(e).attr({ tabindex: '', 'aria-hidden': 'false' });
          $(e).find('a').attr({ tabindex: '0', 'aria-hidden': 'false' });
        } else {
          $(e).attr({ tabindex: '-1', 'aria-hidden': 'true' });
          $(e).find('a').attr({ tabindex: '-1', 'aria-hidden': 'true' });
        }
      });
    }, 100);
  }

  /* slide click event */
  function clickEvent() {
    _this.$tabMenuButton.on('click', function (e) {
      const idx = _this.$tabMenuButton.index($(this));
      _this.$tabView.slick('goTo', idx);
    });
  }

  /* activeIndex 변경 시 tab 스크롤 값 세팅 */
  function tabScroll(_plugin, slick, currentSlide) {
    if (!_plugin.$el.find('.tab_slide_wrap .slider>div').length) return;

    const data = {
      tabSlideArea: _this.$el.find('.tab_slide_wrap'),
      tab: _this.$tabMenu,
      tabItems: _this.$tabMenuButton,
      activeIdx: _this.currentIndex,
    };
    slide.setTabScroll(_this, data);

    _plugin.$el.find('.tab_slide_wrap .slider>div').eq(0).addClass('is-active');
    _this.$tabMenuButton
      .eq(currentSlide)
      .parent()
      .addClass('is-active')
      .siblings()
      .removeClass('is-active');
  }

  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$txtInner.find(target);
    });
  }

  // Update Match Height Item
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };
    switch (deviceType) {
      case 'PC':
      case 'TABLET':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        break;
      // default:
      //     break;
    }
  }
  this.init();
}
fo.addPlugin(M110_G);

/** M110_H | 활용예시 & 특장점 & Demo 1-2 */
function M110_H(el) {
  _proto = M110_H.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$visualArea = this.$el.find('.img .img_p');
  this.$tabList = this.$el.find('.tab_list');
  this.$tabListBtn = this.$tabList.find('.tab_btn');
  this.$tabPanel = this.$el.find('.tab_panel');
  this.$scroll = this.$el.find('.txt');
  this.$scrollItem = this.$el.find('.txt .txt_inner');
  this.$txtInner = this.$el.find('.txt_inner');
  this.slide;
  this.$tabMenu = this.$el.find('.slider-nav');
  this.$tabView = this.$el.find('.slider-tabContents');
  this.$arrowContainer = this.$el.find('.slick-arrowContainer');
  this.$prevBtn = this.$el.find('.prev');
  this.$nextBtn = this.$el.find('.next');
  this.$tabMenuLength = this.$tabMenu.find('.swiper-slide').length; // why length -1 ? // 2023-04 접근성 수정
  this.$slickCounter = this.$el.find('.slick-counter');
  this.$progressBar = this.$slickCounter.find('.progress');
  this.$progressBarLabel = this.$slickCounter.find('.slider__label');
  this.$currentTxt = this.$slickCounter.find('.current');
  this.$totalTxt = this.$slickCounter.find('.total');
  this.key = Math.floor(this.$el.offset().top);
  this.activeTab = 0;
  this.mhItems;
  this.running = true;
  this.running = false; // 2023-04 접근성 수정
  this.removeAttr = null; // 2023-04 접근성 수정

  var _this = this; // M110_H
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var mhTarget = ['.md_tit'];
  var activeTabClick = false;
  var scrollbar = function () {
    var r,
      l,
      o = $('<div class="inner_scrollbar"></div>'),
      s = $('<div class="outer_scrollbar"></div>').append(o),
      e = o[0],
      a = s[0];
    return (
      $('body').append(a),
      (r = e.offsetWidth),
      s.css({ overflow: 'scroll' }),
      (l = a.clientWidth),
      s.remove(),
      r - l
    );
  }; // 2023-04 접근성 수정

  _proto.init = function () {
    //console.log("init:: M110_H")
    // Device type check
    deviceType = checkDeviceType();

    // Set visual img
    this.setVisualImg();

    if (this.$tabPanel.length < 2) {
      _this.$arrowContainer.hide();
      _this.$slickCounter.hide();
      _this.$el.find('.slider-tabSection').css('padding-bottom', '0');
    }

    /* total text */
    _this.$totalTxt.text(
      this.$tabPanel.length < 10
        ? '0' + this.$tabPanel.length
        : this.$tabPanel.length,
    );

    //슬라이드 함수
    setSlick(_this);

    // slick-counter top 값
    slickCounterTop();

    // Set scroll bar
    this.$scroll.find('.scrollbar-inner').scrollbar();

    if (this.$scrollItem.length < 2) {
      this.$scrollItem.eq(0).find('.scrollbar-inner.scroll-content'); // .attr('tabindex', 0); // 2023-04 접근성 수정
      // return; // 이 상태에서 return이 추가될 경우 이후 함수가 돌아가지 않습니다.
    }

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        /* 2023-04 접근성 수정 시작 */
        let _removeAttr = setTimeout(() => {
          if (
            !!_this.$tabMenu.find('.slick-slide').attr('aria-hidden') &&
            !!_this.$tabMenu.find('.slick-slide').attr('tabindex')
          ) {
            _this.$tabMenu
              .find('.slick-slide')
              .removeAttr('aria-hidden tabindex');

            clearTimeout(_removeAttr);
          }
        }, 400);
        /* // 2023-04 접근성 수정 끝 */

        /* 2023-04 접근성 수정 시작 */
        _this.running = true;
        let _timer = null;
        if (_timer) {
          clearTimeout(_timer);
        }
        _timer = setTimeout(function () {
          _this.running = false;
        }, 400);
        /* // 2023-04 접근성 수정 끝 */
      }
    }, 100);

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }

    // setVisualImg 메서드를 수정해도 되겠지만 정보가 부족하여 아래와 같이 background-size만 초기화
    this.$visualArea.css({ 'background-size': '100% auto' });
  };

  // Set visual img
  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  _proto.addEvent = function () {
    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
      slickCounterTop();
    });
  };

  // slick-counter top 값
  function slickCounterTop() {
    if (deviceType !== 'PC') {
      setTimeout(function () {
        var $slickCounterTop = $('.slider-tabSection').innerHeight() + 40;
      }, 1000);
    }
  }

  // Set Swiper
  function setSlick(_plugin) {
    /* 2023-04 접근성 수정 시작 */
    _plugin.$tabView.on('init', function (event, slick, currentSlide) {
      const _attrValue = { 'aria-hidden': true, tabindex: -1 };

      if (_this.$tabMenu.find('.swiper-slide').length > 1) {
        _attrValue.role = 'tabpanel';
      }

      $(this)
        .find('.slick-slide')
        .attr(_attrValue)
        .find('.btn_arrow')
        .attr({ 'aria-hidden': true, tabindex: -1 });
      $(this)
        .find('.slick-slide')
        .filter('[data-slick-index="' + slick.currentSlide + '"]')
        .removeAttr('aria-hidden tabindex')
        .find('.btn_arrow')
        .removeAttr('aria-hidden tabindex');

      /* 2023-04 접근성 수정 시작 */
      let calc = ((slick.currentSlide + 1) / slick.slideCount) * 100;
      let firstNum = 100 / slick.slideCount;
      calc = calc == 0 ? firstNum : calc;

      _this.$progressBar.removeAttr('role aria-valuemin aria-valuemax');
      _this.$progressBarLabel.text(Math.floor(calc) + '% completed');
      /* // 2023-04 접근성 수정 끝 */
    });
    /* // 2023-04 접근성 수정 끝 */

    _plugin.$tabView.slick({
      accessibility: false, // 2023-04 접근성 수정
      slidesToShow: 1,
      arrows: true,
      adaptiveHeight: true,
      infinite: true, // false로 할 경우 끝에 가서 역순으로 재생됩니다.
      useTransform: true,
      speed: 0,
      prevArrow: _plugin.$prevBtn,
      nextArrow: _plugin.$nextBtn,
      fade: true,
      autoplaySpeed: 5000,
      autoplay: true,
      pauseOnHover: true,
      pauseOnFocus: true,
      responsive: [
        {
          breakpoint: 1024, // 2023-04 접근성 수정
          settings: {
            autoplay: false,
            pauseOnHover: false,
            pauseOnFocus: false,
            fade: false,
            adaptiveHeight: false,
            infinite: true,
            speed: 200,
          },
        },
      ],
    });

    _plugin.$tabMenu.on('init', function (event, slick, currentSlide) {
      _plugin.$tabMenu.find('.slick-slide.slick-current').addClass('is-active');

      //slide 갯수 너비 계산 해서 slide 좌,우 버튼 출력
      setSlideStyle(_this, slick);

      /* total text */
      //_this.$totalTxt.text(slick.slideCount < 10 ? "0" + slick.slideCount : slick.slideCount);

      /* 2023-04 접근성 수정 시작 */
      const _attrValue = { 'aria-selected': false };

      if (_this.$tabMenu.find('.swiper-slide').length > 1) {
        $(this).attr({ role: 'tablist' });

        _attrValue.role = 'tab';
      }

      _plugin.$tabMenu
        .find('.slick-slide')
        .siblings()
        .find('a')
        .attr(_attrValue);
      _plugin.$tabMenu
        .find('.is-active')
        .find('a')
        .attr({ 'aria-selected': true });

      _plugin.$tabMenu.find('.slick-slide').removeAttr('aria-hidden');

      // 어딘가에서 바뀌고 있어서 강제로 지정
      setTimeout(function () {
        _plugin.$tabMenu
          .find('.slick-slide')
          .add(_plugin.$tabMenu.find('.slick-slide').find('a'))
          .removeAttr('aria-hidden tabindex');
      }, 1);
      /* // 2023-04 접근성 수정 끝 */
    });

    _plugin.$tabMenu.slick({
      slidesToShow: _plugin.$tabMenuLength,
      slidesToScroll: 3,
      rows: 1,
      speed: 100,
      dots: false,
      focusOnSelect: false,
      infinite: false,
      arrows: false,
      variableWidth: true,
      responsive: [
        {
          breakpoint: 1024, // 2023-04 접근성 수정
          settings: {
            slidesToShow: 3,
            slidesToScroll: 3,
          },
        },
        {
          breakpoint: 500,
          settings: {
            slidesToShow: 1,
            slidesToScroll: 1,
            swipeToSlide: true,
          },
        },
      ],
    });
    /* 탭 메뉴 리스트 슬라이드 이동시 클래스 변경 */
    _plugin.$tabView.on('afterChange', function (event, slick, currentSlide) {
      _plugin.$tabMenu.slick('slickGoTo', currentSlide);
      var currrentNavSlideElem = _plugin.$tabMenu.find(
        '.slick-slide[data-slick-index="' + currentSlide + '"]',
      );
      // $('.slider-nav .slick-slide.is-active').removeClass('is-active');
      _plugin.$tabMenu.find('.slick-slide.is-active').removeClass('is-active');
      $(currrentNavSlideElem).addClass('is-active');

      /* current text */
      _this.$currentTxt.text(
        currentSlide + 1 < 10 ? '0' + (currentSlide + 1) : currentSlide + 1,
      );
      /* progressBar */
      var calc = ((currentSlide + 1) / slick.slideCount) * 100,
        firstNum = 100 / slick.slideCount;
      calc = calc == 0 ? firstNum : calc;
      _this.$progressBar.css('background-size', Math.floor(calc) + '% 100%'); // 2023-04 접근성 수정
      _this.$progressBarLabel.text(Math.floor(calc) + '% completed'); // 2023-04 접근성 수정

      /* 2023-04 접근성 수정 시작 */
      _this.removeAttr = setTimeout(() => {
        if (
          !!_plugin.$tabMenu.find('.slick-slide').attr('aria-hidden') &&
          !!_plugin.$tabMenu.find('.slick-slide').attr('tabindex')
        ) {
          _plugin.$tabMenu
            .find('.slick-slide')
            .removeAttr('aria-hidden tabindex');
          _plugin.$tabMenu
            .find('.slick-slide')
            .siblings()
            .find('a')
            .attr({ 'aria-hidden': true, tabindex: 0, 'aria-selected': false });
          _plugin.$tabMenu
            .find('.is-active')
            .find('a')
            .attr({ 'aria-hidden': false, tabindex: 0, 'aria-selected': true });

          clearTimeout(_this.removeAttr);
        }
      }, 400);

      _plugin.$tabView
        .find('.slick-slide')
        .attr({ 'aria-hidden': true, tabindex: -1 })
        .find('.btn_arrow')
        .attr({ 'aria-hidden': true, tabindex: -1 });
      _plugin.$tabView
        .find('.slick-slide')
        .filter('[data-slick-index="' + currentSlide + '"]')
        .removeAttr('aria-hidden tabindex')
        .find('.btn_arrow')
        .removeAttr('aria-hidden tabindex');
    });

    /* 2023-04 접근성 수정 시작 */
    _plugin.$tabView.find('.slick-slide').on('blur', function () {
      $(this).removeAttr('tabindex');
    });
    /* // 2023-04 접근성 수정 끝 */

    _plugin.$tabMenu.on('click', '.slick-slide', function (event) {
      event.preventDefault();
      var goToSingleSlide = $(this).data('slick-index');

      _plugin.$tabView.slick('slickGoTo', goToSingleSlide);
    });
    /* //탭 메뉴 리스트 슬라이드 이동시 클래스 변경 */

    _this.$el
      .find('.md_play')
      .find('[class *= "md_btn_"]')
      .on('click', function (event) {
        var value = $(this).is('.md_btn_stop') ? 'STOP' : 'PLAY';

        sequenceControl(_this, value, true);

        _this.running = value === 'STOP' ? false : true;
      });

    /* 2023-04 접근성 수정 시작 */
    _plugin.$prevBtn
      .add(_plugin.$nextBtn)
      .off('mouseover mouseout focus blur')
      .on('mouseover focus', function () {
        if (
          deviceType.toUpperCase().indexOf('PC') > -1 ||
          deviceType.toUpperCase().indexOf('TABLETPC') > -1
        ) {
          sequenceControl(_this, 'STOP', true);
        }
      })
      .on('mouseout blur', function () {
        if (
          deviceType.toUpperCase().indexOf('PC') > -1 ||
          deviceType.toUpperCase().indexOf('TABLETPC') > -1
        ) {
          // if (_this.$el.find('.md_play').hasClass('on') && _this.running) {
          if (_this.$el.find('.md_play').hasClass('on')) {
            sequenceControl(_this, 'PLAY', true);
          }
        }
      });

    _plugin.$tabView
      .add(_plugin.$tabMenu)
      .off('mouseenter')
      .on('mouseenter', function () {
        if (
          deviceType.toUpperCase().indexOf('PC') > -1 ||
          deviceType.toUpperCase().indexOf('TABLETPC') > -1
        ) {
          sequenceControl(_this, 'STOP', true);
        }
      })
      .off('mouseleave')
      .on('mouseleave', function () {
        if (
          deviceType.toUpperCase().indexOf('PC') > -1 ||
          deviceType.toUpperCase().indexOf('TABLETPC') > -1
        ) {
          // if (_this.$el.find('.md_play').hasClass('on') && _this.running) {
          if (_this.$el.find('.md_play').hasClass('on')) {
            sequenceControl(_this, 'PLAY', true);
          }
        }
      });
    /* // 2023-04 접근성 수정 끝 */
  }

  // slide, prev button, next button style
  function setSlideStyle(_plugin, slick) {
    var slideWidth = 0;

    slick.$slides.each(function (index) {
      slideWidth += parseInt($(this).outerWidth(true), 10);
    }); //outerWidth

    if (slick.listWidth <= slideWidth) {
      //slideWidth
      _plugin.$arrowContainer.addClass('addArrow');
    } else {
      _plugin.$arrowContainer.removeClass('addArrow');
      _plugin.$tabMenu.addClass('unSlick-width');
    }
  }

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth - scrollbar() >= 1024) {
      // 2023-04 접근성 수정
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$tabPanel.find(target);
    });
  }

  // Update Match Height Item
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };

    switch (deviceType) {
      case 'PC':
      case 'TABLET':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        break;
      // default:
      //     break;
    }
  }

  function sequenceControl(_plugin, option, changeFocus) {
    switch (option.toUpperCase()) {
      case 'PLAY':
        _plugin.$tabView.slick('slickPlay');
        _this.$el.find('.md_play').removeClass('on');
        break;

      case 'STOP':
        _plugin.$tabView.slick('slickPause');
        _this.$el.find('.md_play').addClass('on');
        break;

      // default:
      //   break;
    }
  }

  this.init();
}
fo.addPlugin(M110_H);

/** M111_A | Features **/
function M111_A(el) {
  _proto = M111_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.mhItems;

  var _this = this; // M111_A
  var deviceType; // "PC", "TABLET", "MOBILE"
  var mhTarget = ['.md_tit', '.md_txt'];
  var resizeTimer;

  _proto.init = function () {
    //console.log("init:: M111_A");
    // Device type check
    deviceType = checkDeviceType();

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateMhItem(_this);
      }
    }, 200);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  // Event
  _proto.addEvent = function () {
    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$el.find(target);
    });
  }

  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };

    switch (deviceType) {
      case 'PC':
      case 'TABLET':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        break;
      // default:
      //     break;
    }
  }

  this.init();
}
fo.addPlugin(M111_A);

/** M112_A | Relation Offering */
function M112_A(el) {
  _proto = M112_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$carousel = this.$el.find('.owl-carousel');
  this.$carouselItem = this.$el.find('.owl-carousel .item');
  this.$pagn = this.$el.find('.owl-pagn');

  var _this = this; // M112_A
  var deviceType; // "PC_LARGE", "PC_MEDIUM", "PC_SMALL", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: M112_A")
    // Device type check
    deviceType = checkDeviceType();

    this.$el.find('.M112_A_cont').addClass('m' + this.$carouselItem.length);

    if (this.$carouselItem.length < 2) return;

    /* 210510 | 접근성 | 모바일 활성화 Nav */
    if (this.$carouselItem.length >= 2) {
      this.$carousel.after(
        '<div class="owl-navm"><button class="owl-prevm"><em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em></button><button class="owl-nextm"><em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em></button></div>',
      );
    }
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    updateCarousel(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarousel(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$carouselItem.on('focusin', function (e) {
      if ($(e.target).is(':hover')) {
        return;
      }

      var currentIndex = _this.$carouselItem.index(e.delegateTarget);
      _this.$carousel.trigger('to.owl.carousel', currentIndex);

      _this.$carousel.children().scrollLeft() != 0 &&
        _this.$carousel.children().scrollLeft(0);
      _this.$el.scrollLeft() != 0 && _this.$el.scrollLeft(0);
    });

    _this.$el.on('keyup', function (e) {
      e.stopPropagation();

      if (!_this.$carousel.data('owl.carousel')) {
        return;
      }

      if (e.keyCode == 37) {
        _this.$carousel.trigger('prev.owl.carousel');
      } else if (e.keyCode == 39) {
        _this.$carousel.trigger('next.owl.carousel');
      }
    });

    /* 210510 | 접근성 | 모바일 활성화 Nav */
    _this.$el.find('.owl-navm button').on('click', function (e) {
      e.stopPropagation();

      if ($(this).hasClass('owl-prevm')) {
        _this.$carousel.trigger('prev.owl.carousel');
        _this.$carousel.find('.owl-item.active').get(0).focus();
      } else if ($(this).hasClass('owl-nextm')) {
        _this.$carousel.trigger('next.owl.carousel');
        _this.$carousel.find('.owl-item.active').get(0).focus();
      }
    });
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1504) {
      return 'PC_LARGE';
    } else if (window.innerWidth > 1168) {
      return 'PC_MEDIUM';
    } else if (window.innerWidth > 1023) {
      return 'PC_SMALL';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setCarousel(_plugin) {
    if (_plugin.$carousel.data('owl.carousel')) {
      return;
    }

    _plugin.$carousel.owlCarousel({
      stageElement: 'ul',
      itemElement: 'li',
      autoWidth: true,
      loop: true,
      nav: true,
      navText: [
        '<em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em>',
        '<em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em>',
      ],
      dots: false,
      items: 5,
      singleItem: true,
      responsive: {
        0: {
          margin: 16,
        },
        500: {
          margin: 16,
        },
        1023: {
          margin: 20,
        },
      },
      onInitialized: function (e) {
        initPagn(e, _plugin);
        setCarouselAria(_plugin);

        _plugin.$carousel.addClass('act');
      },
      onRefreshed: function (e) {
        // FIREFOX
        initPagn(e, _plugin);
        setCarouselAria(_plugin);

        _plugin.$carousel.addClass('act');
      },
      onChanged: function (e) {
        updatePagn(e, _plugin);
        setInterval(function () {
          _plugin.$el.scrollLeft(0);
        }, 100);

        _plugin.$carousel.removeClass('act');
        setAriaHidden(e, _plugin); /* 210510 | 접근성 | 모바일 활성화 Nav */
      },
      onResized: function (e) {
        _plugin.$carousel.removeClass('act');
      },
    });
  }

  function updateCarousel(_plugin) {
    switch (deviceType) {
      case 'PC_LARGE':
        _plugin.$carouselItem.length < 5
          ? destroyCarousel(_plugin) // 1,2,3,4
          : setCarousel(_plugin); // 5,6,7...
        break;
      case 'PC_MEDIUM':
        _plugin.$carouselItem.length < 4
          ? destroyCarousel(_plugin) // 1,2,3
          : setCarousel(_plugin); // 4,5,6,7...
        break;
      case 'PC_SMALL':
        _plugin.$carouselItem.length < 3
          ? destroyCarousel(_plugin) // 1,2
          : setCarousel(_plugin); // 3,4,5,6,7...
        break;
      case 'TABLET':
      case 'MOBILE':
        _plugin.$carouselItem.length < 2
          ? destroyCarousel(_plugin) // 1
          : setCarousel(_plugin); // 2,3,4,5,6,7...
        break;
      // default:
      //     break;
    }
  }

  function setCarouselAria(_plugin) {
    var $clonedItem = _plugin.$carousel.find('.owl-item.cloned');

    $clonedItem.attr('aria-hidden', true);
    $clonedItem.find('a, button').attr('tabindex', -1);
  }

  function initPagn(e, _plugin) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;
    var ariaTxt = setNum(activeIndex) + ' of ' + setNum(e.item.count);

    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
    _plugin.$pagn.find('.owl-pagn-ed').text(setNum(e.item.count));
  }

  function updatePagn(e, _plugin) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;
    var ariaTxt = setNum(activeIndex) + ' of ' + setNum(e.item.count);

    if (isNaN(activeIndex)) return;

    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
  }

  function destroyCarousel(_plugin) {
    if (!_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    _plugin.$carousel.owlCarousel('destroy');
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  function setAriaHidden(e, _plugin) {
    var currentIdx = e.item.index;
    var activeItem = $(e.target).find('.owl-item').eq(currentIdx);

    $(e.target).find('.owl-item').attr('aria-hidden', true); //.attr("tabindex", -1) 220413 | 접근성
    activeItem.attr('aria-hidden', false); //.attr("tabindex", 0) 220413 | 접근성
  }
  this.init();
}
fo.addPlugin(M112_A);

/** M112_B | Mytrial Related Sites 2 */
function M112_B(el) {
  _proto = M112_B.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$carousel = this.$el.find('.owl-carousel');
  this.$carouselItem = this.$el.find('.owl-carousel .item');
  this.$pagn = this.$el.find('.owl-pagn');

  var _this = this; // M112_B
  var deviceType; // "PC_LARGE", "PC_MEDIUM", "PC_SMALL", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: M112_B")
    // Device type check
    deviceType = checkDeviceType();

    this.$el.find('.M112_B_cont').addClass('m' + this.$carouselItem.length);

    if (this.$carouselItem.length < 1) return;
    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1504) {
      return 'PC_LARGE';
    } else if (window.innerWidth > 1168) {
      return 'PC_MEDIUM';
    } else if (window.innerWidth > 1023) {
      return 'PC_SMALL';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  this.init();
}
fo.addPlugin(M112_B);

/** M114_A | Popup 구매신청 */
function M114_A(el) {
  _proto = M114_A.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$btnModify = this.$el.find('.btn_modify');
  this.$formList = this.$el.find('.form_list');
  this.$formListLi = this.$formList.find('li');
  this.$formListInputBox = this.$formListLi.find('.input_box input');
  this.$printTxt = this.$formListLi.find('.print_txt');
  this.$popLongletter = this.$formListLi.find('.pop_longletter');
  this.$txtaCont = this.$formList.find('.txta_cont'); /* 2022.09.27 */
  var _this = this; // M114_A
  var deviceType; // "PC_LARGE", "PC_MEDIUM", "PC_SMALL", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: M114_A")
    // Device type check
    deviceType = checkDeviceType();

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
      }
    }, 100);

    // 구매신청 textarea maxlenth 속성 값 출력 2022.09.27
    var $textMaxDom = $('.txt_bytes .max_bytes'),
      $maxlength = _this.$txtaCont.attr('maxlength');
    $textMaxDom.text($maxlength);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$btnModify.on('click', function () {
      $(this).siblings('.input_box').show();
      $(this).siblings('.print_txt').hide();
      $(this).hide();
    });

    // pop_longletter
    _this.$printTxt.on({
      mouseover: function () {
        var $this = $(this);
        $this.siblings('.pop_longletter').show();
      },
      mouseleave: function () {
        var $this = $(this);
        $this.siblings('.pop_longletter').hide();
      },
    });

    // input focus out
    var $inputBox = $('.form_box3 .input_box input');
    _this.$formListInputBox.on({
      focusout: function () {
        var $thisInputBox = $(this).closest('.input_box');
        $thisInputBox.hide();
        $thisInputBox.siblings('.print_txt').show();
        $thisInputBox.siblings('.btn_modify').show();
      },
    });

    /* 2022.09.27 Add */
    _this.$txtaCont.bind({
      keyup: function () {
        var dom = $(this),
          textDom = $('.txt_bytes .bytes'),
          str = dom.val(),
          _byte = 0,
          strLength = 0,
          charStr = '',
          cutStr = '',
          maxLength = dom.attr('maxlength');
        if (str.length <= 0) {
          return;
        }
        for (var i = 0; i < str.length; i++) {
          charStr = str.charAt(i);
          if (escape(charStr).length > 4) {
            _byte += 3;
          } else {
            _byte++;
          }
          if (_byte <= maxLength) {
            strLength = i + 1;
          }
        }

        textDom.text(_byte);
        if (_byte > maxLength) {
          cutStr = dom.val().substr(0, strLength);
          dom.val(cutStr);
          textDom.text(maxLength);
          return;
        } else {
          textDom.text(_byte);
        }
      },
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1504) {
      return 'PC_LARGE';
    } else if (window.innerWidth > 1168) {
      return 'PC_MEDIUM';
    } else if (window.innerWidth > 1023) {
      return 'PC_SMALL';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  this.init();
}
fo.addPlugin(M114_A);

/** M116_A | 무료체험신청 */
function M116_A(el) {
  _proto = M116_A.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;

  this.$icoTip = this.$el.find('.ico_tip');

  var _this = this; // M116_A
  var deviceType; // "PC_LARGE", "PC_MEDIUM", "PC_SMALL", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: M116_A")
    // Device type check
    deviceType = checkDeviceType();

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();

      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$icoTip.on({
      mouseover: function () {
        var $this = $(this);
        $this.siblings('.pop_longletter').show();
      },
      mouseleave: function () {
        var $this = $(this);
        $this.siblings('.pop_longletter').hide();
      },
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1504) {
      return 'PC_LARGE';
    } else if (window.innerWidth > 1168) {
      return 'PC_MEDIUM';
    } else if (window.innerWidth > 1023) {
      return 'PC_SMALL';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  this.init();
}
fo.addPlugin(M116_A);

/** M117_A | Servie list */
function M117_A(el) {
  _proto = M117_A.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;

  this.$icInfoSm = this.$el.find('.ic_info_sm');
  /* S: 2022.09.19 */
  this.$serviecListLi = this.$el.find('.service_list li');

  this.key = Math.floor(this.$el.offset().top);

  var hashUrl = window.location.hash;
  var hashId = hashUrl.split('#')[1];
  /* E: 2022.09.19 */

  var _this = this; // M117_A
  var deviceType; // "PC_LARGE", "PC_MEDIUM", "PC_SMALL", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: M117_A")
    // Device type check
    deviceType = checkDeviceType();

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    //other page url hash 2022.09.19
    setTimeout(function () {
      _this.$serviecListLi.each(function () {
        var $this = $(this),
          $key = 0,
          $gsnbHeight = $('.gsnb').outerHeight();
        if ($this.attr('id') == hashId && $this.attr('id') != undefined) {
          $key = Math.floor($this.offset().top) - $gsnbHeight - 40;
          window.scrollTo(top, $key);
          $('.M00_A').css('top', '-61px');
        }
      });
    }, 1000);

    if (deviceType !== 'PC') {
      _this.$icInfoSm.on({
        click: function () {
          var $this = $(this);
          $this.children('.info_pop').toggle();
        },
      });
    }

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1504) {
      return 'PC_LARGE';
    } else if (window.innerWidth > 1168) {
      return 'PC_MEDIUM';
    } else if (window.innerWidth > 1023) {
      return 'PC_SMALL';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  this.init();
}
fo.addPlugin(M117_A);

/** M118_A | Mytrial Module Tab Menu **/
function M118_A(el) {
  _proto = M118_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$tabsArea = this.$el.find('.tabs_area');
  this.$tabsList = this.$tabsArea.find('.tabs_list');
  this.$tabsListBtn = this.$tabsList.find('.tabs_btn');
  this.$tabsPanel = this.$el.find('.tabs_panel');
  this.key = this.$el.offset().top;

  var _this = this; // M118_A

  _proto.init = function () {
    //console.log("init:: M118_A")
    if (this.$tabsListBtn.length < 2 || this.$tabsPanel.length < 2) {
      //this.$tabList.remove();
      _this.$tabSlideArea.remove(); /* observer 오류방지 */
      return;
    }

    /* 데이터결함 : 탭 기능 버튼 첫번째 버튼 강제 selected */
    _this.$tabsListBtn.attr('aria-selected', 'false').removeClass('selected'); //202304-01 웹접근 수정
    _this.$tabsPanel
      .attr({ 'aria-selected': 'false', hidden: 'true' })
      .removeClass('selected'); //202304-01 웹접근 수정
    _this.$tabsListBtn.eq(0).attr('aria-selected', 'true').addClass('selected'); //202304-01 웹접근 수정
    _this.$tabsPanel
      .eq(0)
      .add(_this.$tabsPanel.eq(1))
      .attr('aria-selected', 'true')
      .removeAttr('hidden')
      .addClass('selected'); //202304-01 웹접근 수정

    //202304-02 display:none 되어있는 탭 스크립트 실행
    setTimeout(function () {
      _this.$tabsPanel
        .eq(1)
        .attr('aria-selected', 'false')
        .removeAttr('true')
        .removeClass('selected'); //202304-01 웹접근 수정
    }, 100);

    _this.$tabsListBtn.each(function (idx) {
      var $this = $(this);
      $this.attr({
        role: 'tab',
        id: 'tab' + idx,
        'aria-controls': 'tabpanel' + idx,
      });
    });
    _this.$tabsPanel.each(function (idx) {
      var $this = $(this);
      $this.attr({
        role: 'tabpanel',
        id: 'tabpanel' + idx,
        'aria-labelledby': 'tab' + idx,
      });
    });

    // Initial setting
    // setAriaAttr(this); //202304-01 웹접근 : cms상에는 없는 소스

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    // 탭 초점 이동(방향키), 탭 활성화(Space/Enter key) 기능
    _this.$tabsListBtn.on({
      click: function () {
        _this.activeTabs = _this.$tabsListBtn.index($(this)); // 탭메뉴 클릭해야 탭이 바뀝
        setOpenTabs(_this);
        // 선택된 탭 활성화
        $(this)
          .attr('aria-selected', 'true') //202304-01 웹접근 수정
          .addClass('selected')
          // 기존 탭 비활성화
          .siblings(_this.$tabsListBtn)
          .attr('aria-selected', 'false') //202304-01 웹접근 수정
          .removeClass('selected');
      },
    });

    $(window).on('resize', function () {});
  };

  function setOpenTabs(_plugin) {
    // Exception, if there is no activation tab
    if (_plugin.activeTabs >= _plugin.$tabsPanel.length) {
      return;
    }

    // Activate tab button
    _plugin.$tabsListBtn
      .removeClass('selected')
      .attr('aria-selected', 'false') //202304-01 웹접근 수정
      .eq(_plugin.activeTabs) //선택된 외의 처리
      .addClass('selected')
      .attr('aria-selected', 'true'); //202304-01 웹접근 수정

    // Activate tab panel
    _plugin.$tabsPanel
      .removeClass('selected')
      .attr('aria-selected', 'false') //202304-01 웹접근 수정
      .eq(_plugin.activeTabs)
      .addClass('selected')
      .attr('aria-selected', 'true') //202304-01 웹접근 수정
      .removeAttr('hidden');
  }
  this.init();
}
fo.addPlugin(M118_A);

/** M119_A | Service intro **/
function M119_A(el) {
  _proto = M119_A.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;

  this.startIndex = this.data.activeTab || 0;
  this.currentIndex = this.startIndex;

  this.$carousel = this.$el.find('.md_cont');
  this.$carouselItem = this.$el.find('.md_cont .li');

  this.$pagn = {
    wrap: this.$el.find('.md_cont_bar'),
    st: this.$el.find('.md_cont_bar_st'),
    ed: this.$el.find('.md_cont_bar_ed'),
    bar: this.$el.find('.md_cont_bar .bar p'),
  };

  this.$controlWrap = this.$el.find('.md_cont_control');

  this.$control = {
    wrap: this.$el.find('.md_play'),
    playBtn: this.$el.find('.md_btn_play'),
    stopBtn: this.$el.find('.md_btn_stop'),
  };

  this.$nav = {
    wrap: this.$el.find('.md_pagn'),
    prevBtn: this.$el.find('.md_pagn_prev'),
    nextBtn: this.$el.find('.md_pagn_next'),
  };

  this.$navm = {
    wrap: this.$el.find('.owl-navm'),
    prevBtn: this.$el.find('.owl-prevm'),
    nextBtn: this.$el.find('.owl-nextm'),
  };

  this.$isPaused = false;
  this.$isStop = false;

  this.$txtArea = this.$carousel.find('.txt');
  this.$visualArea = this.$carousel.find('.img .img_p, .img .img_m');

  var _this = this;
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    deviceType = checkDeviceType();

    this.setVisualImg();
    this.setTxtBreak();

    if (this.$carouselItem.length < 2) {
      this.$controlWrap.remove();
      this.$carouselItem.eq(0).addClass('act');
      clickEvent_youtubethumb();
      return;
    }

    setMobileNav();
    setCarousel(this);
    getCarouselHeight();

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();

      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;

        if (deviceType !== 'PC') {
          _this.$isStop = true;
          sequenceControl(_this, 'STOP', false);
        } else {
          _this.$isStop = false;
          sequenceControl(_this, 'PLAY', false);
        }
        updateAccessibility();
      }
      getCarouselHeight();
    }, 100);

    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  _proto.setTxtBreak = function () {
    var $title = this.$txtArea.find('.md_tit');

    $title.find('p, em').lettering('lines');
    $title.find('span').wrapInner('<i></i>');
  };

  _proto.addEvent = function () {
    clickEvent_youtubethumb();
    clickEvent();
    KeyboardEvent();

    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setMobileNav() {
    if (_this.$carouselItem.length >= 2) {
      const navm = `
                <div class="owl-navm">
                    <button class="owl-prevm"><em class="blind">${langSet[lang]['slide']['prevStr']}</em>
                    </button><button class="owl-nextm"><em class="blind">${langSet[lang]['slide']['nextStr']}</em></button>
                </div>
            `;
      _this.$controlWrap.after(navm);
      _this.$navm = {
        wrap: _this.$el.find('.owl-navm'),
        prevBtn: _this.$el.find('.owl-prevm'),
        nextBtn: _this.$el.find('.owl-nextm'),
      };
    }
  }

  function setCarousel() {
    _this.$nav.prevBtn.wrapInner(
      `<em class="blind">${langSet[lang]['slide']['prevStr']}</em>`,
    );
    _this.$nav.nextBtn.wrapInner(
      `<em class="blind">${langSet[lang]['slide']['nextStr']}</em>`,
    );

    _this.$carousel.carouFredSel({
      responsive: true,
      autoplay: true,
      autoplayTimeout: 5000,
      autoplayHoverPause: true,
      prev: {
        button: _this.$nav.prevBtn,
      },
      next: {
        button: _this.$nav.nextBtn,
      },
      items: {
        start: _this.currentIndex,
        visible: 1,
      },
      swipe: {
        onMouse: true,
        onTouch: true,
      },
      scroll: {
        fx: 'fade',
        duration: 0,
        items: 1,
        onAfter: function (data) {
          _this.currentIndex = _this.$carouselItem.index(data.items.visible);

          _this.$carouselItem.find('.video_box iframe').remove();
          _this.$carouselItem.find('.md_link').show();

          updatePagn();
          updateAccessibility();
        },
      },
      onCreate: function () {
        updatePagn();
        updateAccessibility();
      },
    });

    if (checkDeviceType() !== 'PC') {
      _this.$isStop = true;
      sequenceControl(_this, 'STOP', false);
    } else {
      _this.$isStop = false;
      sequenceControl(_this, 'PLAY', false);
    }
  }

  function updateAccessibility() {
    _this.$carouselItem.removeClass('act');
    _this.$carouselItem.eq(_this.currentIndex).addClass('act');

    let data = {
      carousel: _this.$carousel,
      slides: _this.$carouselItem,
      activeSlides: [_this.$carouselItem.eq(_this.currentIndex)],
    };
    slide.setSlideItemAttr(_this, data);
  }

  function updatePagn() {
    const data = {
      carousel: _this.$carousel,
      slides: _this.$carouselItem.length,
      activeIdx: _this.currentIndex,
      element: {
        st: _this.$pagn.st,
        ed: _this.$pagn.ed,
        bar: _this.$pagn.bar,
      },
    };
    slide.setPagn(_this, data);
  }

  function sequenceControl(_plugin, option, changeFocus) {
    const data = {
      carousel: _this.$carousel,
      option: option,
      changeFocus: changeFocus,
      element: {
        wrap: _this.$control.wrap,
        playBtn: _this.$control.playBtn,
        stopBtn: _this.$control.stopBtn,
      },
    };

    switch (option) {
      case 'PLAY':
        if (_this.$isStop) return;
        if (_this.$isPaused) return;

        _this.$carousel.trigger('play');
        slide.setControlAttr(_this, data);

        break;

      case 'STOP':
        _this.$carousel.trigger('pause');
        slide.setControlAttr(_this, data);

        break;

      default:
    }
  }

  function clickEvent_youtubethumb() {
    _this.$carouselItem.find('.md_link').on('click', function (e) {
      e.preventDefault();

      _this.$isStop = true;
      sequenceControl(_this, 'STOP', false);

      if ($(this).data('watch') == 'n') {
        popup2.videoNewWindowOpen($(this));
        return;
      }

      const src = $(this).attr('data-src');
      const HTML = `<iframe src='${src}?autoplay=1&wmode=opaque&enablejsapi=1' style='display:block;' frameborder='0' title='vod' allow='accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture' allowfullscreen=''></iframe>`;

      $(this).siblings('.video_box').append(HTML);
      $(this).fadeOut(100);
    });
  }

  function clickEvent() {
    _this.$nav.prevBtn.on('click', function (e) {
      _this.$isStop = true;
      sequenceControl(_this, 'STOP', false);
    });
    _this.$nav.nextBtn.on('click', function (e) {
      _this.$isStop = true;
      sequenceControl(_this, 'STOP', false);
    });

    _this.$navm.prevBtn.on('click', function () {
      _this.$carousel.trigger('prev');

      _this.$isStop = true;
      sequenceControl(_this, 'STOP', false);
    });
    _this.$navm.nextBtn.on('click', function () {
      _this.$carousel.trigger('next');

      _this.$isStop = true;
      sequenceControl(_this, 'STOP', false);
    });

    _this.$control.stopBtn.on('click', function (e) {
      _this.$el.find('.md_play').addClass('on');

      _this.$isStop = true;
      sequenceControl(_this, 'STOP', true);
    });
    _this.$control.playBtn.on('click', function (e) {
      _this.$el.find('.md_play').removeClass('on');

      _this.$isStop = false;
      sequenceControl(_this, 'PLAY', true);
    });
  }

  function KeyboardEvent() {
    let prevTrigger = false;
    let nextTrigger = false;

    _this.$carousel.on('keyup', function (e) {
      e.stopPropagation();

      if (e.keyCode == 37) {
        if (prevTrigger) return;

        prevTrigger = true;
        _this.$carousel.trigger('prev');

        _this.$isStop = true;
        sequenceControl(_this, 'STOP', false);

        _this.$carousel.find('.li.act').find('a, button')[0].focus();
        setTimeout(() => {
          prevTrigger = false;
        }, 100); // transition
      } else if (e.keyCode == 39) {
        if (nextTrigger) return;

        nextTrigger = true;
        _this.$carousel.trigger('next');

        _this.$isStop = true;
        sequenceControl(_this, 'STOP', false);

        _this.$carousel.find('.li.act').find('a, button')[0].focus();
        setTimeout(() => {
          nextTrigger = false;
        }, 100); // transition
      }
    });
  }

  function getCarouselHeight() {
    _this.$carousel.parent('.caroufredsel_wrapper').css({ height: '' });
    _this.$carousel.css({ height: '' });
    _this.$carouselItem.css({ height: '' });
    _this.$carouselItem.find('.txt').css({ height: '' });
    const maxH = _this.$carouselItem
      .map((i, a) => $(a).height())
      .sort((a, b) => b - a)[0];
    const txtH = _this.$carouselItem
      .find('.txt')
      .map((i, a) => $(a).height())
      .sort((a, b) => b - a)[0];
    _this.$carousel
      .parent('.caroufredsel_wrapper')
      .css({ height: `${maxH}px` });
    _this.$carousel.css({ height: `${maxH}px` });
    _this.$carouselItem.css({ height: `${maxH}px` });
    _this.$carouselItem.find('.txt').css({ height: `${txtH}px` });

    return maxH;
  }
  this.init();
}
fo.addPlugin(M119_A);

/** M119_B | Service intro video 2 */
function M119_B(el) {
  _proto = M119_B.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$tabTitle = this.$el.find('.title_list > .md_tit');
  this.$carousel = this.$el.find('.slider_cont');
  this.$carouselItem = this.$carousel.find('.item');
  this.$navigation = this.$el.find('.navigation');
  this.$pagn = this.$el.find('.carousel-pagn');
  this.$arrowNav = this.$el.find('.carousel-nav');
  this.$prevBtn = this.$el.find('.carousel-prev');
  this.$nextBtn = this.$el.find('.carousel-next');
  this.key = Math.floor(this.$el.offset().top);
  this.activeTab = 0;

  var _this = this; // M119_B
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var beforeChk = false;

  _proto.init = function () {
    //console.log("init:: M119_B")
    // Device type check
    deviceType = checkDeviceType();

    if (_this.$carouselItem.length < 2) {
      _this.$navigation.hide();
    }

    _this.$tabTitle.eq(0).addClass('active');

    setSlider(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$carousel.on('afterChange', function (event, slick, currentSlide) {
      beforeChk = false;
      // Activate tab button
      _this.$tabTitle.removeClass('active').eq(currentSlide).addClass('active');
    });

    _this.$carousel.on(
      'beforeChange',
      function (event, slick, currentSlide, nextSlide) {
        beforeChk = true;
        //video stop
        _this.$carouselItem.find('.video_box iframe').remove();
        _this.$carouselItem.find('.md_link').show();
      },
    );

    _this.$nextBtn.on('click', function (e) {
      _this.$carousel.slick('slickNext');
    });

    _this.$prevBtn.on('click', function (e) {
      _this.$carousel.slick('slickPrev');
    });

    //Youtube Thumbnail
    _this.$carouselItem.find('.md_link').on('click', function (e) {
      e.preventDefault();
      var $this = $(this);
      var videoSrc = $this.attr('data-src');
      var separator = videoSrc.indexOf('?') !== -1 ? '&' : '?';

      if ($this.data('watch') == 'n') {
        //접근성 통과영상 아닌경우 새창으로
        popup2.videoNewWindowOpen($this);
      } else {
        _this.$carouselItem.find('.video_box iframe').remove();
        if (beforeChk) return;
        var html = '';
        //var videoSrcSplit = videoSrc.split("?")[0];
        html +=
          "<iframe src='" +
          videoSrc +
          separator +
          "autoplay=1&wmode=opaque&enablejsapi=1' style='display:block;' frameborder='0' title='vod' allow='accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture' allowfullscreen=''></iframe>";
        $this.siblings('.video_box').append(html);
        $(this).fadeOut(50);
      }
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setSlider(_plugin) {
    _plugin.$carousel.on('init', function (e, slick, currentSlide, nextSlide) {
      initPagn(e, _plugin, slick, currentSlide);
      var currentSlideView = $(slick.$slides.get(0)); //currentSlide
      setTimeout(() => {
        currentSlideView.attr('tabindex', '');
      }, 100);
    });
    _plugin.$carousel.on(
      'afterChange',
      function (e, slick, currentSlide, direction) {
        updatePagn(e, _plugin, slick, currentSlide);
        var currentSlideView = $(slick.$slides.get(currentSlide));
        setTimeout(() => {
          currentSlideView.attr('tabindex', '');
        }, 100);
      },
    );

    _plugin.$carousel.slick({
      accessibility: true,
      centerPadding: '0',
      slidesToShow: 1,
      arrows: true,
      fade: true,
      infinite: false,
      responsive: [
        {
          breakpoint: 1023,
          settings: {
            fade: false,
            infinite: true,
            centerMode: true,
          },
        },
      ],
    });
  }

  function initPagn(e, _plugin, slick, currentSlide) {
    var activeIndex = (currentSlide ? currentSlide : 0) + 1;
    var barWidth = (100 / slick.slideCount) * activeIndex;
    var ariaTxt = setNum(activeIndex) + ' of ' + setNum(slick.slideCount);

    _plugin.$pagn.find('.carousel-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.carousel-pagn-st').text(setNum(activeIndex));
    _plugin.$pagn.find('.carousel-pagn-ed').text(setNum(slick.slideCount));
  }

  function updatePagn(e, _plugin, slick, currentSlide) {
    var activeIndex = (currentSlide ? currentSlide : 0) + 1;
    var barWidth = (100 / slick.slideCount) * activeIndex;
    var ariaTxt = setNum(activeIndex) + ' of ' + setNum(slick.slideCount);

    if (isNaN(activeIndex)) return;

    _plugin.$pagn.find('.carousel-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.carousel-pagn-st').text(setNum(activeIndex));
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }
  this.init();
}
fo.addPlugin(M119_B);

/** M119_C | Reviews */
function M119_C(el) {
  _proto = M119_C.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$carousel = this.$el.find('.owl-carousel');
  this.$carouselItem = this.$el.find('.owl-carousel .item');
  this.$pagn = this.$el.find('.owl-pagn');
  this.$control = {
    wrap: this.$el.find('.md_play'),
    playBtn: this.$el.find('.md_btn_play'),
    stopBtn: this.$el.find('.md_btn_stop'),
  };
  var _this = this; // M119_C
  var deviceType; // "PC_LARGE", "PC_MEDIUM", "PC_SMALL", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: M119_C")
    // Device type check
    deviceType = checkDeviceType();

    this.$el.find('.M119_C_cont').addClass('m' + this.$carouselItem.length);

    if (this.$carouselItem.length < 2) return;

    /* 접근성 | 모바일 활성화 Nav */
    if (this.$carouselItem.length >= 2) {
      this.$carousel.after(
        '<div class="owl-navm"><button class="owl-prevm"><em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em></button><button class="owl-nextm"><em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em></button></div>',
      );
    }
    /* //접근성 | 모바일 활성화 Nav */

    updateCarousel(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarousel(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$carouselItem.on('focusin', function (e) {
      if ($(e.target).is(':hover')) {
        return;
      }
      var currentIndex = _this.$carouselItem.index(e.delegateTarget);
      _this.$carousel.trigger('to.owl.carousel', currentIndex);

      _this.$carousel.children().scrollLeft() != 0 &&
        _this.$carousel.children().scrollLeft(0);
      _this.$el.scrollLeft() != 0 && _this.$el.scrollLeft(0);
    });

    _this.$el.on('keyup', function (e) {
      e.stopPropagation();
      if (!_this.$carousel.data('owl.carousel')) {
        return;
      }

      if (e.keyCode == 37) {
        _this.$carousel.trigger('prev.owl.carousel');
      } else if (e.keyCode == 39) {
        _this.$carousel.trigger('next.owl.carousel');
      }
    });

    /* 접근성 | 모바일 활성화 Nav */
    _this.$el.find('.owl-navm button').on('click', function (e) {
      e.stopPropagation();
      if ($(this).hasClass('owl-prevm')) {
        _this.$carousel.trigger('prev.owl.carousel');
        _this.$carousel.find('.owl-item.active').get(0).focus();
      } else if ($(this).hasClass('owl-nextm')) {
        _this.$carousel.trigger('next.owl.carousel');
        _this.$carousel.find('.owl-item.active').get(0).focus();
      }
    });
    /* //접근성 | 모바일 활성화 Nav */

    _this.$control.stopBtn.on('click', function (e) {
      _this.$carousel.trigger('stop.owl.autoplay');
      _this.$control.wrap.addClass('on');
    });
    _this.$control.playBtn.on('click', function (e) {
      _this.$carousel.trigger('play.owl.autoplay', [1000]);
      _this.$control.wrap.removeClass('on');
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1504) {
      return 'PC_LARGE';
    } else if (window.innerWidth > 1168) {
      return 'PC_MEDIUM';
    } else if (window.innerWidth > 1023) {
      return 'PC_SMALL';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setCarousel(_plugin) {
    if (_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    _plugin.$carousel.owlCarousel({
      stageElement: 'ul',
      itemElement: 'li',
      autoWidth: true,
      autoplay: true,
      autoplayTimeout: 2000,
      autoplayHoverPause: true,
      loop: true,
      center: true,
      nav: true,
      navText: [
        '<em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em>',
        '<em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em>',
      ],
      dots: false,
      items: 4,
      singleItem: true,
      responsive: {
        0: {
          margin: 16,
          autoplay: false,
        },
        500: {
          margin: 16,
          autoplay: false,
        },
        1023: {
          margin: 26,
        },
      },
      onInitialized: function (e) {
        initPagn(e, _plugin);
        setCarouselAria(_plugin);

        _plugin.$carousel.addClass('act');
      },
      onRefreshed: function (e) {
        // FIREFOX
        initPagn(e, _plugin);
        setCarouselAria(_plugin);

        _plugin.$carousel.addClass('act');
      },
      onChanged: function (e) {
        updatePagn(e, _plugin);
        setInterval(function () {
          _plugin.$el.scrollLeft(0);
        }, 100);
        _plugin.$carousel.removeClass('act');
        setAriaHidden(e, _plugin); /* 210510 | 접근성 | 모바일 활성화 Nav */
      },
      onResized: function (e) {
        _plugin.$carousel.removeClass('act');
      },
    });
  }

  function updateCarousel(_plugin) {
    switch (deviceType) {
      case 'PC_LARGE':
        _plugin.$carouselItem.length < 4
          ? destroyCarousel(_plugin) // 1,2,3,4
          : setCarousel(_plugin); // 5,6,7...
        $('.M119_C_cont.m3 .owl-pagn').hide();
        $('.M119_C_cont.m2 .owl-pagn').hide();
        $('.M119_C_cont.m3 .md_play').hide();
        $('.M119_C_cont.m2 .md_play').hide();
        break;
      case 'PC_MEDIUM':
        _plugin.$carouselItem.length < 3
          ? destroyCarousel(_plugin) // 1,2,3
          : setCarousel(_plugin); // 4,5,6,7...

        if (_plugin.$carouselItem.length > 3) {
          $('.M119_C_cont.m3 .owl-pagn').show();
          $('.M119_C_cont.m3 .md_play').show();
        }
        $('.M119_C_cont.m2 .owl-pagn').hide();
        $('.M119_C_cont.m2 .md_play').hide();
        break;
      case 'PC_SMALL':
        _plugin.$carouselItem.length < 2
          ? destroyCarousel(_plugin) // 1,2
          : setCarousel(_plugin); // 3,4,5,6,7...
        if (_plugin.$carouselItem.length > 2) {
          $('.M119_C_cont.m2 .owl-pagn').show();
          $('.M119_C_cont.m2 .md_play').show();
        }
        $('.M119_C_cont.m3 .owl-pagn').show();
        $('.M119_C_cont.m3 .md_play').show();
        break;
      case 'TABLET':
      case 'MOBILE':
        _plugin.$carouselItem.length < 2
          ? destroyCarousel(_plugin) // 1
          : setCarousel(_plugin); // 2,3,4,5,6,7...
        break;
      // default:
      //     break;
    }
  }
  function setCarouselAria(_plugin) {
    var $clonedItem = _plugin.$carousel.find('.owl-item.cloned');
    $clonedItem.attr('aria-hidden', true);
    $clonedItem.find('a, button').attr('tabindex', -1);
  }
  function initPagn(e, _plugin) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;

    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
    _plugin.$pagn.find('.owl-pagn-ed').text(setNum(e.item.count));
  }
  function updatePagn(e, _plugin) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;

    if (isNaN(activeIndex)) return;

    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
  }
  function destroyCarousel(_plugin) {
    if (!_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    _plugin.$carousel.owlCarousel('destroy');
  }
  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }
  function setAriaHidden(e, _plugin) {
    var currentIdx = e.item.index;
    var activeItem = $(e.target).find('.owl-item').eq(currentIdx);

    $(e.target).find('.owl-item').attr('aria-hidden', true); //.attr("tabindex", -1) 접근성
    activeItem.attr('aria-hidden', false); //.attr("tabindex", 0) 접근성
  }
  this.init();
}

fo.addPlugin(M119_C);
$(function () {
  //  팝업 연동
  /* popup2 */
  var popup2_click_history = '';
  popup2 = {
    //20220408 비디오새창열기
    videoNewWindowOpen: function (target) {
      var $this = $(target);

      if ($this.data('src') != undefined) {
        var src = $this.data('src');
        if (src.indexOf('youtube.com') > 0) {
          var index_embed = src.indexOf('/embed/');
          if (index_embed > 0) {
            var youtubeid = src.substring(index_embed + 7);
            window.open('https://www.youtube.com/watch?v=' + youtubeid, '');
          } else {
            window.open(src, '');
          }
        } else {
          window.open(src, '');
        }
        return;
      }
    },
    open: function (target) {
      var $this = $(target);
      var $winHeight = $(window).height();
      popup2_click_history = $this;
      if (!$this.hasClass('is_openPopup')) {
        $this.addClass('is_openPopup');
        var $targetPopupId = $this.attr('href');
        var $targetPopup = $($targetPopupId);
        var $targetHeight = $targetPopup.height();
        if ($winHeight < $targetHeight + 100) {
          $targetPopup.addClass('is_scroll');
        }
        $targetPopup.find('.swiper-slide iframe').attr('tabindex', 0);
        $targetPopup.prev('.popupDim').show();
        $targetPopup.show().addClass('is_open');
        if ($this.data('src') != undefined) {
          var src = $this.data('src');
          var title = $this.data('title');
          if (title == undefined) {
            title = 'vod';
          }
          $targetPopup.find('.youtube').attr({
            src: src,
            title: title,
          });
        }

        // 팝업 Swiper 옵션 추가
        $targetPopup.defaultOptions = {
          keyboard: true,
          pagination: {
            el: '.swiper-pagination',
            type: 'custom',
            clickable: true,
            renderFraction: function (currentClass, totalClass) {
              return (
                '<span class="' +
                currentClass +
                '"></span>' +
                ' / ' +
                '<span class="' +
                totalClass +
                '"></span>'
              );
            },
            /* JH */
            renderCustom: function (swiper, current, total) {
              function numberAppend(d) {
                return d < 10 ? '0' + d.toString() : d.toString();
              }
              return (
                '<span class="current">' +
                numberAppend(current) +
                '</span>' +
                '<span class="total">' +
                numberAppend(total) +
                '</span>'
              );
            },
            /* JH */
            renderBullet: function (index, className) {
              return (
                '<a href="#" class="swiper-pagination-bullet" title="go to slide">' +
                (index + 1) +
                'slide</a>'
              );
            },
          },
          on: {
            /* JH */
            slideChange: function () {
              var a = this.activeIndex + 1;
              var b = this.slides.length;
              var c = (100 / b) * a + '%';
              $targetPopup.find('.s_bar i').css('width', c);
              /* JH */
            },
            init: function () {
              // $targetPopup.find('.pop_pagn')/
              $targetPopup.find('.s_bar').remove();
              $targetPopup
                .find('.swiper-container')
                .append('<p class="s_bar"><i></i></p>');
              //return '<p class="s_bar"><i></i></p>';
              /* JH */
              var a = this.activeIndex + 1;
              var b = this.slides.length;
              var c = (100 / b) * a + '%';
              $targetPopup.find('.s_bar i').css('width', c);
              /* JH */

              var self = this;
              if ($targetPopup.find('.pdfDownload, .imageBox').length) {
                var $targetPopup_maxWidth = 0;
                for (
                  var i = 0;
                  i <
                  $targetPopup.find('.pdfDownload_inner, .imageBox_inner')
                    .length;
                  i++
                ) {
                  if (
                    $targetPopup.find('.pdfDownload_inner, .imageBox_inner')[i]
                      .clientWidth > $targetPopup_maxWidth
                  ) {
                    $targetPopup_maxWidth = $targetPopup.find(
                      '.pdfDownload_inner, .imageBox_inner',
                    )[i].clientWidth;
                  }
                }
                $targetPopup.css(
                  'width',
                  $targetPopup.width() -
                    $targetPopup.find('.swiper-wrapper').width() +
                    $targetPopup_maxWidth,
                );
                $(self.slides).css(
                  'width',
                  $targetPopup.find('.swiper-wrapper').width(),
                );
                self.update();
                $(window).on('resize', function (e) {
                  $targetPopup.css('width', '');
                  $(this.slides).css('width', '100%');
                  self.update();
                  var $targetPopup_maxWidth = 0;
                  for (
                    var i = 0;
                    i <
                    $targetPopup.find('.pdfDownload_inner, .imageBox_inner')
                      .length;
                    i++
                  ) {
                    if (
                      $targetPopup.find('.pdfDownload_inner, .imageBox_inner')[
                        i
                      ].clientWidth > $targetPopup_maxWidth
                    ) {
                      $targetPopup_maxWidth = $targetPopup.find(
                        '.pdfDownload_inner, .imageBox_inner',
                      )[i].clientWidth;
                    }
                  }
                  $targetPopup.css(
                    'width',
                    $targetPopup.width() -
                      $targetPopup.find('.swiper-wrapper').width() +
                      $targetPopup_maxWidth,
                  );
                  $(this.slides).css(
                    'width',
                    $targetPopup.find('.swiper-wrapper').width(),
                  );
                });
              }
            },
          },
        };
        $targetPopup.option = $.extend(true, {}, $targetPopup.defaultOptions);

        // 팝업 Swiper init
        //defaultSwiper.init($targetPopup);

        $targetPopup.find('.imageBox').each(function (index) {
          $this = $(this);
          var image_url = $this.find('.imageBox_img').attr('src');
          $this
            .find('.imageBox_zoom')
            .attr(
              'href',
              '/en/etc/view/ly_use_org.html?imgSrc=' +
                encodeURIComponent(image_url),
            );
        });

        // 팝업 포커스 아웃 막기
        var $inFocuseElement = $targetPopup.find(
          'a:not([style*="display: none"]), button:not([style*="display: none"]), input, .swiper-slide [tabindex]',
        );

        /* 210507 | 접근성 | 팝업 밑에 텍스트 초점안가게 */
        var ariahidden = $('#skip_navi, header, footer, #container');
        ariahidden.attr({
          'aria-hidden': true,
          tabindex: -1,
        });
        /* //210507 | 접근성 | 팝업 밑에 텍스트 초점안가게 */

        $targetPopup.on('keydown', function (e) {
          e.stopPropagation();

          if ($targetPopup.is($(e.target))) {
            if (e.keyCode == 9 && e.shiftKey) $inFocuseElement.last().focus();
          }

          if ($inFocuseElement.first().is($(e.target))) {
            if (e.keyCode == 9 && e.shiftKey) $inFocuseElement.last().focus();
          }

          if ($inFocuseElement.last().is($(e.target))) {
            if (e.keyCode == 9 && !e.shiftKey) $targetPopup.focus();
          }

          /* 210507 | 접근성 | 팝업 밑에 텍스트 초점안가게 */
          //esc key close
          if (e.keyCode === 27) {
            popup2.close();
          }
          /* //210507 | 접근성 | 팝업 밑에 텍스트 초점안가게 */
        });

        // 팝업 포커스 설정
        getFocusEl().attr('tabindex', '0').focus();
        // getFocusEl().on("keydown", function(e){
        //     if(e.keyCode == 9 && e.shiftKey == true){
        //         return false;
        //     }
        // });
        function getFocusEl() {
          var inFocuseElLen = $inFocuseElement.length;
          for (i = 0; i < inFocuseElLen - 1; i++) {
            var $thisFocusEl = $inFocuseElement.eq(i);
            if (
              !$thisFocusEl.is(':hidden') &&
              !$thisFocusEl.parents().hasClass('swiper-container')
            ) {
              return $thisFocusEl;
            }
          }
          var $targetPopupType = $targetPopup.find(
            '.defaultTextBox, .pdfDownload, .dualBox_leftBox, .imageBox_inner',
          );
          return $targetPopupType.length
            ? $targetPopupType.children().first()
            : $targetPopup;
        }
      }
    },
    close: function () {
      $('.is_showPopupOffer').removeClass('is_openPopup');
      var $targetId = popup2_click_history.attr('href');
      var $target = $($targetId);
      var ariahidden = $(
        '#skip_navi, header, footer, #container',
      ); /* 210507 | 접근성 | 팝업 밑에 텍스트 초점안가게 */
      $target.find('.youtube').attr({
        src: '',
        title: '',
      });
      if ($target.hasClass('is_scroll')) {
        $target.removeClass('is_scroll');
      }
      $target.prev('.popupDim').hide();
      $target.hide().removeClass('is_open');
      //defaultSwiper.close($target);
      popup2_click_history.focus();
      $target.off('keydown');
      var $inFocuseElement = $target.find('a, button, input');
      $inFocuseElement.off('keydown');
      /* 210507 | 접근성 | 팝업 밑에 텍스트 초점안가게 */
      ariahidden.removeAttr('tabindex');
      ariahidden.removeAttr('aria-hidden');
      /* //210507 | 접근성 | 팝업 밑에 텍스트 초점안가게 */
    },
    onResize: function () {
      if ($('.slidePopup').hasClass('is_open')) {
        var $targetId = popup2_click_history.attr('href');
        var $target = $($targetId);
        var $winHeight = $(window).height();
        $target.removeClass('is_scroll');
        if (!$target.hasClass('is_scroll')) {
          var $targetHeight = $target.height();
          if ($winHeight < $targetHeight + 100) {
            $target.addClass('is_scroll');
          }
        } else {
        }
      }
    },
  };

  $('.is_showPopupOffer').on('click', function (e) {
    //오퍼링에서 레이어팝업과 새창 분리할 경우 start
    if ($(this).data('src') == undefined) {
      //레이어팝업
      //popup2.open(this);
    } else {
      if ($(this).data('watch') != undefined && $(this).data('watch') == 'y') {
        //레이어팝업
        //popup2.open(this);
      } else {
        //새창열림
        //popup2.videoNewWindowOpen(this);
      }
    }
    //오퍼링에서 레이어팝업과 새창 분리할 경우 end

    //오퍼링에서 레이어팝업만 사용할 경우 start
    //            popup2.open(this);
    //오퍼링에서 레이어팝업만 사용할 경우 end

    return false;
  });

  $('.is_closePopupOffer').on('click', function (e) {
    popup2.close();
    return false;
  });

  $(window).resize(function () {
    popup2.onResize(this);
  });

  //새창으로 비디오열림 class추가
  $('.is_NewWinVideoOffer').on('click', function (e) {
    popup2.videoNewWindowOpen(this);
    return false;
  });
  /* //popup2 */
});

/** M120_B */
function M120_B(el) {
  _proto = M120_B.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$carousel = this.$el.find('.owl-carousel');
  this.$carouselItem = this.$el.find('.owl-carousel .item');
  this.$pagn = this.$el.find('.owl-pagn');
  this.$control = {
    wrap: this.$el.find('.md_play'),
    playBtn: this.$el.find('.md_btn_play'),
    stopBtn: this.$el.find('.md_btn_stop'),

    prevBtn: this.$el.find('.owl-prev'),
    nextBtn: this.$el.find('.owl-next'),
  };

  var _this = this; // M120_B
  var deviceType; // "PC_LARGE", "PC_MEDIUM", "PC_SMALL", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';
  var stopChk = false;
  var isPaused = false;

  _proto.init = function () {
    //console.log("init:: M120_B")
    // Device type check
    deviceType = checkDeviceType();

    this.$el.find('.M120_B_cont').addClass('m' + this.$carouselItem.length);

    if (this.$carouselItem.length < 2) return;
    if (this.$carouselItem.length > 1) {
      this.$el.find('.M120_B_cont').addClass('itemMax');
    }

    /* 210510 | 접근성 | 모바일 활성화 Nav */
    // if(this.$carouselItem.length >= 2){
    //     this.$carousel.after('<div class="owl-navm"><button class="owl-prevm"><em class=\"blind\">'+(langSet[lang]["slide"]["prevStr"]).toString()+'</em></button><button class="owl-nextm"><em class=\"blind\">'+(langSet[lang]["slide"]["nextStr"]).toString()+'</em></button></div>');
    // }
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    updateCarousel(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarousel(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    /* 210510 | 접근성 | 모바일 활성화 Nav */
    _this.$el.find('.owl-navm button').on('click', function (e) {
      e.stopPropagation();

      if ($(this).hasClass('owl-prevm')) {
        _this.$carousel.trigger('prev.owl.carousel');
        _this.$carousel.find('.owl-item.active').get(0).focus();
      } else if ($(this).hasClass('owl-nextm')) {
        _this.$carousel.trigger('next.owl.carousel');
        _this.$carousel.find('.owl-item.active').get(0).focus();
      }
    });
    /* //210510 | 접근성 | 모바일 활성화 Nav */

    // 슬라이드 play,stop 버튼
    _this.$control.stopBtn.on('click', function (e) {
      e.preventDefault();
      stopChk = true;
      isPaused = true;
      sequenceControl(_this, 'STOP', true);
      return false;
    });
    _this.$control.playBtn.on('click', function (e) {
      e.preventDefault();
      stopChk = false;
      isPaused = false;
      sequenceControl(_this, 'PLAY', true);
      return false;
    });

    // 슬라이드 arrow 버튼
    _this.$control.prevBtn.on('click', function (e) {
      e.preventDefault();
      arrowBtnControl(_this, 'PREV', true);
      return false;
    });
    _this.$control.nextBtn.on('click', function (e) {
      e.preventDefault();
      arrowBtnControl(_this, 'NEXT', true);
      return false;
    });

    _this.$control.prevBtn.add(_this.$control.nextBtn).on({
      mouseover: function () {
        if (isPaused) return;
        _this.$carousel.trigger('stop.owl.autoplay');
      },
      mouseout: function (e) {
        if (stopChk) return;
        _this.$carousel.trigger('play.owl.autoplay');
      },
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setCarousel(_plugin) {
    if (_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    _plugin.$carousel.owlCarousel({
      autoplay: true,
      autoplayTimeout: 3000,
      autoplaySpeed: 700, //넘어가는 속도
      autoplayHoverPause: false,
      autoWidth: true,
      loop: true,
      nav: true,
      navText: [
        '<em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em>',
        '<em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em>',
      ],
      dots: false,
      items: 3,
      singleItem: true,
      responsive: {
        0: {
          margin: 10, //mobile
          center: true,
          autoplay: false,
        },
        601: {
          margin: 16,
          center: false,
          autoplay: false,
        },
        1023: {
          margin: 26,
          center: false,
          autoplay: false,
        },
        1024: {
          margin: 26, //pc
        },
      },
      onInitialized: function (e) {
        initPagn(e, _plugin);
        setCarouselAria(_plugin);
        _plugin.$carousel.addClass('act');
      },
      onRefreshed: function (e) {
        // FIREFOX
        initPagn(e, _plugin);
        setCarouselAria(_plugin);
        _plugin.$carousel.addClass('act');
      },
      onChanged: function (e) {
        updatePagn(e, _plugin);
        setInterval(function () {
          _plugin.$el.scrollLeft(0);
        }, 100);
        _plugin.$carousel.removeClass('act');
        setAriaHidden(e, _plugin); /* 210510 | 접근성 | 모바일 활성화 Nav */
      },
      onResized: function (e) {
        _plugin.$carousel.removeClass('act');
      },
    });
  }

  function updateCarousel(_plugin) {
    switch (deviceType) {
      case 'PC':
        _plugin.$carouselItem.length < 2
          ? destroyCarousel(_plugin) // 1,2
          : setCarousel(_plugin); // 3,4,5,6,7...
        break;
      case 'TABLET':
      case 'MOBILE':
        _plugin.$carouselItem.length < 2
          ? destroyCarousel(_plugin) // 1
          : setCarousel(_plugin); // 2,3,4,5,6,7...
        break;
      // default:
      //     break;
    }
  }

  function setCarouselAria(_plugin) {
    var $clonedItem = _plugin.$carousel.find('.owl-item.cloned');
    $clonedItem.attr('aria-hidden', true);
    $clonedItem.find('a, button').attr('tabindex', -1);
  }

  function initPagn(e, _plugin) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;

    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
    _plugin.$pagn.find('.owl-pagn-ed').text(setNum(e.item.count));
  }

  function updatePagn(e, _plugin) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;

    if (isNaN(activeIndex)) return;

    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
  }

  function destroyCarousel(_plugin) {
    if (!_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    _plugin.$carousel.owlCarousel('destroy');
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  // Sequence Control: play, stop
  function sequenceControl(_plugin, option, changeFocus) {
    switch (option) {
      case 'PLAY':
        _this.$carousel.trigger('play.owl.autoplay');
        _plugin.$control.wrap.removeClass('on');
        break;
      case 'STOP':
        _this.$carousel.trigger('stop.owl.autoplay');
        _plugin.$control.wrap.addClass('on');
        break;
      // default:
      //     break;
    }
  }
  // slide left right button
  function arrowBtnControl(_plugin, option, changeFocus) {
    switch (option) {
      case 'PREV':
        _this.$carousel.trigger('prev.owl.carousel');
        // _plugin.$control.wrap.removeClass('on');
        break;
      case 'NEXT':
        _this.$carousel.trigger('next.owl.carousel');
        // _plugin.$control.wrap.addClass('on');
        break;
      // default:
      //     break;
    }
  }

  function setAriaHidden(e, _plugin) {
    var currentIdx = e.item.index;
    var activeItem = $(e.target).find('.owl-item').eq(currentIdx);

    $(e.target).find('.owl-item').attr('aria-hidden', true); //.attr("tabindex", -1) 220413 | 접근성
    activeItem.attr('aria-hidden', false); //.attr("tabindex", 0) 220413 | 접근성
  }

  this.init();
}
fo.addPlugin(M120_B);

/*** M121_A | hard coding ***/
function M121_A(el) {
  _proto = M121_A.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.mhItems;

  /** emm~ 페이지 */
  this.$hover_BoxItem = this.$el.find('.item');
  this.$hoverBox_cont = {
    wrap: this.$el.find('.txt_box'),
    cate: this.$el.find('.md_cate'),
    tit: this.$el.find('.md_tit'),
    txt: this.$el.find('.md_txt'),
  };
  this.$hoverConBox = this.$el.find('.hover_box');
  /** //emm~ 페이지 */

  this.$titleHeadWrap = this.$el.find('.tit_head');
  this.$titleHead = this.$titleHeadWrap.find('>section');
  this.$titleSubTxt = this.$titleHeadWrap.find('.titHead_subTxt');
  this.$txtWrap = this.$el.find('.txt_article');
  this.$txtWrapSection = this.$txtWrap.find('>section');
  this.$txtWrapBoldTxt = this.$txtWrapSection.find('strong');
  this.$txtWrapBullet_list = this.$txtWrapSection.find('.bullet_list');

  this.startIndex = this.data.activeTab || 0;
  this.currentIndex = this.startIndex;
  this.$tabMenu = this.$el.find('.slider-nav');
  this.$tabMenuButton = this.$tabMenu.find('a');
  this.$m16_bSlide = this.$el.find('.slider-tabContents');
  this.$m16_bItemSlide = this.$m16_bSlide.find('m16_bSlide');

  var _this = this; // M121_A
  var deviceType; // "PC", "TABLET", "MOBILE"
  var mhTarget = [
    this.$hoverBox_cont.tit,
    this.$hoverBox_cont.txt,
    this.$hoverBox_cont.cate,
    this.$titleHead,
    this.$titleSubTxt,
    this.$txtWrapBoldTxt,
    this.$txtWrapBullet_list,
  ];
  var resizeTimer;

  _proto.init = function () {
    // console.log("init:: M121_A tit")

    // Device type check
    deviceType = checkDeviceType();

    setSlick(_this); //슬라이드
    webAcc(this);

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }
    hoverContHeight(_this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateMhItem(_this);
      } else {
        hoverContHeight(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
    ChangeImg(this);
  };

  _proto.addEvent = function () {
    clickEvent();
    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else {
      return 'MOBILE';
    }
  }

  // 웹접근 tabindex : 0, aria-hidden
  function webAcc(_plugin) {
    // console.log("웹접근 데이터 속성", _plugin.$el)
    var all_item = _plugin.$el.find('.slider-tabContents .m16_bSlide');
    setTimeout(function () {
      all_item.each(function (i, e) {
        if (
          $(e).hasClass('slick-active') ||
          _plugin.$el.find('.inner').is('.no_slide')
        ) {
          $(e).attr({ tabindex: '', 'aria-hidden': 'false' });
          $(e).find('a').attr({ tabindex: '0', 'aria-hidden': 'false' });
        } else {
          $(e).attr({ tabindex: '-1', 'aria-hidden': 'true' });
          $(e).find('a').attr({ tabindex: '-1', 'aria-hidden': 'true' });
        }
      });
    }, 100);
  }

  /* slide click event */
  function clickEvent() {
    _this.$tabMenuButton.on('click', function (e) {
      // console.log("tab nav click")
      const idx = _this.$tabMenuButton.index($(this));
      _this.$m16_bSlide.slick('goTo', idx);
    });
  }

  /* activeIndex 변경 시 tab 스크롤 값 세팅 */
  function tabScroll(_plugin, slick, currentSlide) {
    if (!_plugin.$el.find('.slider-nav>div').length) return;
    const data = {
      tabSlideArea: _this.$el.find('.tab_slide_wrap'),
      tab: _this.$tabMenu,
      tabItems: _this.$tabMenuButton,
      activeIdx: _this.currentIndex,
    };
    slide.setTabScroll(_this, data);
    _plugin.$el.find('.slider-nav>div').eq(0).addClass('active');
    _this.$tabMenuButton
      .eq(currentSlide)
      .parent()
      .addClass('active')
      .siblings()
      .removeClass('active');
  }

  /* slick 슬라이드 init */
  function setSlick(_plugin) {
    _plugin.$m16_bSlide.on('init', function (event, slick, currentSlide) {
      tabScroll(_this, slick);
    });
    _plugin.$m16_bSlide.slick({
      accessibility: true,
      slidesToShow: 1,
      infinite: false,
      fade: true,
      swipeToSlide: true,
      touchThreshold: 500,
      speed: 0,
      arrows: false,
      responsive: [
        {
          breakpoint: 768,
          settings: {
            infinite: true,
            fade: false,
            slidesToShow: 1,
            centerMode: true,
            centerPadding: '0px',
            swipeToSlide: true,
            speed: 200,
            swipe: true,
            autoplay: false,
          },
        },
      ],
    });

    /* 탭 메뉴 리스트 슬라이드 이동시 클래스 변경 */
    _plugin.$m16_bSlide.on('afterChange', function (e, slick, currentSlide) {
      webAcc(_plugin);
      _this.currentIndex = currentSlide;
      tabScroll(_this, slick, currentSlide);
    });
  }

  /** 텍스트 주변 높이 */
  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$el.find(target);
    });
  }

  // Update Match Height Item
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };
    switch (deviceType) {
      case 'PC':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        break;
      // default:
      //     break;
    }
  }
  /** //텍스트 주변 높이 */

  function hoverContHeight(_plugin) {
    var hoverBoxTit_pt = parseInt(
      _plugin.$hoverBox_cont.tit.css('padding-top'),
    );
    var hoverBoxTxt_pb = parseInt(
      _plugin.$hoverBox_cont.txt.css('padding-bottom'),
    );
    var hoverBoxCont = _plugin.$hoverBox_cont.wrap.outerHeight(true);
    var hoverBoxHeight_result = hoverBoxCont - hoverBoxTit_pt - hoverBoxTxt_pb;
    switch (deviceType) {
      case 'PC':
        _plugin.$hoverConBox.css('min-height', hoverBoxCont + 20); //20241129 추가 20은 hover됐을때css에 높이값
        break;
      case 'MOBILE':
        break;
      // default:
      //     break;
    }
  }

  function ChangeImg(_plugin) {
    // 반복되는 요소를 저장하는 함수
    function getElements($context) {
      return {
        $container: $context.closest('.M121_A'),
        $img: $context.closest('.M121_A').find('.img_wrap .img_p img'),
        $text: $context.closest('.M121_A').find('.text_wrap .text_item'),
        $hoverAreas: $context.closest('.M121_A').find('.hover_area'),
      };
    }
    // 클릭 이벤트
    $('.M121_A .hover_area').on('click', function () {
      const { $img, $text, $hoverAreas } = getElements($(this));
      const index = $hoverAreas.index(this);
      $img.removeClass('active');
      $text.removeClass('active');
      $img.eq(index).addClass('active');
      $text.eq(index).addClass('active');
    });
  }
  this.init();
}

fo.addPlugin(M121_A);

/*** M123_A ***/
function M123_A(el) {
  _proto = M123_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.$detailList = this.$el.find('.li .txt');
  this.mhItems;
  var _this = this; // M123_A
  var deviceType; // "PC", "TABLET", "MOBILE"
  var mhTarget = ['.md_tit', '.md_txt'];
  var resizeTimer;

  _proto.init = function () {
    //console.log("init:: M123_A")
    // Device type check
    deviceType = checkDeviceType();

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateMhItem(_this);
      }
    }, 100);
  };

  // Update Match Height Item
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };
    switch (deviceType) {
      case 'PC':
      case 'TABLET':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        break;
      // default:
      //     break;
    }
  }

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$detailList.find(target);
    });
  }

  this.init();
}
fo.addPlugin(M123_A);

/*** M123_B ***/
function M123_B(el) {
  _proto = M123_B.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.$visualArea = this.$el.find('.img_p');
  this.$detailList = this.$el.find('.li .txt');
  this.mhItems;

  var _this = this; // M123_B
  var deviceType; // "PC", "TABLET", "MOBILE"
  var mhTarget = ['.md_tit', '.md_txt'];
  var resizeTimer;

  // Set Visual img
  _proto.setVisualImg = function () {
    this.$visualArea.imgLiquid({
      fill: true,
      horizontalAlign: 'center',
      verticalAlign: 'center',
    });
  };

  _proto.init = function () {
    //console.log("init:: M123_B")
    // Device type check
    deviceType = checkDeviceType();

    // Set visual img
    this.setVisualImg();

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateMhItem(_this);
      }
    }, 100);
  };

  // Update Match Height Item
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };
    switch (deviceType) {
      case 'PC':
      case 'TABLET':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        break;
      // default:
      //     break;
    }
  }

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$detailList.find(target);
    });
  }

  this.init();
}
fo.addPlugin(M123_B);

/*** M123_C | Trends ***/
function M123_C(el) {
  _proto = M123_C.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$slider_wrap = this.$el.find('.M123_C_cont');
  this.$slick = this.$slider_wrap.find('.slider_cont');
  this.$slickItem = this.$slick.find('.item_trend');
  this.$navigation = this.$el.find('.navigation');
  this.$navigatorHtml =
    '<div class="carousel-pagn">' +
    '<div class="carousel-pagn-inner">' +
    '<div class="carousel-pagn-st"></div>' +
    '<div class="carousel-pagn-bar"><p></p></div>' +
    '<div class="carousel-pagn-ed"></div>' +
    '</div>' +
    '</div>' +
    '<div class="md_play">' +
    '<a href="#" class="md_btn_stop"><span class="blind">슬라이드 정지</span></a>' +
    '<a href="#" class="md_btn_play"><span class="blind">슬라이드 재생</span></a>' +
    '</div>' +
    '<div class="carousel-nav">' +
    '<button type="button" class="carousel-prev"><span class="blind">이전</span></button>' +
    '<button type="button" class="carousel-next"><span class="blind">다음</span></button>' +
    '</div>';
  this.$detailList = this.$el.find('.item_trend .box_trend');
  this.mhItems;

  var _this = this; // M123_C
  var deviceType; // "PC", "TABLET", "MOBILE"
  var mhTarget = ['.tit_trend', '.txt_trend', '.cst_box'];
  var resizeTimer;

  _proto.init = function () {
    // Device type check
    deviceType = checkDeviceType();

    innerNavigatorHtml(this); //슬라이드 네비게이터 html
    updateSlick(this); // 슬라이드 함수 포함되어 있음

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateSlick(_this); // 슬라이드 함수 포함되어 있음
        updateMhItem(_this);
      }
    }, 250);

    // Set matchHeight item
    if (mhTarget.length) {
      updateMhItem(this);
    }

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$el.on('click', '.carousel-prev', function (e) {
      e.preventDefault();
      _this.$slick.slick('slickPrev');
    });
    _this.$el.on('click', '.carousel-next', function (e) {
      e.preventDefault();
      _this.$slick.slick('slickNext');
    });

    _this.$el.on('mouseover', '.carousel-prev, .carousel-next', function (e) {
      _this.$slick.slick('slickPause');
    });
    _this.$el.on('mouseleave', '.carousel-prev, .carousel-next', function (e) {
      _this.$slick.slick('slickPlay');
      if (_this.$slickItem.attr('data-slideStop') == 'true') {
        _this.$slick.slick('slickPause');
      }
    });

    _this.$el.on('click', '.md_btn_stop', function (e) {
      e.preventDefault();
      sequenceControl(_this, 'STOP', true);
      _this.$slickItem.attr('data-slideStop', true);
      return false;
    });
    _this.$el.on('click', '.md_btn_play', function (e) {
      e.preventDefault();
      sequenceControl(_this, 'PLAY', true);
      _this.$slickItem.attr('data-slideStop', '');
      return false;
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Init Match Height Item
  // getMhItems 삭제

  // Update Match Height Item
  function updateMhItem(_plugin) {
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };
    switch (deviceType) {
      case 'PC':
        $('.M123_C_cont .item_trend .box_trend')
          .find('.tit_trend')
          .matchHeight(opt.init);
        $('.M123_C_cont .item_trend .box_trend')
          .find('.txt_trend')
          .matchHeight(opt.init);

        $('.M123_C_cont .item_trend .box_trend')
          .find('.cst_box')
          .matchHeight(opt.init);
        break;
      case 'MOBILE':
        $('.M123_C_cont .item_trend .box_trend')
          .find('.tit_trend')
          .matchHeight(opt.remove);
        $('.M123_C_cont .item_trend .box_trend')
          .find('.txt_trend')
          .matchHeight(opt.remove);

        $('.M123_C_cont .item_trend .box_trend')
          .find('.cst_box')
          .matchHeight(opt.remove);
        break;
      //   default:
      //     break;
    }
  }

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else {
      return 'MOBILE';
    }
  }

  //slick slider Navigator Html mark-up
  function innerNavigatorHtml(_plugin) {
    _plugin.$navigation.html(_this.$navigatorHtml);
    if (_plugin.$slickItem.length === 1) {
      _plugin.$navigation.empty();
    }
  }

  //slick slider 반응형 조건
  function updateSlick(_plugin) {
    if (_plugin.$slickItem.length < 4) {
      unslickSlider(_plugin); //.item 4개 이하였을때 slick 비활성
      _plugin.$navigation.empty();
    } else {
      innerNavigatorHtml(_plugin); //slick navigator html 생성
      setSlider(_plugin); //slick 활성

      // 슬라이드 정지버튼 활성화 하고 resize시 정지상태 유지
      if (_plugin.$slickItem.attr('data-slideStop') == 'true') {
        _plugin.$slider_wrap.find('.md_play').addClass('on');
      }
    }
  }

  // slick slider 실행
  function setSlider(_plugin) {
    _plugin.$slick.on('init', function (e, slick, currentSlide) {
      initPagn(e, _plugin, slick, currentSlide);

      var currentSlideView = $(slick.$slides.get(currentSlide)); //currentSlide
      if (
        currentSlideView.hasClass('slick-current') &&
        currentSlideView.attr('data-slideStop') == 'true'
      ) {
        _plugin.$slick.slick('slickPause');
      }
    });
    _plugin.$slick.on(
      'afterChange',
      function (e, slick, currentSlide, direction) {
        updatePagn(e, _plugin, slick, currentSlide);

        var currentSlideView = $(slick.$slides.get(currentSlide)); //currentSlide
        if (
          currentSlideView.hasClass('slick-current') &&
          currentSlideView.attr('data-slideStop') == 'true'
        ) {
          _plugin.$slick.slick('slickPause');
        }
      },
    );

    _plugin.$slick.not('.slick-initialized').slick({
      accessibility: false,
      slidesToShow: 3,
      slidesToScroll: 1,
      arrows: false,
      infinite: true,
      autoplay: true,
      autoplaySpeed: 3000,
      responsive: [
        {
          breakpoint: 1024,
          settings: {
            autoplay: false,
            pauseOnFocus: false, //마우스 포커스 시 슬라이드 멈춤
            pauseOnHover: false, //마우스 호버 시 슬라이드 멈춤
            pauseOnDotsHover: false, //네이게이션 호버 시 슬라이드 멈춤(옵션에서 실행시에만)
            slidesToShow: 1,
            adaptiveHeight: true,
          },
        },
      ],
    });
  }

  //unslick slick slider 해제
  function unslickSlider(_plugin) {
    _plugin.$slick.filter('.slick-initialized').slick('unslick');
  }

  /** 슬라이드 prograss */
  function initPagn(e, _plugin, slick, currentSlide) {
    var activeIndex = (currentSlide ? currentSlide : 0) + 1;
    var barWidth = (100 / slick.slideCount) * activeIndex;
    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-bar p')
      .css('width', barWidth + '%');
    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-st')
      .text(setNum(activeIndex));
    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-ed')
      .text(setNum(slick.slideCount));
  }

  function updatePagn(e, _plugin, slick, currentSlide) {
    var activeIndex = (currentSlide ? currentSlide : 0) + 1;
    var barWidth = (100 / slick.slideCount) * activeIndex;
    if (isNaN(activeIndex)) return;
    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-bar p')
      .css('width', barWidth + '%');
    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-st')
      .text(setNum(activeIndex));
    _plugin.$navigation
      .find('.carousel-pagn')
      .find('.carousel-pagn-ed')
      .text(setNum(slick.slideCount));
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }
  /** //슬라이드 prograss */

  // Sequence Control: play, stop
  function sequenceControl(_plugin, option, changeFocus) {
    switch (option) {
      case 'PLAY':
        _this.$slick.slick('slickPlay');
        _plugin.$slider_wrap.find('.md_play').removeClass('on');
        break;
      case 'STOP':
        _this.$slick.slick('slickPause');
        _plugin.$slider_wrap.find('.md_play').addClass('on');
        break;
      // default:
      //     break;
    }
  }
  this.init();
}
fo.addPlugin(M123_C);

/** M125_A | Card Style 1 */
function M125_A(el) {
  _proto = M125_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$featuresList = this.$el.find('.features_list > li');
  this.$featuresList_findTxt = this.$featuresList.find('.md_tit');

  var _this = this; // M125_A
  var deviceType; // "PC_LARGE", "PC_MEDIUM", "PC_SMALL", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';
  var country = $('html').data('country');
  var amazonUrl = '/aws-service/amazon-connect.html';

  _proto.init = function () {
    //console.log("init:: M125_A")
    // Device type check
    deviceType = checkDeviceType();

    if (_this.$featuresList.length > 4) {
      _this.$el.find('.M125_A_cont').addClass('m4');
    } else {
      _this.$el.find('.M125_A_cont').addClass('m' + this.$featuresList.length);
    }

    //20231219 해당 모듈에 "아마존커넥트" 로 추가되는 버튼 작업
    if (_this.$featuresList_findTxt.filter(":contains('Amazon')")) {
      _this.$featuresList
        .filter(":contains('Amazon')")
        .wrapInner("<a href='/" + country + amazonUrl + "'></a>");
    }

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1504) {
      return 'PC_LARGE';
    } else if (window.innerWidth > 1168) {
      return 'PC_MEDIUM';
    } else if (window.innerWidth > 1023) {
      return 'PC_SMALL';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  this.init();
}
fo.addPlugin(M125_A);

/** M125_B | Card Style 1 */
function M125_B(el) {
  _proto = M125_B.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$features = this.$el.find('.features_list');
  this.$featuresItem = this.$el.find('.features_list li');
  this.$featuresIcon = this.$featuresItem.find('i');

  var _this = this; // M125_B
  var deviceType; // "PC_LARGE", "PC_MEDIUM", "PC_SMALL", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: M125_B")
    // Device type check
    deviceType = checkDeviceType();

    if (!_this.$featuresIcon.length) {
      _this.$featuresItem.addClass('no_icon');
    }

    maxHeight(_this);

    resizeTimer = new Timer(function () {
      // 실시간 리사이즈
      maxHeight(_this);
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        // deviceType 체크
        maxHeight(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  function sortNumber(a, b) {
    return a - b;
  }
  function maxHeight(_plugin) {
    switch (deviceType) {
      case 'PC':
        var arr_md_tit = [];
        var att_md_txt = [];
        var tit_height;
        var txt_height;
        _plugin.$features.each(function (i) {
          var list_tit = $(this).find('li .md_tit');
          var list_txt = $(this).find('li .md_txt');
          list_tit.each(function (idx) {
            $(this).css('height', 'auto');
            arr_md_tit.push($(this).height());
            arr_md_tit = arr_md_tit.sort(sortNumber).reverse();
            $(this).css('height', arr_md_tit[0]);
            tit_height = arr_md_tit[0];
          });

          list_txt.each(function (idx) {
            $(this).css('height', 'auto');
            att_md_txt.push($(this).height());
            att_md_txt = att_md_txt.sort(sortNumber).reverse();
            $(this).css('height', arr_md_tit[0]);
            txt_height = att_md_txt[0];
          });
          _plugin.$features.find('li .md_tit').css('height', tit_height);
          _plugin.$features.find('li .md_txt').css('height', txt_height);
        });
        break;
      case 'MOBILE':
        _plugin.$features.find('li .md_tit').css('height', 'auto');
        _plugin.$features.find('li .md_txt').css('height', 'auto');
        break;
      // default:
      //     break;
    }
  }

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else {
      return 'MOBILE';
    }
  }

  this.init();
}
fo.addPlugin(M125_B);

/** M125_E | Card Style 5 */
function M125_E(el) {
  _proto = M125_E.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$features = this.$el.find('.features_list');
  this.$featuresItem = this.$el.find('.features_list li');
  this.$featuresIcon = this.$featuresItem.find('i');

  var _this = this; // M125_E
  var deviceType; // "PC_LARGE", "PC_MEDIUM", "PC_SMALL", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: M125_E")
    // Device type check
    deviceType = checkDeviceType();

    if (!_this.$featuresIcon.length) {
      _this.$featuresItem.addClass('no_icon');
    }

    maxHeight(_this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      // 실시간 리사이즈
      maxHeight(_this);

      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        // deviceType 체크
        maxHeight(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  function sortNumber(a, b) {
    return a - b;
  }
  function maxHeight(_plugin) {
    switch (deviceType) {
      case 'PC':
        var arr_md_tit = [];
        var att_md_txt = [];
        var tit_height;
        var txt_height;
        _plugin.$features.each(function (i) {
          var list_tit = $(this).find('li .md_tit');
          var list_txt = $(this).find('li .md_txt');
          list_tit.each(function (idx) {
            $(this).css('height', 'auto');
            arr_md_tit.push($(this).height());
            arr_md_tit = arr_md_tit.sort(sortNumber).reverse();
            $(this).css('height', arr_md_tit[0]);
            tit_height = arr_md_tit[0];
          });

          list_txt.each(function (idx) {
            $(this).css('height', 'auto');
            att_md_txt.push($(this).height());
            att_md_txt = att_md_txt.sort(sortNumber).reverse();
            $(this).css('height', arr_md_tit[0]);
            txt_height = att_md_txt[0];
          });
          _plugin.$features.find('li .md_tit').css('height', tit_height);
          _plugin.$features.find('li .md_txt').css('height', txt_height);
        });
        break;
      case 'MOBILE':
        _plugin.$features.find('li .md_tit').css('height', 'auto');
        _plugin.$features.find('li .md_txt').css('height', 'auto');
        break;
      // default:
      //     break;
    }
  }

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else {
      return 'MOBILE';
    }
  }
  this.init();
}

fo.addPlugin(M125_E);

/** M126_A | Partner List */
function M126_A(el) {
  _proto = M126_A.prototype;
  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$carousel = this.$el.find('.owl-carousel');
  this.$carouselItem = this.$el.find('.owl-carousel .item');
  this.$pagn = this.$el.find('.owl-pagn');

  var _this = this; // M126_A
  var deviceType; // "PC_LARGE", "PC_MEDIUM", "PC_SMALL", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: M126_A")
    // Device type check
    deviceType = checkDeviceType();

    if (_this.$carouselItem.length > 4) {
      _this.$el.find('.M126_A_cont').addClass('m4');
    } else {
      _this.$el.find('.M126_A_cont').addClass('m' + this.$carouselItem.length);
    }

    if (deviceType != 'PC') {
      if (this.$carouselItem.length < 2) return;
    } else {
      if (this.$carouselItem.length < 5) return;
    }

    /* 접근성 | 모바일 활성화 Nav */
    if (this.$carouselItem.length >= 2) {
      this.$carousel.after(
        '<div class="owl-navm"><button class="owl-prevm"><em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em></button><button class="owl-nextm"><em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em></button></div>',
      );
    }
    /* //접근성 | 모바일 활성화 Nav */

    updateCarousel(this);

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateCarousel(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$carouselItem.on('focusin', function (e) {
      if ($(e.target).is(':hover')) {
        return;
      }
      var currentIndex = _this.$carouselItem.index(e.delegateTarget);
      _this.$carousel.trigger('to.owl.carousel', currentIndex);
      _this.$carousel.children().scrollLeft() != 0 &&
        _this.$carousel.children().scrollLeft(0);
      _this.$el.scrollLeft() != 0 && _this.$el.scrollLeft(0);
    });

    _this.$el.on('keyup', function (e) {
      e.stopPropagation();
      if (!_this.$carousel.data('owl.carousel')) {
        return;
      }

      if (e.keyCode == 37) {
        _this.$carousel.trigger('prev.owl.carousel');
      } else if (e.keyCode == 39) {
        _this.$carousel.trigger('next.owl.carousel');
      }
    });

    /* 접근성 | 모바일 활성화 Nav */
    _this.$el.find('.owl-navm button').on('click', function (e) {
      e.stopPropagation();
      if ($(this).hasClass('owl-prevm')) {
        _this.$carousel.trigger('prev.owl.carousel');
        _this.$carousel.find('.owl-item.active').get(0).focus();
      } else if ($(this).hasClass('owl-nextm')) {
        _this.$carousel.trigger('next.owl.carousel');
        _this.$carousel.find('.owl-item.active').get(0).focus();
      }
    });
    /* //접근성 | 모바일 활성화 Nav */

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function setCarousel(_plugin) {
    if (_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    _plugin.$carousel.owlCarousel({
      stageElement: 'ul',
      itemElement: 'li',
      autoWidth: true,
      loop: true,
      nav: true,
      navText: [
        '<em class="blind">' +
          langSet[lang]['slide']['prevStr'].toString() +
          '</em>',
        '<em class="blind">' +
          langSet[lang]['slide']['nextStr'].toString() +
          '</em>',
      ],
      dots: false,
      items: 5,
      singleItem: true,
      responsive: {
        0: {
          margin: 16,
        },
        500: {
          margin: 16,
        },
        1023: {
          margin: 20,
        },
      },
      onInitialized: function (e) {
        initPagn(e, _plugin);
        setCarouselAria(_plugin);

        _plugin.$carousel.addClass('act');
      },
      onRefreshed: function (e) {
        // FIREFOX
        initPagn(e, _plugin);
        setCarouselAria(_plugin);

        _plugin.$carousel.addClass('act');
      },
      onChanged: function (e) {
        updatePagn(e, _plugin);
        setInterval(function () {
          _plugin.$el.scrollLeft(0);
        }, 100);

        _plugin.$carousel.removeClass('act');
        setAriaHidden(e, _plugin); /* 210510 | 접근성 | 모바일 활성화 Nav */
      },
      onResized: function (e) {
        _plugin.$carousel.removeClass('act');
      },
    });
  }

  function updateCarousel(_plugin) {
    switch (deviceType) {
      case 'PC':
        _plugin.$carouselItem.length < 5
          ? destroyCarousel(_plugin) // 1,2,3,4
          : setCarousel(_plugin); // 5,6,7...
        break;
      case 'TABLET':
      case 'MOBILE':
        _plugin.$carouselItem.length < 2
          ? destroyCarousel(_plugin) // 1
          : setCarousel(_plugin); // 2,3,4,5,6,7...
        break;
      // default:
      //     break;
    }
  }

  function setCarouselAria(_plugin) {
    var $clonedItem = _plugin.$carousel.find('.owl-item.cloned');

    $clonedItem.attr('aria-hidden', true);
    $clonedItem.find('a, button').attr('tabindex', -1);
  }

  function initPagn(e, _plugin) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;

    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
    _plugin.$pagn.find('.owl-pagn-ed').text(setNum(e.item.count));
  }

  function updatePagn(e, _plugin) {
    var slides = e.relatedTarget;
    var activeIndex = slides.relative(slides.current()) + 1;
    var barWidth = (100 / e.item.count) * activeIndex;

    if (isNaN(activeIndex)) return;

    _plugin.$pagn.find('.owl-pagn-bar p').css('width', barWidth + '%');
    _plugin.$pagn.find('.owl-pagn-st').text(setNum(activeIndex));
  }

  function destroyCarousel(_plugin) {
    if (!_plugin.$carousel.data('owl.carousel')) {
      return;
    }
    _plugin.$carousel.owlCarousel('destroy');
  }

  function setNum(num) {
    return num < 10 ? '0' + num : num;
  }

  function setAriaHidden(e, _plugin) {
    var currentIdx = e.item.index;
    var activeItem = $(e.target).find('.owl-item').eq(currentIdx);

    $(e.target).find('.owl-item').attr('aria-hidden', true); //.attr("tabindex", -1) 220413 | 접근성
    activeItem.attr('aria-hidden', false); //.attr("tabindex", 0) 220413 | 접근성
  }

  this.init();
}
fo.addPlugin(M126_A);

/** M127_A | fixed_tab */
/** Page | MP_ZTMProduct */
function M127_A(el) {
  _proto = M127_A.prototype;

  this.$el = $(el).parent('div');
  this.data = this.$el.data();
  this.addEventFlag = false;

  this.$tab = {
    key: Math.floor(this.$el.offset().top),
    fixed: this.$el.find('.fixed_tab'),
    ul: this.$el.find('.fixed_tab .tab_inner ul'),
    li: this.$el.find('.fixed_tab .tab_inner li'),
    btn: this.$el.find('.fixed_tab .tab_inner li a'),
    panel: this.$el.find('.art'),
    beforeActive: 99,
    active: null,
    isClick: false,
    isFixed: false,
  };

  let _this = this;
  let $hd = $('.M00_A');

  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;

  _proto.init = function () {
    // console.log("init:: M127_A");

    // Device type check
    deviceType = checkDeviceType();

    setTabFixed();
    setTabAttr('init');

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$tab.btn.on('click', function () {
      _this.$tab.isClick = true;

      let idx = $(this).parents('li').index();
      let panelT = parseInt(_this.$tab.panel.eq(idx).offset().top);

      let headH = $(document).find('#header').outerHeight(true);
      let headT = Math.abs($hd.position().top);
      let brandColorH =
        $('.brandcolor').is(':hidden') || $('.brandcolor').hasClass('normal')
          ? 0
          : $('.brandcolor').outerHeight(true);
      let tabH = _this.$tab.fixed.outerHeight(true);
      let scrollTop = panelT - tabH - (headH - headT - brandColorH);

      _this.$tab.active = idx;
      _this.$tab.li.removeClass('active').eq(idx).addClass('active');
      _this.$tab.btn
        .attr({ 'aria-selected': false })
        .eq(idx)
        .attr({ 'aria-selected': true });

      $('html, body')
        .stop()
        .animate({ scrollTop: scrollTop }, 500, () => {
          let afterHeadT = Math.abs($hd.position().top);
          scrollTop = scrollTop - (headT - afterHeadT);
          $('html, body')
            .stop()
            .animate({ scrollTop: scrollTop }, 500, () => {
              _this.$tab.isClick = false;
            });
        });
    });

    $(window).on('scroll resize', () => {
      setTabFixed();
      setTabActive();
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else {
      return 'MOBILE';
    }
  }

  const setTabFixed = function () {
    let tabT = _this.$tab.fixed.offset().top;
    $(window).scrollTop() >= tabT
      ? _this.$tab.fixed.addClass('fixed')
      : _this.$tab.fixed.removeClass('fixed');
  };

  const setTabActive = function () {
    if (_this.$tab.isClick) return;

    let headT = Math.abs($hd.position().top);
    let headH = $hd.outerHeight(true) - headT;
    let tabH = _this.$tab.fixed.outerHeight(true);
    let active = null;
    _this.$tab.panel.each((idx, item) => {
      let offsetTop = parseInt($(item).offset().top) - (headH + tabH);
      if ($(window).scrollTop() >= offsetTop) active = idx;
    });

    _this.$tab.active = active;
    setTabAttr();
  };

  const setTabAttr = function (init) {
    let isFirst = init == 'init' ? true : false;
    let active = _this.$tab.active;

    let beforeActive = _this.$tab.beforeActive;
    if (active == beforeActive) return;
    _this.$tab.beforeActive = _this.$tab.active;

    _this.$tab.li.removeClass('active');
    _this.$tab.btn.attr({ 'aria-selected': false });

    if (typeof active == 'number') {
      _this.$tab.li.eq(active).addClass('active');
      _this.$tab.btn.eq(active).attr({ 'aria-selected': true });
    }

    if (!isFirst) return;

    _this.$tab.ul
      .attr('role', 'tablist')
      .find('li')
      .attr('role', 'presentation');

    _this.$tab.btn.each(function (index) {
      var key = `${_this.$tab.key}_${index}`;
      $(this).attr({
        role: `tab`,
        id: `tab_btn_${key}`,
        'aria-controls': `tab_panel_${key}`,
        'aria-selected': index == active ? true : false,
      });
    });
    _this.$tab.panel.each(function (index) {
      var key = `${_this.$tab.key}_${index}`;
      $(this).attr({
        role: `region`,
        id: `tab_panel_${key}`,
        'aria-labelledby': `tab_btn_${key}`,
      });
    });
  };

  this.init();
}
fo.addPlugin(M127_A);

/** M129_A | Grid text-box */
function M129_A(el) {
  _proto = M129_A.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.mhItems;

  this.$hoverBox_cont = {
    wrap: this.$el.find('.txt_box'),
    cate: this.$el.find('.md_cate'), // erp - scenario 박스 해당
    tit: this.$el.find('.md_tit'),
    txt: this.$el.find('.md_txt'),
  };

  let _this = this;

  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;

  var mhTarget = [
    this.$hoverBox_cont.tit,
    this.$hoverBox_cont.txt,
    this.$hoverBox_cont.cate,
  ];

  _proto.init = function () {
    // console.log("init:: M129_A");

    // Device type check
    deviceType = checkDeviceType();

    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else {
      return 'MOBILE';
    }
  }

  /** 텍스트 주변 높이 */
  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$el.find(target);
    });
  }

  // Update Match Height Item
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };

    switch (deviceType) {
      case 'PC':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        break;
      // default:
      //     break;
    }
  }
  /** //텍스트 주변 높이 */

  this.init();
}
fo.addPlugin(M129_A);
/** M129_A | Grid text-box */

/** 2024 main v1 */
/** main_2024 section1 **/
function M700_A(el) {
  _proto = M700_A.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;

  this.visualBx = this.$el;
  this.kvSwiper;
  this.$swiper = el.find('.visual-swiper'); // jQuery 객체
  this.kvSwiper_item = this.visualBx.find('.visual-list').find('> li');
  this.btn_ul = this.visualBx.find('.common-list__control-btns ul');
  this.slideDoteBtn;
  this.startIndex = this.data.activeTab || 0;
  this.currentIndex = this.startIndex;
  this.$speed = 300;

  this.$btn_wrap = el.find('.common-list__control');

  this.playBtn = this.visualBx.find('.common-list__control-btn--play');

  var _this = this; // M700_A
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;

  let isPlay = true;
  let activeIndex = 0;
  let autoTimer = this.data.timer ? this.data.timer * 1000 : 5 * 1000; // 데이터 타이머 없을 때 기본 5초 설정 추가

  _proto.init = function () {
    // console.log("init:: M700_A")

    //슬라이드 개수 체크 도트 생성

    var slideItemLength_check = this.kvSwiper_item.length;
    var lang = document.documentElement.lang || 'ko';

    // 언어별 안내 문구
    var guideText = {
      ko: '이 슬라이드와 슬라이드 버튼은 키보드 좌 우 방향키로 이전, 다음 조작이 가능하며 탭 키로 단계 조작이 가능합니다.',
      en: 'This slide and slide buttons can be controlled using keyboard left/right arrow keys, and the tab key to move to previous/next steps.',
    };

    for (var i = 0; i < slideItemLength_check; i++) {
      var itemNumber = i + 1 < 10 ? `0${i + 1}` : `${i + 1}`;
      var totalNumber =
        slideItemLength_check < 10
          ? `0${slideItemLength_check}`
          : slideItemLength_check;

      // 기본 aria-label 텍스트
      var ariaLabelText =
        lang === 'ko'
          ? `${totalNumber}개 중 ${itemNumber} 번째`
          : `button ${itemNumber} of ${totalNumber}`;

      // 첫 번째 버튼일 때 안내 문구 추가
      if (i === 0) {
        ariaLabelText += ' ' + guideText[lang];
      }

      var itemHTML =
        `<li>` +
        `<div class="common-list__number">${itemNumber}</div>` +
        `<button class="tab" role="button" aria-controls="slick-slide${itemNumber}" aria-label="${ariaLabelText}"><span></span></button>` +
        `</li>`;

      this.btn_ul.append(itemHTML);
    }

    this.slideDoteBtn = this.visualBx
      .find('.common-list__control-btns')
      .find('li')
      .find('button');

    createSwiperVisual(this);
    createVisual(this);

    // Device type check
    deviceType = checkDeviceType();

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }

    updateTabindex(this);
  };

  _proto.addEvent = function () {
    this.playBtn.on('click', function (e) {
      playBtnClick(_this);
    });

    this.slideDoteBtn.on('click', function (e) {
      let thisTarget = $(this);
      btnClickHandler(_this, thisTarget);
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });

    setupKeyboardSlideNavigation({
      swiperInstance: _this.$swiper.data('swiperInstance'),
      $swiperContainer: _this.$swiper,
      $buttonWrapper: _this.$btn_wrap,
      $buttons: _this.$btn,
      slideSpeed: _this.$speed,
      onIndexChange: (idx) => {
        _this.currentIndex = idx;
      },
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function updateTabindex(_plugin) {
    const slides = _plugin.visualBx.find('.swiper-slide');
    slides.each(function () {
      const isActive = $(this).hasClass('swiper-slide-active');
      const tabindexValue = isActive ? '0' : '-1'; // 활성화된 슬라이드는 0, 비활성화된 슬라이드는 -1

      $(this).find('.visual-item--btn a').attr('tabindex', tabindexValue); // 버튼에 tabindex 설정
    });
  }

  function createVisual(_plugin) {
    let visualImages = _plugin.$el
      .find('.visual-item--type-01')
      .find('.img-dot');
    visualImages.each(function ($index) {
      let imgBx = $(this);
      let img = imgBx.find('img');

      gsap.fromTo(
        imgBx,
        { y: 100 + Math.random() * 300, opacity: 0 },
        {
          duration: 1.25,
          y: 0,
          opacity: 1,
          ease: Back.easeOut,
          delay: 0.2 * (Math.random() * 5),
        },
      );

      gsap.to(img, {
        duration: 3 + Math.random() * 3,
        y: 40 - Math.random() * 80,
        ease: Cubic.easeInOut,
        repeat: -1,
        yoyo: true,
      });
    });

    /** 20240903 클래스 "visual-item--type-02" 스타일의 슬라이드 여부 기준으로 이벤트가 발생하기에 삭제  */
    let visualDot2 = $('.visual-item--type-02');
    visualDot2.each(function () {
      let bx = $(this);
      let visualDot2Bx = bx.find('.visual-images--dot-bx--loop-bx');
      let visualDot2BxList = bx.find('.visual-images--dot-bx--loop');

      let aniDot = bx.find('.f-img-dot--ani');
      let aniDotInit = bx.find('.f-img-dot--ani--init');

      let aniData = [
        { pX: 210, pY: 200, w: 146, h: 262 },
        { pX: 210, pY: 470, w: 455, h: 856 },
        { pX: -110, pY: 310, w: 146, h: 479 },
        { pX: -130, pY: 272, w: 300, h: 378 },
        { pX: -310, pY: 120, w: 146, h: 146 },
      ];

      aniDot.each(function (i) {
        let dot = $(this);
        let dotImg = dot.find('img');

        gsap.fromTo(
          dotImg,
          { opacity: 0, scale: 0 },
          {
            opacity: 1,
            scale: 1,
            delay: 0.5 + 0.07 * i,
            duration: 0.5,
            ease: Back.easeOut,
            onComplete: function () {
              gsap.to(dot, { y: 100, duration: 0.5, ease: Cubic.easeIn });
              gsap.to(dot, {
                y: 0,
                ease: Back.easeOut,
                delay: 0.5,
                onComplete: function () {
                  let p = aniData[i];
                  gsap.to(dotImg, {
                    borderRadius: 0,
                    duration: 0.5,
                    x: 0,
                    y: 0,
                    width: p.w,
                    height: p.h,
                    ease: Cubic.easeOut,
                    onComplete: function () {
                      dotImg.css('width', '100%');
                      dotImg.css('height', 'auto');
                    },
                  });
                },
              });
            },
          },
        );
      });

      aniDotInit.each(function (i) {
        let dot = $(this);
        let dotImg = dot.find('img');

        gsap.to(dotImg, { duration: 0.7, scale: 1, opacity: 1, delay: 2.25 });
      });

      gsap.delayedCall(2.25, () => {
        visualDot2Bx.addClass('on');
      });

      gsap.delayedCall(3, () => {
        visualDot2BxList.each(function () {
          let dotList = $(this).find('.img-dot');
          let mY = [-30, 20, 30, -10, 20, 5, -30, 20, 30, -10, 20, 5];
          let mDration = [3, 4, 5, 3, 4, 5, 3, 4, 5, 3, 4, 5];

          dotList.each(function ($sIndex) {
            let img = $(this).find('img');
            gsap.killTweensOf(img);
            gsap.to(img, {
              duration: mDration[$sIndex],
              y: mY[$sIndex],
              ease: Cubic.easeInOut,
              repeat: -1,
              yoyo: true,
            });
          });
        });
      });

      /** 20240903 클래스 "visual-item--type-02" 타잎이 사용되고 "visual-item--type-03--bg" 사용 안하면 삭제해도됨 */
      /** ... */
    });
    /** //20240903 클래스 visual-item--type-02 스타일의 슬라이드 여부 기준으로 이벤트가 발생하기에 삭제  */
    /** //20240903 클래스 "visual-item--type-02" 스타일의 슬라이드 여부 기준으로 이벤트가 발생하기에 삭제  */
    /* visual-item--type-03--bg 번만 따로 실행할땐 */
    let visualType03Bg = $('.visual-item--type-03--bg');
    gsap.fromTo(
      visualType03Bg,
      { opacity: 0, scale: 1.2 },
      { opacity: 1, scale: 1, duration: 1, ease: Cubic.easeInOut },
    );
  }

  function createSwiperVisual(_plugin) {
    let visualBx = _plugin.visualBx;
    let scrollBx = _plugin.visualBx.find('.ic-scroll'); // 색상
    let visualControlBx = _plugin.visualBx.find('.visual-control-bx'); // 색상
    let visualItems = _plugin.visualBx.find('.visual-list').find('> li');
    let arrowCont = _plugin.visualBx.find('.visual-swiper-control');
    let btnLeft = arrowCont.find('.visual-swiper-control__left'); // 버튼
    let btnRight = arrowCont.find('.visual-swiper-control__right'); // 버튼

    // 슬라이드 실행
    _plugin.kvSwiper = new Swiper('.visual-swiper', {
      effect: 'fade',
      loop: true,
      autoplay: {
        delay: autoTimer,
        disableOnInteraction: false,
      },
      navigation: {
        nextEl: btnRight.find('button'),
        prevEl: btnLeft.find('button'),
      },
    });

    _plugin.$swiper.data('swiperInstance', _plugin.kvSwiper);

    let prevIndex = -1;
    let btns = visualBx
      .find('.common-list__control-btns')
      .find('li')
      .find('button');
    _plugin.$btn = btns;

    /** 슬라이드 색상 분기 */
    /* 공통으로 잡혀있는 색상값 css 수정 필요 */
    function whiteColor(_plugin) {
      /**
       * 슬라이드 color
       * default : black
       * option : white <-- 슬라이드에 "white" class 추가
       * */
      let innitActiveSlide = _plugin.visualBx
        .find('.visual-list')
        .find('> li.swiper-slide-active');
      if (innitActiveSlide.hasClass('white')) {
        visualControlBx.find('.common-control').addClass('white');
        scrollBx.addClass('white');
        arrowCont.addClass('white');
      } else if (innitActiveSlide.hasClass('dual')) {
        visualControlBx.find('.common-control').removeClass('white');
        scrollBx.addClass('white');
        arrowCont.removeClass('white').addClass('dual');
      } else {
        visualControlBx.find('.common-control').removeClass('white');
        scrollBx.removeClass('white');
        arrowCont.removeClass('white dual');
      }
    }

    /** 슬라이드 바뀔때마다 실행 */
    function showSwiperChange($index) {
      let visualList = _plugin.visualBx.find('.visual-list').find('> li');

      visualList.each(function () {
        let index = parseInt($(this).attr('data-swiper-slide-index'));
        let slideContents_btns = $(this).find('.visual-item--btn').find('a');

        slideContents_btns.attr('tabIndex', $index === index ? 0 : -1);

        let cTarget = $(this);
        let title = cTarget.find('dl').find('dt');
        let description = cTarget.find('dl').find('.visual-description--ani');
        let btnBx = cTarget.find('.visual-btn--bx--ani');
        let bgImg = cTarget.find('.visual-item__img').find('img');
        let tags = [title, description, btnBx];

        if ($index === index) {
          let iX = -400;
          if ($index > prevIndex) {
            iX = 400;
          }

          if ($index === 0 && prevIndex === visualItems.length - 1) {
            iX = 400;
          } else if ($index === visualItems.length - 1 && prevIndex === 0) {
            iX = -400;
          }

          tags.forEach(function ($tag, $i) {
            gsap.fromTo(
              $tag,
              { x: iX, opacity: 0 },
              {
                duration: 1,
                x: 0,
                opacity: 1,
                ease: Cubic.easeOut,
                delay: 0.1 * $i,
                onComplete: function () {},
              },
            );
          });

          if (bgImg[0]) {
            gsap.killTweensOf(bgImg);
            gsap.fromTo(
              bgImg,
              { scale: 1.2 },
              { duration: 1.25, scale: 1, ease: Cubic.easeOut },
            );
          }
        } else {
          let iX = -400;
          if ($index < prevIndex) {
            iX = 400;
          }

          if ($index === 0 && prevIndex === visualItems.length - 1) {
            iX = -400;
          } else if ($index === visualItems.length - 1 && prevIndex === 0) {
            iX = 400;
          }

          tags.forEach(function ($tag, $i) {
            gsap.fromTo(
              $tag,
              { x: 0, opacity: 1 },
              {
                duration: 1,
                x: iX,
                opacity: 0,
                ease: Cubic.easeOut,
                delay: 0.1 * $i,
              },
            );
          });

          if (bgImg[0]) {
            gsap.killTweensOf(bgImg);
            gsap.fromTo(
              bgImg,
              { scale: 1 },
              { duration: 1.25, scale: 1.2, ease: Cubic.easeOut },
            );
          }
        }
      });

      //슬라이드 dote
      _plugin.slideDoteBtn.each(function (index) {
        let btnBg = $(this).find('span');
        let btnNum = $(this).parents('li').find('.common-list__number');

        gsap.killTweensOf(btnBg);
        gsap.set(btnBg, { scaleX: 0 });

        if ($index === index) {
          gsap.set(btnBg, { scaleX: 1 });
          btnNum.css('opacity', 1);
          $(this).attr('aria-pressed', 'true');
          if (isPlay) {
            gsap.to(btnBg, {
              duration: autoTimer / 1000,
              scaleX: 0,
              ease: Power0.easeInOut,
            });
          }
        } else {
          btnNum.css('opacity', 0);
          $(this).attr('aria-pressed', 'false');
        }
      });

      whiteColor(_this); //색상 분기

      prevIndex = $index;
    }

    showSwiperChange(activeIndex);

    function slideChange() {
      activeIndex = _plugin.kvSwiper.realIndex;
      showSwiperChange(activeIndex);
      updateTabindex(_this);
    }
    _plugin.kvSwiper.on('transitionEnd', slideChange);
  }

  //플레이 스탑버튼
  function playBtnClick(_plugin) {
    isPlay = !isPlay;
    let btnBg = $(_plugin.slideDoteBtn[activeIndex]).find('span');
    gsap.killTweensOf(btnBg);
    gsap.set(btnBg, { scaleX: 1 });

    if (isPlay) {
      _plugin.playBtn.removeClass('on');
      _plugin.playBtn.attr('aria-label', 'Pause slide');
      _plugin.playBtn.children().eq(0).attr('aria-hidden', true);
      _plugin.playBtn.children().eq(1).attr('aria-hidden', false);
      gsap.to(btnBg, {
        duration: autoTimer / 1000,
        scaleX: 0,
        ease: Power0.easeInOut,
      });
      _plugin.kvSwiper.autoplay.start();
    } else {
      _plugin.playBtn.addClass('on');
      _plugin.playBtn.attr('aria-label', 'Autoplay slides');
      _plugin.playBtn.children().eq(0).attr('aria-hidden', false);
      _plugin.playBtn.children().eq(1).attr('aria-hidden', true);
      _plugin.kvSwiper.autoplay.stop();
    }
  }

  function btnClickHandler(_plugin, thisTarget) {
    let idx = thisTarget.parents('li').index();
    _plugin.kvSwiper.slideTo(idx + 1);
  }
  this.init();
}
fo.addPlugin(M700_A);

/** main_2024 section2 스크롤 **/
function M700_B(el) {
  _proto = M700_B.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;

  var _this = this; // M700_B
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;

  _proto.init = function () {
    // console.log("init:: M700_B")

    createSideNav(this);
    createSection(this);

    // Device type check
    deviceType = checkDeviceType();

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  /** section2 메인 스크롤 애니메이션 v1 */
  function createSideNav(_plugin) {
    let wrap = _plugin.$el;
    let sectionBx = _plugin.$el;
    let sideNav = wrap.find('.side-nav');
    let sideNavMenus = sideNav.find('li');
    let parentT = wrap[0].offsetTop;
    let sectionItems = wrap.find('.section-item');
    let w = $(window);
    let indexIn = 0;

    function sideNavMenusClick() {
      const idx = $(this).index();
      const item = $(sectionItems[idx]);

      let wY = {
        value: w.scrollTop(),
      };

      let tY =
        sectionBx[0].offsetTop +
        item[0].offsetTop +
        (item.height() - w.height());

      gsap.to(wY, {
        duration: 0.35,
        value: tY,
        ease: Cubic.easeInOut,
        onUpdate: () => {
          w.scrollTop(wY.value);
        },
      });

      prevIn = idx;
    }

    function scrollListener($e) {
      let sT = w.scrollTop();
      let wH = w.height();

      sectionItems.each(function (i) {
        let ss = $(this);
        if (sT + wH - wH / 2 > parentT + ss[0].offsetTop) indexIn = i;
      });

      sideNavMenus.removeClass('on');
      $(sideNavMenus[indexIn]).addClass('on');
    }

    w.on('scroll', scrollListener);
    scrollListener(null);

    sideNavMenus.on('click', sideNavMenusClick);
  }

  function createSection(_plugin) {
    let arrTl = [];
    let isShow = false;
    let sectionBx = _plugin.$el;
    let sectionItems = sectionBx.find('.section-item');

    sectionItems.each(function () {
      let item = $(this);
      let btns = item.find('.seciton-item-btn--bx').find('a');
      btns.on('focusin', function () {
        let w = $(window);
        let tY =
          sectionBx[0].offsetTop +
          item[0].offsetTop +
          (item.height() - w.height());
        gsap.set($('html, body'), { scrollTop: tY });
      });
    });

    function show() {
      sectionItems.each(function (idx) {
        let item = $(this);

        let bgTl = gsap.timeline({
          scrollTrigger: {
            trigger: item,
            start: 'top bottom',
            end: 'bottom top',
            scrub: 1,
          },
        });

        let infoTl = gsap.timeline({
          scrollTrigger: {
            trigger: item,
            start: 'top top',
            end: 'bottom bottom',
            scrub: 1,
          },
          ease: Linear.easeNone,
        });

        let info = $(sectionItems[idx]).find('.section-item__info');
        let description = $(sectionItems[idx]).find(
          '.section-item--description',
        );
        let subDescription = $(sectionItems[idx]).find(
          '.section-item--sub-description',
        );
        let btn = $(sectionItems[idx]).find('.seciton-item-btn--bx');

        infoTl.fromTo(info, { y: 100, opacity: 0 }, { y: 0, opacity: 1 });
        infoTl.fromTo(
          description,
          { y: 100, opacity: 0 },
          { y: 0, opacity: 1 },
          '<',
        );
        infoTl.fromTo(
          subDescription,
          { y: 500, opacity: 0 },
          { y: 0, opacity: 1 },
          '<',
        );
        infoTl.fromTo(btn, { opacity: 0 }, { opacity: 1 });

        arrTl.push(bgTl);
        arrTl.push(infoTl);
      });
    }

    function showMobile() {
      sectionItems.each(function () {
        let item = $(this);
        let title = item.find('h2');
        let info = item.find('.section-item__info');
        let description = item.find('.section-item--description');
        let subDescription = item.find('.section-item--sub-description');
        let btn = item.find('.seciton-item-btn--bx');
        let inList = [title, info, description, subDescription, btn];

        inList.forEach((v) => {
          gsap.set(v, { opacity: 0 });
        });

        let isInitOpen = false;
        let mTl = gsap.timeline({
          scrollTrigger: {
            trigger: item,
            start: 'top center',
            end: 'top center',
            // once: true,
            scrub: true,
            onEnter: function () {
              if (isInitOpen) return;
              inList.forEach(function (v, index) {
                gsap.fromTo(
                  v,
                  { opacity: 0, y: 100 },
                  {
                    duration: 0.5,
                    opacity: 1,
                    y: 0,
                    ease: Cubic.easeOut,
                    delay: 0.05 * index,
                  },
                );
              });

              isInitOpen = true;
            },
          },
        });

        arrTl.push(mTl);
      });
    }

    let isShowSheet = false;

    // 2024-08-27 수정
    const App = {
      mainSectionScrollHeight: '250dvh',

      mainSectionFrameData: [
        {
          isFrame: true,
          initCount: 0,
        },
        {
          isFrame: true,
          initCount: 0,
        },
        {
          isFrame: true,
          initCount: 0,
        },
        {
          isFrame: true,
          initCount: 0,
        },
      ],
    };

    function showSheet() {
      if (isShowSheet) return;

      const urlList = [
        'https://image.samsungsds.com/module_src/images/new/ai/ai_',
        'https://image.samsungsds.com/module_src/images/new/scp/scp_',
        'https://image.samsungsds.com/module_src/images/new/brity/brity_',
        'https://image.samsungsds.com/module_src/images/new/cello/cello_',
      ];

      let frameHeight = App.mainSectionScrollHeight;
      let frameData = App.mainSectionFrameData;

      sectionItems.each(function (idx) {
        const fData = frameData[idx];
        const url = urlList[idx];

        const item = $(this);
        item.css('height', frameHeight);

        const canvas = item.find('canvas')[0];
        const context = canvas.getContext('2d');
        const frameCount = fData.isFrame ? 120 : 0;

        function currentFrame(index) {
          return `${url}${index}.jpg`;
        }

        const img = new Image();
        img.src = currentFrame(fData.initCount);

        canvas.width = 1920;
        canvas.height = $(window).height();

        function draw(img) {
          let cW = canvas.width;
          let cH = canvas.height;

          let iW = img.width;
          let iH = img.height;

          let hScale = cH / iH;
          if (hScale < 1) hScale = 1;

          let iX = (cW - iW * hScale) / 2;
          let iY = (cH - iH * hScale) / 2;

          if (iX >= 0) iX = 0;

          context.drawImage(
            img,
            0,
            0,
            1920,
            1080,
            iX,
            iY,
            1920 * hScale,
            img.height * hScale,
          );
        }

        let loadList = [];
        img.onload = function () {
          loadList[0] = img;
          draw(loadList[0]);

          canvasResize();
        };

        const updateImage = (index) => {
          draw(loadList[index]);
        };

        function preloadImages() {
          let i = 1;
          for (i; i <= frameCount; i++) {
            let loadCount = i;
            const img = new Image();
            img.src = currentFrame(i);
            img.onload = function () {
              loadList[loadCount] = img;

              if (loadCount === frameCount) {
                const tl = gsap.timeline({
                  scrollTrigger: {
                    trigger: item,
                    start: 'top top',
                    end: 'bottom bottom',
                    scrub: 0.5,
                  },
                  ease: Power0.easeInOut,
                });

                let sheetSrc = {
                  frame: 0,
                };

                tl.fromTo(
                  sheetSrc,
                  { frame: 0 },
                  {
                    frame: frameCount,
                    onUpdate: function () {
                      let frame = parseInt(sheetSrc.frame);
                      requestAnimationFrame(() => updateImage(frame));
                    },
                  },
                );

                window.addEventListener('resize', canvasResize);
              }
            };
          }
        }

        function canvasResize($e) {
          canvas.width = 1920;
          canvas.height = $(window).height();

          draw(img);
        }

        preloadImages();
      });

      isShowSheet = true;
    }

    function resizeListener() {
      let w = $(window).width();

      if (w < 1024) {
        if (!isShow) return;

        kill(false);
        showMobile();

        isShow = false;
      } else {
        if (isShow) return;

        kill(true);

        show();
        showSheet();
        isShow = true;
      }
    }

    function kill(isPc) {
      sectionItems.each(function () {
        let item = $(this);
        let title = item.find('h2');
        let info = item.find('.section-item__info');
        let description = item.find('.section-item--description');
        let subDescription = item.find('.section-item--sub-description');
        let btn = item.find('.seciton-item-btn--bx');
        let frameHeight = App.mainSectionScrollHeight;

        if (isPc) {
          gsap.set(title, { y: 0, opacity: 1 });
          gsap.set(info, { y: 0, opacity: 1 });
          gsap.set(description, { y: 0, opacity: 1 });
          gsap.set(subDescription, { y: 0, opacity: 1 });
          gsap.set(btn, { y: 0, opacity: 1 });
          item.css('height', frameHeight);
        } else {
          gsap.set(title, { y: 0, opacity: 0 });
          gsap.set(info, { y: 0, opacity: 0 });
          gsap.set(description, { y: 0, opacity: 0 });
          gsap.set(subDescription, { y: 0, opacity: 0 });
          gsap.set(btn, { y: 0, opacity: 0 });
          item.css('height', 'auto');
        }
      });

      arrTl.forEach((v) => {
        v.kill();
      });

      arrTl.length = 0;
    }

    window.addEventListener('resize', resizeListener);
    resizeListener();

    if (isShow) {
      show();
    }

    if (!isShow) showMobile();
  }
  /** //section2 메인 스크롤 애니메이션 v1 */

  /** section2 메인 스크롤 애니메이션 v2 */
  /** 삭제 */

  /** 삭제 */
  /** //section2 메인 스크롤 애니메이션 v2 */

  this.init();
}
fo.addPlugin(M700_B);

/** main_2024 section3 슬라이드 **/
function M700_C(el) {
  _proto = M700_C.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$swiper = el.find('.video-swiper'); // jQuery 객체
  this.video_item = el.find('.video-bx__list').find('> article');
  this.btn_ul = el.find('.common-list__control-btns ul');
  this.startIndex = this.data.activeTab || 0;
  this.currentIndex = this.startIndex;
  this.$speed = 0;

  this.$btn_wrap = el.find('.common-list__control');

  var _this = this; // M700_C
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;

  _proto.init = function () {
    // console.log("init:: M700_C")

    var slideItemLength_check = this.video_item.length;
    var lang = document.documentElement.lang || 'ko';

    // 언어별 안내 문구
    var guideText = {
      ko: '이 슬라이드와 슬라이드 버튼은 키보드 좌 우 방향키로 이전, 다음 조작이 가능하며 탭 키로 단계 조작이 가능합니다.',
      en: 'This slide and slide buttons can be controlled using keyboard left/right arrow keys, and the tab key to move to previous/next steps.',
    };

    for (var i = 0; i < slideItemLength_check; i++) {
      var itemNumber = i + 1 < 10 ? `0${i + 1}` : `${i + 1}`;
      var totalNumber =
        slideItemLength_check < 10
          ? `0${slideItemLength_check}`
          : slideItemLength_check;

      // 기본 aria-label 텍스트
      var ariaLabelText =
        lang === 'ko'
          ? `${totalNumber}개 중 ${itemNumber} 번째`
          : `button ${itemNumber} of ${totalNumber}`;

      // 첫 번째 버튼일 때 안내 문구 추가
      if (i === 0) {
        ariaLabelText += ' ' + guideText[lang];
      }

      var itemHTML =
        `<li>` +
        `<div class="common-list__number">${itemNumber}</div>` +
        `<button class="tab" role="button" aria-controls="slick-slide${itemNumber}" aria-label="${ariaLabelText}"><span></span></button>` +
        `</li>`;

      this.btn_ul.append(itemHTML);
    }

    createSwiperVideo(this);
    createVideo(this);

    // Device type check
    deviceType = checkDeviceType();

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });

    setupKeyboardSlideNavigation({
      swiperInstance: _this.$swiper.data('swiperInstance'),
      $swiperContainer: _this.$swiper,
      $buttonWrapper: _this.$btn_wrap,
      $buttons: _this.$btn,
      slideSpeed: _this.$speed,
      onIndexChange: (idx) => {
        _this.currentIndex = idx;
      },
    });
  };

  // Device type check
  function checkDeviceType() {
    mainSlideDot_countCheck(_this, _this.btn_ul);
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  /** section4 비디오 슬라이드 */
  function createSwiperVideo(_plugin) {
    let videoBx = _plugin.$el;
    let btnLeft = videoBx.find('.common-list__control-btn--left');
    let btnRight = videoBx.find('.common-list__control-btn--right');

    let swiper = new Swiper('.video-swiper', {
      slidesPerView: 'auto',
      spaceBetween: 20,
      loop: true,

      breakpoints: {
        1024: {
          slidesPerView: 'auto',
          slidesOffsetBefore: 20,
          slidesOffsetAfter: 20,
          spaceBetween: 10,
        },
      },

      navigation: {
        nextEl: btnRight,
        prevEl: btnLeft,
      },
    });

    _plugin.$swiper.data('swiperInstance', swiper);

    let videoItems = videoBx.find('.video-bx__item');
    let videoPlayBtn = videoItems.find('.video-bx__play--btn').find('button');
    let btns = videoBx
      .find('.common-list__control-btns')
      .find('li')
      .find('button');
    _plugin.$btn = btns;
    let activeIndex = 0;
    // let videoLinks = [
    //     "https://www.youtube.com/embed/wyDWWlxeuyc?autoplay=1",
    //     "https://www.youtube.com/embed/j_EciRV3V1k?autoplay=1",
    //     "https://www.youtube.com/embed/UNWduQ3VH4M?autoplay=1",
    //     "https://www.youtube.com/embed/Q_brw7pfGyY?autoplay=1",
    // ]

    let popup = videoBx.find('.popup');
    let popupClose = popup.find('.popup-close');
    let popupDimmed = popup.find('.popup-dimmed');
    let popupVideo = popup.find('.popup-content').find('iframe');
    let popupName = popup.find('.popup-content').find('.popup-video__name');

    function btnsClick() {
      let videoDescription = $(this)
        .parents('.video-bx__item')
        .find('.video-bx__description')
        .text();
      let videoUrl = $(this).parents('.video-bx__item').data().url;

      //20251209 clone & replace
      var cloneIframe = popup.find('.popup-content').find('iframe').clone();

      cloneIframe.attr('src', videoUrl);
      popup.addClass('on');
      popupClose.focus();

      popup.find('.popup-content').find('iframe').replaceWith(cloneIframe);
      popupName.text(videoDescription);
    }

    function popupCloseClick() {
      //20251209 clone & replace
      var cloneIframe = popup.find('.popup-content').find('iframe').clone();
      cloneIframe.attr('src', '');
      popup.removeClass('on');
      popup.find('.popup-content').find('iframe').replaceWith(cloneIframe);
    }

    videoPlayBtn.on('click', btnsClick);
    popupClose.on('click', popupCloseClick);
    popupDimmed.on('click', popupCloseClick);

    function btnClickHandler($e) {
      let idx = $(this).parents('li').index() + videoItems.length / 3;
      swiper.slideTo(idx);
    }

    function slideChange() {
      activeIndex = swiper.realIndex;
      showSwiperChange(activeIndex);
    }

    function showSwiperChange($index) {
      btns.each(function (index) {
        let btnBg = $(this).find('span');
        let btnNum = $(this).parents('li').find('.common-list__number');

        gsap.killTweensOf(btnBg);
        gsap.set(btnBg, { scaleX: 0 });

        if ($index === index) {
          gsap.set(btnBg, { scaleX: 1 });
          btnNum.css('opacity', 1);
          $(this).attr('aria-pressed', 'true');
        } else {
          btnNum.css('opacity', 0);
          $(this).attr('aria-pressed', 'false');
        }
      });
    }

    function slideChangeEnd() {
      videoItems.each(function () {
        let item = $(this);
        let btn = item.find('button')[0];
        btn.tabIndex = item.hasClass('swiper-slide-active') ? 0 : -1;
      });
    }

    btns.on('click', btnClickHandler);
    swiper.on('slideChange', slideChange);
    swiper.on('slideChangeTransitionEnd', slideChangeEnd);

    slideChangeEnd();
    showSwiperChange(activeIndex);
  }

  function createVideo(_plugin) {
    let videoBx = _plugin.$el;
    let items = videoBx.find('.video-bx__list').find('.video-bx__item');
    let videoControl = videoBx
      .find('.video-control-bx')
      .find('.common-control');

    let titleBx = videoBx.find('.common-title-bx');
    let btn = titleBx.find('.common-btn--bx');

    gsap.timeline({
      scrollTrigger: {
        trigger: videoBx,
        start: 'top center',
        end: 'top center',
        scrub: true,
        once: true,
        onEnter: () => {
          items.each(function ($index) {
            let item = $(this);
            gsap.fromTo(
              item,
              { x: '20vw', opacity: 0 },
              {
                duration: 1,
                x: 0,
                ease: Cubic.easeOut,
                opacity: 1,
                delay: 0.1 * $index,
              },
            );
          });

          gsap.fromTo(
            videoControl,
            { opacity: 0, y: 50 },
            {
              duration: 0.75,
              y: 0,
              ease: Cubic.easeOut,
              opacity: 1,
              delay: 0.8,
            },
          );

          titleBx.find('.common-title__item').each(function (index) {
            let item = $(this);
            let text = item.find('.common-title__text');

            gsap.set(text, { opacity: 1, y: '100%' });
            gsap.to(text, { duration: 0.5, y: 0, ease: Cubic.easeOut });
          });

          gsap.fromTo(
            btn,
            { opacity: 0, y: 30 },
            {
              duration: 0.5,
              delay: 0.35,
              opacity: 1,
              y: 0,
              ease: Cubic.easeOut,
            },
          );
        },
      },
    });
  }
  /** //section4 비디오 슬라이드 */
  this.init();
}
fo.addPlugin(M700_C);

/** main_2024 section4 호버 컨텐츠 **/
function M700_D(el) {
  _proto = M700_D.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$swiper = el.find('.ai-swiper'); // jQuery 객체
  this.ai_item = el.find('.ai-swiper > ul').find('> .ai-list__item--m--on');
  this.btn_ul = el.find('.common-list__control-btns ul');
  this.startIndex = this.data.activeTab || 0;
  this.currentIndex = this.startIndex;
  this.$speed = 0;

  this.$btn_wrap = el.find('.common-list__control');

  var _this = this; // M700_D
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;

  _proto.init = function () {
    // console.log("init:: M700_D")
    var slideItemLength_check = this.ai_item.length;
    var lang = document.documentElement.lang || 'ko';

    // 언어별 안내 문구
    var guideText = {
      ko: '이 슬라이드와 슬라이드 버튼은 키보드 좌 우 방향키로 이전, 다음 조작이 가능하며 탭 키로 단계 조작이 가능합니다.',
      en: 'This slide and slide buttons can be controlled using keyboard left/right arrow keys, and the tab key to move to previous/next steps.',
    };

    for (var i = 0; i < slideItemLength_check; i++) {
      var itemNumber = i + 1 < 10 ? `0${i + 1}` : `${i + 1}`;
      var totalNumber =
        slideItemLength_check < 10
          ? `0${slideItemLength_check}`
          : slideItemLength_check;

      // 기본 aria-label 텍스트
      var ariaLabelText =
        lang === 'ko'
          ? `${totalNumber}개 중 ${itemNumber} 번째`
          : `button ${itemNumber} of ${totalNumber}`;

      // 첫 번째 버튼일 때 안내 문구 추가
      if (i === 0) {
        ariaLabelText += ' ' + guideText[lang];
      }

      var itemHTML =
        `<li>` +
        `<div class="common-list__number">${itemNumber}</div>` +
        `<button class="tab" role="button" aria-controls="slick-slide${itemNumber}" aria-label="${ariaLabelText}"><span></span></button>` +
        `</li>`;

      this.btn_ul.append(itemHTML);
    }

    createSwiperAiList(this);
    createAi(this);

    // Device type check
    deviceType = checkDeviceType();

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  function setupKeyboardNavigation() {
    setupKeyboardSlideNavigation({
      swiperInstance: _this.$swiper.data('swiperInstance'),
      $swiperContainer: _this.$swiper,
      $buttonWrapper: _this.$btn_wrap,
      $buttons: _this.$btn,
      slideSpeed: _this.$speed,
      onIndexChange: (idx) => {
        _this.currentIndex = idx;
      },
    });
  }

  // Device type check
  function checkDeviceType() {
    mainSlideDot_countCheck(_this, _this.btn_ul);
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  /** section5 카드 컨텐츠 */
  function createSwiperAiList(_plugin) {
    let swiper = undefined;
    let isSwiper = false;

    function resizeListener() {
      const w = $(window).width();
      if (w <= 1023 && swiper === undefined) {
        if (isSwiper) return;

        let aiBx = _plugin.$el;
        let btnLeft = aiBx.find('.common-list__control-btn--left');
        let btnRight = aiBx.find('.common-list__control-btn--right');

        swiper = new Swiper('.ai-swiper', {
          slidesPerView: 'auto',
          spaceBetween: 20,
          loop: true,

          breakpoints: {
            1024: {
              slidesPerView: 'auto',
              slidesOffsetBefore: 20,
              slidesOffsetAfter: 20,
              spaceBetween: 10,
            },
          },

          navigation: {
            nextEl: btnRight,
            prevEl: btnLeft,
          },
        });

        _plugin.$swiper.data('swiperInstance', swiper);

        let aiItems = aiBx.find('.ai-list').find('li.ai-list__item--m--on');
        let btns = aiBx
          .find('.common-list__control-btns')
          .find('li')
          .find('button');
        let activeIndex = 0;
        _plugin.$btn = btns;

        function btnClickHandler($e) {
          let idx = $(this).parents('li').index() + aiItems.length / 3;
          swiper.slideTo(idx);
        }

        function slideChange() {
          activeIndex = swiper.realIndex;
          showSwiperChange(activeIndex);
        }

        function showSwiperChange($index) {
          btns.each(function (index) {
            let btnBg = $(this).find('span');
            let btnNum = $(this).parents('li').find('.common-list__number');

            gsap.killTweensOf(btnBg);
            gsap.set(btnBg, { scaleX: 0 });

            if ($index === index) {
              gsap.set(btnBg, { scaleX: 1 });
              btnNum.css('opacity', 1);
              $(this).attr('aria-pressed', 'true');
            } else {
              btnNum.css('opacity', 0);
              $(this).attr('aria-pressed', 'false');
            }
          });
        }

        function slideChangeEnd() {
          aiItems.each(function () {
            let item = $(this);
            let btn = item.find('a')[0];
            btn.tabIndex = item.hasClass('swiper-slide-active') ? 0 : -1;
          });
        }

        btns.on('click', btnClickHandler);
        swiper.on('slideChange', slideChange);
        swiper.on('slideChangeTransitionEnd', slideChangeEnd);

        slideChangeEnd();
        showSwiperChange(activeIndex);
        setupKeyboardNavigation();

        isSwiper = true;
      } else if (w > 1024 && swiper != undefined) {
        if (!swiper) return;
        swiper.destroy(true, true);
        swiper = undefined;

        isSwiper = false;

        $('.ai-list')
          .find('.ai-list__item')
          .each(function () {
            $(this).css('opacity', 1);
            $(this).find('a')[0].tabIndex = 0;
          });
      }
    }

    window.addEventListener('resize', resizeListener);
    resizeListener();
  }

  function createAi(_plugin) {
    let aiBx = _plugin.$el;
    let items = aiBx.find('.ai-list__item');
    let aiControl = aiBx.find('.ai-control-bx').find('.common-control');

    let titleBx = aiBx.find('.common-title-bx');
    let btn = titleBx.find('.common-btn--bx');

    let w = $(window);

    gsap.timeline({
      scrollTrigger: {
        trigger: aiBx,
        start: 'top center',
        end: 'top center',
        scrub: true,
        once: true,
        onEnter: () => {
          items.each(function ($index) {
            let item = $(this)[0];

            gsap.fromTo(
              item,
              { scale: 0.8, opacity: 0 },
              {
                scale: 1,
                opacity: 1,
                ease: Cubic.easeOut,
                delay: 0.1 * $index,
              },
            );
          });

          gsap.fromTo(
            aiControl,
            { opacity: 0, y: 50 },
            {
              duration: 0.75,
              y: 0,
              ease: Cubic.easeOut,
              opacity: 1,
              delay: 0.8,
            },
          );

          titleBx.find('.common-title__item').each(function (index) {
            let item = $(this);
            let text = item.find('.common-title__text');

            gsap.set(text, { opacity: 1, y: '100%' });
            gsap.to(text, { duration: 0.5, y: 0, ease: Cubic.easeOut });
          });

          gsap.fromTo(
            btn,
            { opacity: 0, y: 30 },
            {
              duration: 0.5,
              delay: 0.35,
              opacity: 1,
              y: 0,
              ease: Cubic.easeOut,
            },
          );
        },
      },
    });
  }
  /** //section5 카드 컨텐츠 */
  this.init();
}
fo.addPlugin(M700_D);

/** main_2024 section5 post **/
function M700_E(el) {
  _proto = M700_E.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$swiper = el.find('.swiper-post'); // jQuery 객체
  this.post_item = el.find('.post-list').find('> li');
  this.btn_ul = el.find('.common-list__control-btns ul');
  this.startIndex = this.data.activeTab || 0;
  this.currentIndex = this.startIndex;
  this.$speed = 0;

  this.$btn_wrap = el.find('.common-list__control');

  this.mhItems;
  this.$arBox = this.$el;
  this.$ar_BoxItem = this.$arBox.find('.post-list__item');
  this.$arBox_cont = {
    wrap: this.$ar_BoxItem.find('dl'),
    txt: this.$ar_BoxItem.find('dt + dd'),
  };

  var _this = this; // M700_E
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;

  var mhTarget = [this.$arBox_cont.wrap];

  let autoTimer = this.data.timer * 1000;

  _proto.init = function () {
    // console.log("init:: M700_E")

    var slideItemLength_check = this.post_item.length;
    var lang = document.documentElement.lang || 'ko';

    // 언어별 안내 문구
    var guideText = {
      ko: '이 슬라이드와 슬라이드 버튼은 키보드 좌 우 방향키로 이전, 다음 조작이 가능하며 탭 키로 단계 조작이 가능합니다.',
      en: 'This slide and slide buttons can be controlled using keyboard left/right arrow keys, and the tab key to move to previous/next steps.',
    };

    for (var i = 0; i < slideItemLength_check; i++) {
      var itemNumber = i + 1 < 10 ? `0${i + 1}` : `${i + 1}`;
      var totalNumber =
        slideItemLength_check < 10
          ? `0${slideItemLength_check}`
          : slideItemLength_check;

      // 기본 aria-label 텍스트
      var ariaLabelText =
        lang === 'ko'
          ? `${totalNumber}개 중 ${itemNumber} 번째`
          : `button ${itemNumber} of ${totalNumber}`;

      // 첫 번째 버튼일 때 안내 문구 추가
      if (i === 0) {
        ariaLabelText += ' ' + guideText[lang];
      }

      var itemHTML =
        `<li>` +
        `<div class="common-list__number">${itemNumber}</div>` +
        `<button class="tab" role="button" aria-controls="slick-slide${itemNumber}" aria-label="${ariaLabelText}"><span></span></button>` +
        `</li>`;

      this.btn_ul.append(itemHTML);
    }

    createSwiperPost(this);
    createPost(this);

    // Device type check
    deviceType = checkDeviceType();

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }
  };

  _proto.addEvent = function () {
    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });

    setupKeyboardSlideNavigation({
      swiperInstance: _this.$swiper.data('swiperInstance'),
      $swiperContainer: _this.$swiper,
      $buttonWrapper: _this.$btn_wrap,
      $buttons: _this.$btn,
      slideSpeed: _this.$speed,
      onIndexChange: (idx) => {
        _this.currentIndex = idx;
      },
    });
  };

  // Device type check
  function checkDeviceType() {
    mainSlideDot_countCheck(_this, _this.btn_ul);
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$arBox.find(target);
    });
  }

  // Update Match Height Item
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };

    for (idx = 0; idx < len; idx++) {
      // _plugin.mhItems[idx].matchHeight(opt.init);
      el.find('.post-list__item dt + dd').matchHeight(opt.init);
    }
  }

  /** section6 포스트 슬라이드 */
  function createSwiperPost(_plugin) {
    let postBx = _plugin.$el;
    let btnLeft = postBx.find('.common-list__control-btn--left');
    let btnRight = postBx.find('.common-list__control-btn--right');
    let isPlay = true;
    let swiper = new Swiper('.swiper-post', {
      slidesPerView: 'auto',
      spaceBetween: 130,
      loop: true,

      autoplay: {
        delay: autoTimer,
        disableOnInteraction: false,
      },

      breakpoints: {
        1024: {},
      },

      navigation: {
        nextEl: btnRight,
        prevEl: btnLeft,
      },
    });

    _plugin.$swiper.data('swiperInstance', swiper);

    let postItems = postBx.find('.post-list__item');
    let btns = postBx
      .find('.common-list__control-btns')
      .find('li')
      .find('button');
    let activeIndex = 0;
    let playBtn = postBx.find('.common-list__control-btn--play');
    _plugin.$btn = btns;

    function playBtnClick($e) {
      isPlay = !isPlay;

      let btnBg = $(btns[activeIndex]).find('span');
      gsap.killTweensOf(btnBg);
      gsap.set(btnBg, { scaleX: 1 });

      if (isPlay) {
        playBtn.removeClass('on');
        playBtn.attr('aria-label', 'Pause slide');
        playBtn.children().eq(0).attr('aria-hidden', true);
        playBtn.children().eq(1).attr('aria-hidden', false);
        gsap.to(btnBg, {
          duration: autoTimer / 1000,
          scaleX: 0,
          ease: Power0.easeInOut,
        });

        swiper.autoplay.start();
      } else {
        playBtn.addClass('on');
        playBtn.attr('aria-label', 'Autoplay slides');
        playBtn.children().eq(0).attr('aria-hidden', false);
        playBtn.children().eq(1).attr('aria-hidden', true);
        swiper.autoplay.stop();
      }
    }

    function showSwiperChange($index) {
      btns.each(function (index) {
        let btnBg = $(this).find('span');
        let btnNum = $(this).parents('li').find('.common-list__number');

        gsap.killTweensOf(btnBg);
        gsap.set(btnBg, { scaleX: 0 });

        if ($index === index) {
          gsap.set(btnBg, { scaleX: 1 });
          btnNum.css('opacity', 1);
          $(this).attr('aria-pressed', 'true');
          if (isPlay) {
            gsap.to(btnBg, {
              duration: autoTimer / 1000,
              scaleX: 0,
              ease: Power0.easeInOut,
            });
          }
        } else {
          btnNum.css('opacity', 0);
          $(this).attr('aria-pressed', 'false');
        }
      });
    }

    function btnClickHandler($e) {
      let idx = $(this).parents('li').index() + postItems.length / 3;
      swiper.slideTo(idx);
    }

    function slideChange() {
      activeIndex = swiper.realIndex;
      showSwiperChange(activeIndex);
    }

    function slideChangeEnd() {
      postItems.each(function () {
        let item = $(this);
        let btn = item.find('a')[0];
        let btn_m = item.find('.btn_m')[0];

        // .nolink 클래스가 있는 경우 tabIndex를 -1로 설정
        if (item.hasClass('nolink')) {
          if (btn) {
            btn.tabIndex = -1;
          }
        } else {
          btn.tabIndex = item.hasClass('swiper-slide-active') ? 0 : -1;
        }
        if (btn_m) {
          btn_m.tabIndex = item.hasClass('swiper-slide-active') ? 0 : -1;
        }
      });
    }

    swiper.on('slideChange', slideChange);
    swiper.on('slideChangeTransitionEnd', slideChangeEnd);
    playBtn.on('click', playBtnClick);
    btns.on('click', btnClickHandler);

    slideChangeEnd();
    showSwiperChange(activeIndex);
  }

  function createPost(_plugin) {
    let postBx = _plugin.$el;
    let items = postBx.find('.post-list__item');
    let titleBx = postBx.find('.common-title-bx');
    let btn = titleBx.find('.common-btn--bx');

    let postControl = postBx.find('.post-control').find('.common-control');
    gsap.timeline({
      scrollTrigger: {
        trigger: postBx,
        start: 'top center',
        end: 'top center',
        scrub: true,
        once: true,
        onEnter: () => {
          items.each(function ($index) {
            let item = $(this);
            gsap.fromTo(
              item,
              { x: '20vw', opacity: 0 },
              {
                duration: 1,
                x: 0,
                ease: Cubic.easeOut,
                opacity: 1,
                delay: 0.1 * $index,
              },
            );
          });

          gsap.fromTo(
            postControl,
            { opacity: 0, y: 50 },
            {
              duration: 0.75,
              y: 0,
              ease: Cubic.easeOut,
              opacity: 1,
              delay: 0.8,
            },
          );

          titleBx.find('.common-title__item').each(function (index) {
            let item = $(this);
            let text = item.find('.common-title__text');

            gsap.set(text, { opacity: 1, y: '100%' });
            gsap.to(text, { duration: 0.5, y: 0, ease: Cubic.easeOut });
          });

          gsap.fromTo(
            btn,
            { opacity: 0, y: 30 },
            {
              duration: 0.5,
              delay: 0.35,
              opacity: 1,
              y: 0,
              ease: Cubic.easeOut,
            },
          );
        },
      },
    });
  }
  /** //section6 포스트 슬라이드 */

  this.init();
}
fo.addPlugin(M700_E);

/** main_2024 section5 post **/
function M700_F(el) {
  _proto = M700_F.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$swiper = el.find('.case-swiper'); // jQuery 객체
  this.case_item = el.find('.case-list').find('> li');
  this.btn_ul = el.find('.common-list__control-btns ul');
  this.startIndex = this.data.activeTab || 0;
  this.currentIndex = this.startIndex;
  this.$speed = 0;

  this.$btn_wrap = el.find('.common-list__control');

  var _this = this; // M700_F
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;

  let autoTimer = this.data.timer ? this.data.timer * 1000 : 5 * 1000; // 데이터 타이머 없을 때 기본 5초 설정 추가

  _proto.init = function () {
    // console.log("init:: M700_F")
    var slideItemLength_check = this.case_item.length;
    var lang = document.documentElement.lang || 'ko';

    // 언어별 안내 문구
    var guideText = {
      ko: '이 슬라이드와 슬라이드 버튼은 키보드 좌 우 방향키로 이전, 다음 조작이 가능하며 탭 키로 단계 조작이 가능합니다.',
      en: 'This slide and slide buttons can be controlled using keyboard left/right arrow keys, and the tab key to move to previous/next steps.',
    };

    for (var i = 0; i < slideItemLength_check; i++) {
      var itemNumber = i + 1 < 10 ? `0${i + 1}` : `${i + 1}`;
      var totalNumber =
        slideItemLength_check < 10
          ? `0${slideItemLength_check}`
          : slideItemLength_check;

      // 기본 aria-label 텍스트
      var ariaLabelText =
        lang === 'ko'
          ? `${totalNumber}개 중 ${itemNumber} 번째`
          : `button ${itemNumber} of ${totalNumber}`;

      // 첫 번째 버튼일 때 안내 문구 추가
      if (i === 0) {
        ariaLabelText += ' ' + guideText[lang];
      }

      var itemHTML =
        `<li>` +
        `<div class="common-list__number">${itemNumber}</div>` +
        `<button class="tab" role="button" aria-controls="slick-slide${itemNumber}" aria-label="${ariaLabelText}"><span></span></button>` +
        `</li>`;

      this.btn_ul.append(itemHTML);
    }

    createSwiperCase(this);
    createCase(this);

    // Device type check
    deviceType = checkDeviceType();

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });

    setupKeyboardSlideNavigation({
      swiperInstance: _this.$swiper.data('swiperInstance'),
      $swiperContainer: _this.$swiper,
      $buttonWrapper: _this.$btn_wrap,
      $buttons: _this.$btn,
      slideSpeed: _this.$speed,
      onIndexChange: (idx) => {
        _this.currentIndex = idx;
      },
    });
  };

  // Device type check
  function checkDeviceType() {
    mainSlideDot_countCheck(_this, _this.btn_ul);
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  /** section3 아티클 슬라이드1 */
  function createSwiperCase(_plugin) {
    let caseBx = _plugin.$el;
    let btnLeft = caseBx.find('.common-list__control-btn--left');
    let btnRight = caseBx.find('.common-list__control-btn--right');
    let isPlay = true;
    let swiper = new Swiper('.case-swiper', {
      slidesPerView: 'auto',
      spaceBetween: 20,
      loop: true,

      autoplay: {
        delay: autoTimer,
        disableOnInteraction: false,
      },

      breakpoints: {
        1024: {
          slidesPerView: 'auto',
          slidesOffsetBefore: 20,
          slidesOffsetAfter: 20,
          spaceBetween: 10,
        },
      },

      navigation: {
        nextEl: btnRight,
        prevEl: btnLeft,
      },
    });

    // 생성된 swiper 인스턴스를 jQuery 객체에 저장
    _plugin.$swiper.data('swiperInstance', swiper);

    let caseItems = caseBx.find('.case-list__item');
    let btns = caseBx
      .find('.common-list__control-btns')
      .find('li')
      .find('button');
    let activeIndex = 0;
    let playBtn = caseBx.find('.common-list__control-btn--play');
    _plugin.$btn = btns;

    function playBtnClick($e) {
      isPlay = !isPlay;

      let btnBg = $(btns[activeIndex]).find('span');
      gsap.killTweensOf(btnBg);
      gsap.set(btnBg, { scaleX: 1 });

      if (isPlay) {
        playBtn.removeClass('on');
        playBtn.attr('aria-label', 'Pause slide');
        playBtn.children().eq(0).attr('aria-hidden', true);
        playBtn.children().eq(1).attr('aria-hidden', false);
        gsap.to(btnBg, {
          duration: autoTimer / 1000,
          scaleX: 0,
          ease: Power0.easeInOut,
        });

        swiper.autoplay.start();
      } else {
        playBtn.addClass('on');
        playBtn.attr('aria-label', 'Autoplay slides');
        playBtn.children().eq(0).attr('aria-hidden', false);
        playBtn.children().eq(1).attr('aria-hidden', true);
        swiper.autoplay.stop();
      }
    }

    function btnClickHandler() {
      let idx = $(this).parents('li').index() + caseItems.length / 3;
      swiper.slideTo(idx);
    }

    function slideChange() {
      activeIndex = swiper.realIndex;
      showSwiperChange(activeIndex);
    }

    function showSwiperChange($index) {
      btns.each(function (index) {
        let btnBg = $(this).find('span');
        let btnNum = $(this).parents('li').find('.common-list__number');

        gsap.killTweensOf(btnBg);
        gsap.set(btnBg, { scaleX: 0 });

        if ($index === index) {
          gsap.set(btnBg, { scaleX: 1 });
          btnNum.css('opacity', 1);
          $(this).attr('aria-pressed', 'true');
          if (isPlay) {
            gsap.to(btnBg, {
              duration: autoTimer / 1000,
              scaleX: 0,
              ease: Power0.easeInOut,
            });
          }
        } else {
          btnNum.css('opacity', 0);
          $(this).attr('aria-pressed', 'false');
        }
      });
    }

    function slideChangeEnd() {
      caseItems.each(function () {
        let item = $(this);
        let btn = item.find('a')[0];
        btn.tabIndex = item.hasClass('swiper-slide-active') ? 0 : -1;
      });
    }

    btns.on('click', btnClickHandler);
    swiper.on('slideChange', slideChange);
    swiper.on('slideChangeTransitionEnd', slideChangeEnd);
    playBtn.on('click', playBtnClick);

    slideChangeEnd();
    showSwiperChange(activeIndex);
  }

  function createCase(_plugin) {
    let caseBx = _plugin.$el;
    let items = caseBx.find('.case-list__item');
    let titleBx = caseBx.find('.common-title-bx');
    let btn = titleBx.find('.common-btn--bx');

    let caseControl = caseBx.find('.case-control').find('.common-control');
    gsap.timeline({
      scrollTrigger: {
        trigger: caseBx,
        start: 'top center',
        end: 'top center',
        scrub: true,
        once: true,
        onEnter: () => {
          items.each(function ($index) {
            let item = $(this);
            gsap.fromTo(
              item,
              { x: '20vw', opacity: 0 },
              {
                duration: 1,
                x: 0,
                ease: Cubic.easeOut,
                opacity: 1,
                delay: 0.1 * $index,
              },
            );
          });

          gsap.fromTo(
            caseControl,
            { opacity: 0, y: 50 },
            {
              duration: 0.75,
              y: 0,
              ease: Cubic.easeOut,
              opacity: 1,
              delay: 0.8,
            },
          );

          titleBx.find('.common-title__item').each(function (index) {
            let item = $(this);
            let text = item.find('.common-title__text');

            gsap.set(text, { opacity: 1, y: '100%' });
            gsap.to(text, { duration: 0.5, y: 0, ease: Cubic.easeOut });
          });

          gsap.fromTo(
            btn,
            { opacity: 0, y: 30 },
            {
              duration: 0.5,
              delay: 0.35,
              opacity: 1,
              y: 0,
              ease: Cubic.easeOut,
            },
          );
        },
      },
    });
  }
  /** //section3 아티클 슬라이드1 */

  this.init();
}
fo.addPlugin(M700_F);

/** SUB page why_SDS_AI v.2024 **/
function MP_whySDSAi_2024(el) {
  _proto = MP_whySDSAi_2024.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;

  var _this = this; // MP_whySDSAi_2024
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;

  // const subBx = $(".sub-wrap");

  _proto.init = function () {
    // console.log("init:: MP_whySDSAi_2024")

    createVisual(this);
    createInfoText(this);
    createSubNav(this);
    createSection(this);
    createSectionDot(this);

    // Device type check
    deviceType = checkDeviceType();

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  function createVisual(_plugin) {
    let visualImagesBx = _plugin.$el
      .find('.visual-simply-fit__images')
      .find('ul');

    let visualItems0 = $(visualImagesBx[0]).find('li');
    let visualItems1 = $(visualImagesBx[1]).find('li');

    function showIn(bx, sY, sDelay) {
      gsap.fromTo(
        bx,
        { y: sY, opacity: 0 },
        { duration: 1.25, y: 0, opacity: 1, ease: Back.easeOut, delay: sDelay },
      );
    }

    function showLoop(img, rTime, loopY) {
      gsap.to(img, {
        duration: rTime,
        y: loopY,
        ease: Cubic.easeInOut,
        repeat: -1,
        yoyo: true,
      });
    }

    visualItems0.each(function (idx) {
      let imgBx = $(this);
      let img = imgBx.find('img');
      let imgBx2 = $(visualItems1[idx]);
      let img2 = imgBx2.find('img');

      let sY = 100 + Math.random() * 300;
      let sDelay = 0.2 * (Math.random() * 5);
      let rTime = 3 + Math.random() * 3;
      let loopY = 40 - Math.random() * 80;

      showIn(imgBx, sY, sDelay);
      showIn(imgBx2, sY, sDelay);

      showLoop(img, rTime, loopY);
      showLoop(img2, rTime, loopY);
    });
  }

  function createInfoText(_plugin) {
    let infoTextBx = _plugin.$el.find('.info-text-bx');
    let textItems = infoTextBx.find('span');

    let tl = gsap.timeline({
      scrollTrigger: {
        trigger: infoTextBx,
        start: 'top 70%',
        end: 'bottom 90%',
        scrub: 1,
      },
      ease: Cubic.easeOut,
    });

    textItems.each(function () {
      let item = $(this);
      tl.from(item, {
        color: '#394768',
        top: 15,
      });
    });
  }

  function createSubNav(_plugin) {
    let sideNav = _plugin.$el.find('.side-nav');
    let sideNavMenus = sideNav.find('li');
    let sectionItems = _plugin.$el.find('.section-item');
    let w = $(window);
    let indexIn = 0;
    let prevIn = 0;

    function sideNavMenusClick() {
      let parentT = _plugin.$el.find('.section-item-bx__inner')[0].offsetTop;
      let wW = w.width();

      const idx = $(this).index();

      if (idx === prevIn) return;

      const item = $(sectionItems[idx]);
      let wY = {
        value: w.scrollTop(),
      };

      sectionItems.each(function ($index) {
        let btn = $(this).find('a')[0];
        if (idx === $index) {
          btn.tabIndex = 0;
        } else {
          btn.tabIndex = -1;
        }
      });

      let tY = parentT + item[0].offsetTop;

      if (wW < 1440) tY -= 150;
      if (idx >= prevIn) tY += 60;

      gsap.to(wY, {
        duration: 0.35,
        value: tY,
        ease: Cubic.easeInOut,
        onUpdate: () => {
          w.scrollTop(wY.value);
        },
      });
    }

    function scrollListener($e) {
      let parentT = _plugin.$el.find('.section-item-bx__inner')[0].offsetTop;

      let sT = w.scrollTop();
      let wH = w.height();

      sectionItems.each(function (i) {
        let ss = $(this);
        if (sT + wH - wH / 4 > parentT + ss[0].offsetTop) indexIn = i;
      });

      let target = $(sideNavMenus[indexIn]);

      if (!target.hasClass('on')) {
        let sX = {
          value: sideNav.scrollLeft(),
        };

        gsap.killTweensOf(sX);
        gsap.to(sX, {
          value: target[0].offsetLeft - 20,
          duration: 0.25,
          onUpdate: function () {
            sideNav[0].scrollTo(sX.value, 0);
          },
        });
      }

      sideNavMenus.removeClass('on');
      target.addClass('on');

      prevIn = indexIn;
    }

    w.on('scroll', scrollListener);
    scrollListener(null);

    sideNavMenus.on('click', sideNavMenusClick);
  }

  function createSection(_plugin) {
    let sectionitems = _plugin.$el.find('.section-item');

    sectionitems.each(function () {
      let item = $(this);
      // 2024-08-15
      let title = item.find('dt').find('h2');
      let description = item.find('dd').find('span');
      let btn = item.find('.seciton-item--btn-bx');
      let contentImg = item.find('.section-item--content--img');

      let tl = gsap.timeline({
        scrollTrigger: {
          trigger: item,
          start: 'top 70%',
          end: 'top 70%',
          scrub: 3,
          once: true,
        },
        ease: Cubic.easeOut,
      });

      tl.from(title, { y: '100%' });
      tl.from(description, { y: '100%' }, '< 0.3');
      tl.from(btn, { y: 30, opacity: 0 }, '< 0.3');
      tl.from(contentImg, { y: 30, opacity: 0 }, '< 0.3');

      let contentBx = item
        .find('.section-item--content')
        .find('.section-item--content--list');

      contentBx.find('li').each(function (idx) {
        let content = $(this);

        let contentTl = gsap.timeline({
          scrollTrigger: {
            trigger: contentBx,
            start: 'top bottom',
            end: 'top bottom',
            scrub: 4,
            once: true,
          },
          ease: Cubic.easeOut,
        });

        contentTl.from(content, { y: 50, opacity: 0 }, `< ${0.25 * idx}`);
      });
    });
  }

  function createSectionDot(_plugin) {
    function showLoop($dotBx, $time, $delay) {
      $dotBx.each(function (index) {
        let dots = $(this).find('circle');

        let t = $time / dots.length;
        let d = $delay / dots.length;

        dots.each(function (idx) {
          let dot = $(this);

          gsap.set(dot, { opacity: 0 });
          gsap.to(dot, {
            opacity: 1,
            yoyo: true,
            repeat: 1,
            ease: Power0.easeInOut,
            duration: t,
            delay: d * idx,
          });
        });
      });

      setTimeout(function () {
        showLoop($dotBx, $time, $delay);
      }, $delay * 1000);
    }

    function show() {
      let dotContainer = $('.section-item--content--img');

      let totalTimes = [5, 5, 5, 10];
      let totalDelayTimes = [2, 2, 2, 4];

      dotContainer.each(function (index) {
        let dotBx = $(this).find('.section-item--content--img--dot');

        dotBx.each(function () {
          let dot = $(this);

          let time = totalTimes[index];
          let delay = totalDelayTimes[index];

          showLoop(dot, time, delay);
        });
      });
    }

    show();
  }

  this.init();
}
fo.addPlugin(MP_whySDSAi_2024);

/** Page 주주총회 */
/** MP_stock */
function MP_stock(el) {
  _proto = MP_stock.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;

  /* accordion menu */
  this.accordion_wrap = this.$el.find('.accordion');
  this.accordion_data = this.$el.find('.accordion').data();
  this.$toggleList = this.$el.find('.toggle_list');
  this.$toggleItem = this.$toggleList.find('> li');
  this.key = this.$el.offset().top;
  this.onlyExpanded = false; // Only one item open flag
  this.opendIndex = []; // Open item array
  this.closedIndex = []; // Close item array
  /* //accordion menu */

  var _this = this;
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var lang = $('html').attr('lang') || 'en';

  _proto.init = function () {
    //console.log("init:: MP_stock")
    // this.onlyExpanded
    if (this.accordion_wrap.is('[data-only-expanded]')) {
      this.onlyExpanded = this.accordion_data.onlyExpanded;
      this.$el.removeAttr('data-only-expanded');
    }

    // this.opendIndex
    if (
      this.accordion_wrap.is('[data-opend-index]') &&
      typeof this.accordion_data.opendIndex == 'object'
    ) {
      this.opendIndex = this.accordion_data.opendIndex;
      this.$el.removeAttr('dta-opend-inadex');
    }

    // this.opendIndex: all item open
    if (this.accordion_wrap.is('[data-opend-all]')) {
      this.opendIndex = new Array(this.$toggleItem.length + 1)
        .join('0')
        .split('')
        .map(function (a, idx) {
          return idx;
        });
      this.$el.removeAttr('data-opend-all');
    }

    // Exception, multiple items open
    if (this.opendIndex.length > 1) {
      this.onlyExpanded = false;
    }

    // accordion setting
    setAriaAttr(this);
    setOpenToggle(this);

    // Device type check
    deviceType = checkDeviceType();

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    /* accordion click event */
    _this.$toggleList.on('click', '.toggle_btn', function (e) {
      e.preventDefault();
      var index = $(this).parent().index();

      // When the toggle button is open
      if ($(this).closest('li').hasClass('active')) {
        _this.closedIndex = [index];
        setCloseToggle(_this);
        _this.opendIndex.splice(_this.opendIndex.indexOf(index), 1);
        return;
      }

      // When the toggle button is closed
      if (_this.onlyExpanded) {
        // Only one item open
        _this.closedIndex = [_this.opendIndex];
        setCloseToggle(_this);
        _this.opendIndex = [index];
        setOpenToggle(_this);
      } else {
        // Multiple items open
        _this.opendIndex.push(index);
        setOpenToggle(_this);
      }
      return;
    });
    /* accordion click event */

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  /** accordion event */
  // Apply aria properties
  function setAriaAttr(_plugin) {
    _plugin.$toggleItem.each(function (index) {
      var key = _plugin.key + '_' + index;

      $(this)
        .find('.toggle_btn')
        .attr({
          id: 'toggle_btn_' + key, // fixed
          'aria-controls': 'toggle_cont_' + key, // fixed
          'aria-expanded': false, // changeable
        });

      $(this)
        .find('.toggle_cont')
        .attr({
          role: 'region', // fixed
          id: 'toggle_cont_' + key, // fixed
          'aria-labelledby': 'toggle_btn_' + key, // fixed
          'aria-hidden': true, // changeable
        });
    });
  }
  // Open toggle
  function setOpenToggle(_plugin) {
    for (var index = 0; index < _plugin.opendIndex.length; index++) {
      var $item = _plugin.$toggleItem.eq(_plugin.opendIndex[index]);

      $item
        .find('.toggle_btn')
        .attr('aria-expanded', true)
        .closest('li')
        .addClass('active');
      $item.find('.toggle_cont').attr('aria-hidden', false).stop().slideDown();
    }
  }
  // Close toggle
  function setCloseToggle(_plugin) {
    for (var index = 0; index < _plugin.closedIndex.length; index++) {
      var $item = _plugin.$toggleItem.eq(_plugin.closedIndex[index]);

      $item
        .find('.toggle_btn')
        .attr('aria-expanded', false)
        .closest('li')
        .removeClass('active');
      $item.find('.toggle_cont').attr('aria-hidden', true).stop().slideUp();

      _plugin.closedIndex.shift();
    }
  }
  /** //accordion event */

  this.init();
}

fo.addPlugin(MP_stock);

/** Page 주주총회 */

/** Page | MP_mes */
function MP_mes(el) {
  _proto = MP_mes.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$tab = {
    key: Math.floor(this.$el.offset().top),
    fixed: this.$el.find('.fixed_tab'),
    ul: this.$el.find('.fixed_tab .tab_inner ul'),
    li: this.$el.find('.fixed_tab .tab_inner li'),
    btn: this.$el.find('.fixed_tab .tab_inner li a'),
    panel: this.$el.find('.art'),
    beforeActive: 99,
    active: null,
    isClick: false,
    isFixed: false,
  };
  this.$featureList_cont = this.$el.find('.feature_list');

  let _this = this;
  let $hd = $('.M00_A');

  this.mhItems;

  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var mhTarget = ['strong'];

  _proto.init = function () {
    // console.log("init:: MP_mes");
    deviceType = checkDeviceType();

    setTabFixed();
    setTabAttr('init');

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateMhItem(_this);
      }
    }, 100);
  };

  _proto.addEvent = function () {
    _this.$tab.btn.on('click', function () {
      _this.$tab.isClick = true;

      let idx = $(this).parents('li').index();
      let panelT = parseInt(_this.$tab.panel.eq(idx).offset().top);

      let headH = $(document).find('#header').outerHeight(true);
      let headT = Math.abs($hd.position().top);
      let brandColorH =
        $('.brandcolor').is(':hidden') || $('.brandcolor').hasClass('normal')
          ? 0
          : $('.brandcolor').outerHeight(true);
      let tabH = _this.$tab.fixed.outerHeight(true);
      let scrollTop = panelT - tabH - (headH - headT - brandColorH);

      _this.$tab.active = idx;
      _this.$tab.li.removeClass('active').eq(idx).addClass('active');
      _this.$tab.btn
        .attr({ 'aria-selected': false })
        .eq(idx)
        .attr({ 'aria-selected': true });

      $('html, body')
        .stop()
        .animate({ scrollTop: scrollTop }, 500, () => {
          let afterHeadT = Math.abs($hd.position().top);
          scrollTop = scrollTop - (headT - afterHeadT);
          $('html, body')
            .stop()
            .animate({ scrollTop: scrollTop }, 500, () => {
              _this.$tab.isClick = false;
            });
        });
    });

    $(window).on('scroll resize', () => {
      setTabFixed();
      setTabActive();
    });
  };

  const setTabFixed = function () {
    let tabT = _this.$tab.fixed.offset().top;
    $(window).scrollTop() >= tabT
      ? _this.$tab.fixed.addClass('fixed')
      : _this.$tab.fixed.removeClass('fixed');
  };

  const setTabActive = function () {
    if (_this.$tab.isClick) return;

    let headT = Math.abs($hd.position().top);
    let headH = $hd.outerHeight(true) - headT;
    let tabH = _this.$tab.fixed.outerHeight(true);
    let active = null;

    _this.$tab.panel.each((idx, item) => {
      let offsetTop = parseInt($(item).offset().top) - (headH + tabH);
      if ($(window).scrollTop() >= offsetTop) active = idx;
    });

    _this.$tab.active = active;
    setTabAttr();
  };

  const setTabAttr = function (init) {
    let isFirst = init == 'init' ? true : false; // 처음 setting 시에만 'init' 전달
    let active = _this.$tab.active;

    let beforeActive = _this.$tab.beforeActive;
    if (active == beforeActive) return;
    _this.$tab.beforeActive = _this.$tab.active;

    _this.$tab.li.removeClass('active');
    _this.$tab.btn.attr({ 'aria-selected': false });

    if (typeof active == 'number') {
      _this.$tab.li.eq(active).addClass('active');
      _this.$tab.btn.eq(active).attr({ 'aria-selected': true });
    }

    if (!isFirst) return;

    _this.$tab.ul
      .attr('role', 'tablist')
      .find('li')
      .attr('role', 'presentation');

    _this.$tab.btn.each(function (index) {
      var key = `${_this.$tab.key}_${index}`;
      $(this).attr({
        role: `tab`, // 202304-01 웹접근 : 삭제
        id: `tab_btn_${key}`,
        'aria-controls': `tab_panel_${key}`,
        'aria-selected': index == active ? true : false, // changeable
      });
    });
    _this.$tab.panel.each(function (index) {
      var key = `${_this.$tab.key}_${index}`;
      $(this).attr({
        role: `region`,
        id: `tab_panel_${key}`,
        'aria-labelledby': `tab_btn_${key}`,
      });
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  /** 텍스트 주변 높이 */
  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$featureList_cont.find(target);
    });
  }
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };
    switch (deviceType) {
      case 'PC':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'TABLET':
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        break;
      // default:
      //     break;
    }
  }
  /** 텍스트 주변 높이 */

  this.init();
}
fo.addPlugin(MP_mes);

/** Page | MP_mes */

/** Page | MP_crm */
function MP_crm(el) {
  _proto = MP_crm.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$tab = {
    key: Math.floor(this.$el.offset().top),
    fixed: this.$el.find('.fixed_tab'),
    ul: this.$el.find('.fixed_tab .tab_inner ul'),
    li: this.$el.find('.fixed_tab .tab_inner li'),
    btn: this.$el.find('.fixed_tab .tab_inner li a'),
    panel: this.$el.find('.art'),
    beforeActive: 99,
    active: null,
    isClick: false,
    isFixed: false,
  };
  this.$featureList_cont = this.$el.find('.feature_list');

  let _this = this;
  let $hd = $('.M00_A');

  this.mhItems;

  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var mhTarget = ['strong'];

  _proto.init = function () {
    // console.log("init:: MP_crm");
    deviceType = checkDeviceType();

    setTabFixed();
    setTabAttr('init');

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateMhItem(_this);
      }
    }, 100);
  };

  _proto.addEvent = function () {
    _this.$tab.btn.on('click', function () {
      _this.$tab.isClick = true;

      let idx = $(this).parents('li').index();
      let panelT = parseInt(_this.$tab.panel.eq(idx).offset().top);

      let headH = $(document).find('#header').outerHeight(true);
      let headT = Math.abs($hd.position().top);
      let brandColorH =
        $('.brandcolor').is(':hidden') || $('.brandcolor').hasClass('normal')
          ? 0
          : $('.brandcolor').outerHeight(true);
      let tabH = _this.$tab.fixed.outerHeight(true);
      let scrollTop = panelT - tabH - (headH - headT - brandColorH);

      _this.$tab.active = idx;
      _this.$tab.li.removeClass('active').eq(idx).addClass('active');
      _this.$tab.btn
        .attr({ 'aria-selected': false })
        .eq(idx)
        .attr({ 'aria-selected': true });

      $('html, body')
        .stop()
        .animate({ scrollTop: scrollTop }, 500, () => {
          let afterHeadT = Math.abs($hd.position().top);
          scrollTop = scrollTop - (headT - afterHeadT);
          $('html, body')
            .stop()
            .animate({ scrollTop: scrollTop }, 500, () => {
              _this.$tab.isClick = false;
            });
        });
    });

    $(window).on('scroll resize', () => {
      setTabFixed();
      setTabActive();
    });
  };

  const setTabFixed = function () {
    let tabT = _this.$tab.fixed.offset().top;
    $(window).scrollTop() >= tabT
      ? _this.$tab.fixed.addClass('fixed')
      : _this.$tab.fixed.removeClass('fixed');
  };

  const setTabActive = function () {
    if (_this.$tab.isClick) return;

    let headT = Math.abs($hd.position().top);
    let headH = $hd.outerHeight(true) - headT;
    let tabH = _this.$tab.fixed.outerHeight(true);
    let active = null;

    _this.$tab.panel.each((idx, item) => {
      let offsetTop = parseInt($(item).offset().top) - (headH + tabH);
      if ($(window).scrollTop() >= offsetTop) active = idx;
    });

    _this.$tab.active = active;
    setTabAttr();
  };

  const setTabAttr = function (init) {
    let isFirst = init == 'init' ? true : false; // 처음 setting 시에만 'init' 전달
    let active = _this.$tab.active;

    let beforeActive = _this.$tab.beforeActive;
    if (active == beforeActive) return;
    _this.$tab.beforeActive = _this.$tab.active;

    _this.$tab.li.removeClass('active');
    _this.$tab.btn.attr({ 'aria-selected': false });

    if (typeof active == 'number') {
      _this.$tab.li.eq(active).addClass('active');
      _this.$tab.btn.eq(active).attr({ 'aria-selected': true });
    }

    if (!isFirst) return;

    _this.$tab.ul
      .attr('role', 'tablist')
      .find('li')
      .attr('role', 'presentation');

    _this.$tab.btn.each(function (index) {
      var key = `${_this.$tab.key}_${index}`;
      $(this).attr({
        role: `tab`, // 202304-01 웹접근 : 삭제
        id: `tab_btn_${key}`,
        'aria-controls': `tab_panel_${key}`,
        'aria-selected': index == active ? true : false, // changeable
      });
    });
    _this.$tab.panel.each(function (index) {
      var key = `${_this.$tab.key}_${index}`;
      $(this).attr({
        role: `region`,
        id: `tab_panel_${key}`,
        'aria-labelledby': `tab_btn_${key}`,
      });
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  /** 텍스트 주변 높이 */
  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$featureList_cont.find(target);
    });
  }
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };
    switch (deviceType) {
      case 'PC':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'TABLET':
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        break;
      // default:
      //     break;
    }
  }
  /** 텍스트 주변 높이 */

  this.init();
}
fo.addPlugin(MP_crm);
/** Page | MP_crm */

/** Page | MP_gpuaas */

function MP_gpuaas(el) {
  _proto = MP_gpuaas.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;

  this.key = Math.floor(this.$el.offset().top);
  this.startIndex = this.data.activeTab || 0;
  this.currentIndex = this.startIndex;

  this.$carousel = this.$el.find('.slider-wrap');
  this.$carouselItem = this.$el.find('.slider-wrap .slider-panel');
  this.$speed = 300; // slick slide

  this.$tab = this.$el.find('.slick-tab .tab_list'); // ul
  this.$tabItem = this.$el.find('.slick-tab .tab_list li a'); // a

  this.$isPaused = false;
  this.$isStop = false;

  this.$navigation = this.$el.find('.M16_B .navigation');

  let _this = this;
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;

  _proto.init = function () {
    deviceType = checkDeviceType();

    _this.$navigation.remove();

    setCarousel();

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();

      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        tabScroll();
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    $(window).on('scroll resize', () => {
      animateInViewElements();
      resizeTimer.start();
    });

    clickEvent();
    KeyboardEvent();
    tabDragEvent();
  };

  // 디바이스 타입을 확인하는 함수
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else {
      return 'MOBILE';
    }
  }

  function animateInViewElements() {
    let animationElements = $('.ban');
    let winT = $(window).scrollTop();
    let winB = winT + $(window).height() / 1.1;

    animationElements.each((idx, item) => {
      var element = $(item);
      var elementHeight = $(element).outerHeight(true);
      var elementTop = $(element).offset().top;

      if (elementTop <= winB) {
        if (!element.hasClass('in-view')) element.addClass('in-view');
      } else if (elementTop > winB + elementHeight / 2) {
        element.removeClass('in-view');
      }
    });
  }

  const setCarousel = function () {
    _this.$carousel.on('init', function (event, slick) {
      _this.currentIndex = slick.currentSlide;
      tabScroll();
      setTabSlideAttr({ setting: true }); // 초기 세팅 시에만 parameter 넘김
    });

    _this.$carousel.slick({
      autoplay: false,
      infinite: false,
      initialSlide: _this.startIndex,
      speed: _this.$speed,
      arrows: false,
      responsive: [
        {
          breakpoint: 1023,
          settings: {
            centerMode: true,
            centerPadding: '0',
          },
        },
      ],
    });

    _this.$carousel.on(
      'afterChange',
      function (event, slick, currentSlide, nextSlide) {
        _this.currentIndex = currentSlide;
        setTabSlideAttr();
        tabScroll();
      },
    );

    _this.$carousel.on('setPosition', function (event, slick) {
      setEqualLDivHeight();
    });
  };

  /* activeIndex 변경 시 tab 스크롤 값 세팅 */
  function tabScroll() {
    const data = {
      tabSlideArea: _this.$el.find('.slick-tab'),
      tab: _this.$tab,
      tabItems: _this.$tabItem,
      activeIdx: _this.currentIndex,
    };
    slide.setTabScroll(_this, data);
  }

  /* 슬라이드의 Tablist, tabpanel 속성 세팅, 슬라이드의 activeIndex가 변경되면 접근성 속성 업데이트 */
  const setTabSlideAttr = function (params) {
    let setting = false;
    if (params) setting = params.setting ? true : false;

    const data = {
      carousel: _this.$carousel,
      type: {
        setting: setting, // 초기세팅 시 true
        // orientation: _this.$tabOrientation,   // tab 방향이 세로일 경우 true
      },
      key: _this.key,
      tablist: _this.$tab,
      tablists: _this.$tabItem,
      tabpanel: _this.$carousel,
      tabpanels: _this.$carouselItem,
      activeIdx: _this.currentIndex,
    };
    setTimeout(() => {
      slide.setTabSlideAttr(_this, data);
    }, 1); // tabindexs time
  };

  /* slide click event */
  function clickEvent() {
    _this.$tabItem.on('click', function () {
      const idx = _this.$tabItem.index($(this));
      _this.$carousel.slick('goTo', idx);
    });
  }

  /* mouse drag Event */
  function tabDragEvent() {
    const data = {
      element: _this.$el.find('.slick-tab')[0],
    };
    slide.setTabDragEvent(_this, data);
  }

  /* slide keyboard < > event */
  function KeyboardEvent() {
    _this.$carousel.on('keydown', function (e) {
      let flag = false;

      if (e.keyCode === 37) {
        _this.$isStop = true;
        flag = true;
        _this.$carousel.slick('slickPrev');
        // sequenceControl(_this, "STOP", false);
        setTimeout(() => {
          _this.$carouselItem.eq(_this.currentIndex).find('a, button').focus();
        }, _this.$speed + 1);
      } else if (e.keyCode === 39) {
        _this.$isStop = true;
        flag = true;
        _this.$carousel.slick('slickNext');
        // sequenceControl(_this, "STOP", false);
        setTimeout(() => {
          _this.$carouselItem.eq(_this.currentIndex).find('a, button').focus();
        }, _this.$speed + 1);
      }
      if (flag) {
        e.stopPropagation();
        e.preventDefault();
      }
    });

    _this.$tab.on('keydown', function (e) {
      let flag = false;

      if (e.keyCode === 37) {
        _this.$isStop = true;
        flag = true;
        _this.$carousel.slick('slickPrev');
        // sequenceControl(_this, "STOP", false);
        setTimeout(() => {
          _this.$tabItem.eq(_this.currentIndex).focus();
        }, _this.$speed + 1); // speed
      } else if (e.keyCode === 39) {
        _this.$isStop = true;
        flag = true;
        _this.$carousel.slick('slickNext');
        // sequenceControl(_this, "STOP", false);
        setTimeout(() => {
          _this.$tabItem.eq(_this.currentIndex).focus();
        }, _this.$speed + 1); // speed
      }
      if (flag) {
        e.stopPropagation();
        e.preventDefault();
      }
    });
  }

  const setEqualLDivHeight = function () {
    const panels = _this.$carousel.find('.slider-panel');

    // 각 lDiv의 높이를 초기화
    panels.find('.l_div').css({ height: '' });

    // 각 lDiv의 최대 높이를 계산
    const maxLDivHeight = panels
      .map((i, panel) => {
        const lDiv = $(panel).find('.l_div');

        // l_div의 높이를 계산
        return lDiv.outerHeight(true);
      })
      .get()
      .sort((a, b) => b - a)[0];

    // 모든 lDiv의 높이를 최대 높이로 설정
    panels.find('.l_div').css({ height: `${maxLDivHeight}px` });
  };

  this.init();
}
fo.addPlugin(MP_gpuaas);

/** Page | MP_gpuaas */

/** Page | MP_ai_agent */
function MP_ai_agent(el) {
  _proto = MP_ai_agent.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;

  this.key = Math.floor(this.$el.offset().top);
  this.startIndex = this.data.activeTab || 0;
  this.currentIndex = this.startIndex;

  this.$carousel = this.$el.find('.slider-wrap');
  this.$carouselItem = this.$el.find('.slider-wrap .slider-panel');
  this.$speed = 300; // slick slide

  this.$tab = this.$el.find('.slick-tab .tab_list'); // ul
  this.$tabItem = this.$el.find('.slick-tab .tab_list li a'); // a

  this.$isPaused = false;
  this.$isStop = false;

  this.$navigation = this.$el.find('.navigation');

  this.$swiper = el.find('.ai-swiper'); // swiper slide

  this.$Box_cont = {
    // tit: this.$el.find(".ai_agent_usecase .md_tit"),
    // tit_s: this.$el.find(".ai_agent_usecase .md_tit_s"),
    txt: this.$el.find('.ai_agent_usecase .md_txt'),
  };

  let _this = this;
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;

  var mhTarget = [this.$Box_cont.txt];

  let swiperInstances = [];
  const containers = document.querySelectorAll('.brity-slider');

  _proto.init = function () {
    deviceType = checkDeviceType();

    // _this.$navigation.remove();

    setCarousel();
    setSwiper();

    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();

      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        // tabScroll();
        updateMhItem(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    $(window).on('scroll resize', () => {
      setTimeout(() => {
        swiperInstances.forEach((swiper) => {
          if (swiper && typeof swiper.update === 'function') {
            swiper.update();
          }
        });
      }, 100);
      animateInViewElements();
      resizeTimer.start();
    });

    clickEvent();
    KeyboardEvent();
    tabDragEvent();
  };

  // 디바이스 타입을 확인하는 함수
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else {
      return 'MOBILE';
    }
  }

  function animateInViewElements() {
    let animationElements = $('.ban');
    let winT = $(window).scrollTop();
    let winB = winT + $(window).height() / 1.1;

    animationElements.each((idx, item) => {
      var element = $(item);
      var elementHeight = $(element).outerHeight(true);
      var elementTop = $(element).offset().top;

      if (elementTop <= winB) {
        if (!element.hasClass('in-view')) element.addClass('in-view');
      } else if (elementTop > winB + elementHeight / 2) {
        element.removeClass('in-view');
      }
    });
  }

  const setCarousel = function () {
    _this.$carousel.on('init', function (event, slick) {
      _this.currentIndex = slick.currentSlide;
      tabScroll();
      setTabSlideAttr({ setting: true }); // 초기 세팅 시에만 parameter 넘김
    });

    _this.$carousel.slick({
      autoplay: false,
      infinite: false,
      initialSlide: _this.startIndex,
      speed: _this.$speed,
      arrows: false,
      responsive: [
        {
          breakpoint: 1023,
          settings: {
            centerMode: true,
            centerPadding: '0',
          },
        },
      ],
    });

    _this.$carousel.on(
      'afterChange',
      function (event, slick, currentSlide, nextSlide) {
        _this.currentIndex = currentSlide;
        setTabSlideAttr();
        tabScroll();
      },
    );

    _this.$carousel.on('setPosition', function (event, slick) {
      setEqualLDivHeight();
    });
  };

  /* activeIndex 변경 시 tab 스크롤 값 세팅 */
  function tabScroll() {
    const data = {
      tabSlideArea: _this.$el.find('.slick-tab'),
      tab: _this.$tab,
      tabItems: _this.$tabItem,
      activeIdx: _this.currentIndex,
    };
    slide.setTabScroll(_this, data);
  }

  /* 슬라이드의 Tablist, tabpanel 속성 세팅, 슬라이드의 activeIndex가 변경되면 접근성 속성 업데이트 */
  const setTabSlideAttr = function (params) {
    let setting = false;
    if (params) setting = params.setting ? true : false;

    const data = {
      carousel: _this.$carousel,
      type: {
        setting: setting, // 초기세팅 시 true
        // orientation: _this.$tabOrientation,   // tab 방향이 세로일 경우 true
      },
      key: _this.key,
      tablist: _this.$tab,
      tablists: _this.$tabItem,
      tabpanel: _this.$carousel,
      tabpanels: _this.$carouselItem,
      activeIdx: _this.currentIndex,
    };
    setTimeout(() => {
      slide.setTabSlideAttr(_this, data);
    }, 1); // tabindexs time
  };

  /* slide click event */
  function clickEvent() {
    _this.$tabItem.on('click', function () {
      const idx = _this.$tabItem.index($(this));
      _this.$carousel.slick('goTo', idx);
    });
  }

  /* mouse drag Event */
  function tabDragEvent() {
    const data = {
      element: _this.$el.find('.slick-tab')[0],
    };
    slide.setTabDragEvent(_this, data);
  }

  function KeyboardEvent() {
    const LEFT = 37;
    const RIGHT = 39;

    const onKeyDown = (e, carousel, items, focusSelector = 'a, button') => {
      if (e.keyCode !== LEFT && e.keyCode !== RIGHT) return;

      _this.$isStop = true;

      if (e.keyCode === LEFT) {
        carousel.slick('slickPrev');
      } else {
        carousel.slick('slickNext');
      }

      setTimeout(() => {
        const target = items.eq(_this.currentIndex);
        const focusTarget = focusSelector ? target.find(focusSelector) : null;
        if (focusTarget && focusTarget.length) {
          focusTarget.focus();
        } else {
          target.focus();
        }
      }, _this.$speed + 1);

      e.stopPropagation();
      e.preventDefault();
    };

    _this.$carousel.on('keydown', (e) => {
      onKeyDown(e, _this.$carousel, _this.$carouselItem);
    });

    _this.$tab.on('keydown', (e) => {
      onKeyDown(e, _this.$carousel, _this.$tabItem, null);
    });
  }

  const setEqualLDivHeight = function () {
    const panels = _this.$carousel.find('.slider-panel');

    // 각 lDiv의 높이를 초기화
    panels.find('.l_div').css({ height: '' });

    // 각 lDiv의 최대 높이를 계산
    const maxLDivHeight = panels
      .map((i, panel) => {
        const lDiv = $(panel).find('.l_div');

        // l_div의 높이를 계산
        return lDiv.outerHeight(true);
      })
      .get()
      .sort((a, b) => b - a)[0];

    // 모든 lDiv의 높이를 최대 높이로 설정
    panels.find('.l_div').css({ height: `${maxLDivHeight}px` });
  };

  const setSwiper = function () {
    swiperInstances = Array.from(containers).map((container) => {
      const slider = container.querySelector('.swiper-container');
      const pagination = container.querySelector('.swiper-pagination');

      return new Swiper(slider, {
        pagination: {
          el: pagination,
          clickable: true,
        },
        keyboard: {
          enabled: false,
          onlyInViewport: false,
        },
        observer: true,
        observeParents: true,
      });
    });
  };

  /** 텍스트 주변 높이 */
  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$el.find(target);
    });
  }

  // Update Match Height Item
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };

    switch (deviceType) {
      case 'PC':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        break;
      // default:
      //     break;
    }
  }
  /** //텍스트 주변 높이 */

  this.init();
}
fo.addPlugin(MP_ai_agent);
/** Page | MP_ai_agent */

/** Page | MP_ZTMProduct */
function MP_ZTMProduct(el) {
  _proto = MP_ZTMProduct.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;

  this.$tab = {
    key: Math.floor(this.$el.offset().top),
    fixed: this.$el.find('.fixed_tab'),
    ul: this.$el.find('.fixed_tab .tab_inner ul'),
    li: this.$el.find('.fixed_tab .tab_inner li'),
    btn: this.$el.find('.fixed_tab .tab_inner li a'),
    panel: this.$el.find('.art'),
    beforeActive: 99,
    active: null,
    isClick: false,
    isFixed: false,
  };

  this.$hover_BoxItem = this.$el.find('.item');
  this.$hoverBox_cont = {
    wrap: this.$el.find('.hoverBox .txt_box'),
    tit: this.$el.find('.hoverBox .md_tit'),
    txt: this.$el.find('.hoverBox .md_txt'),
  };
  this.$hoverConBox = this.$el.find('.hover_box');

  let _this = this;
  let $hd = $('.M00_A');

  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;

  _proto.init = function () {
    // console.log("init:: MP_ZTMProduct");

    // Device type check
    deviceType = checkDeviceType();

    setTabFixed();
    setTabAttr('init');

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    _this.$tab.btn.on('click', function () {
      _this.$tab.isClick = true;

      let idx = $(this).parents('li').index();
      let panelT = parseInt(_this.$tab.panel.eq(idx).offset().top);

      let headH = $(document).find('#header').outerHeight(true);
      let headT = Math.abs($hd.position().top);
      let brandColorH =
        $('.brandcolor').is(':hidden') || $('.brandcolor').hasClass('normal')
          ? 0
          : $('.brandcolor').outerHeight(true);
      let tabH = _this.$tab.fixed.outerHeight(true);
      let scrollTop = panelT - tabH - (headH - headT - brandColorH);

      _this.$tab.active = idx;
      _this.$tab.li.removeClass('active').eq(idx).addClass('active');
      _this.$tab.btn
        .attr({ 'aria-selected': false })
        .eq(idx)
        .attr({ 'aria-selected': true });

      $('html, body')
        .stop()
        .animate({ scrollTop: scrollTop }, 500, () => {
          let afterHeadT = Math.abs($hd.position().top);
          scrollTop = scrollTop - (headT - afterHeadT);
          $('html, body')
            .stop()
            .animate({ scrollTop: scrollTop }, 500, () => {
              _this.$tab.isClick = false;
            });
        });
    });

    $(window).on('scroll resize', () => {
      setTabFixed();
      setTabActive();
      animateInViewElements();
    });

    // Window resize
    $(window).on('resize', function () {
      resizeTimer.start();
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else {
      return 'MOBILE';
    }
  }

  const setTabFixed = function () {
    let tabT = _this.$tab.fixed.offset().top;
    $(window).scrollTop() >= tabT
      ? _this.$tab.fixed.addClass('fixed')
      : _this.$tab.fixed.removeClass('fixed');
  };

  const setTabActive = function () {
    if (_this.$tab.isClick) return;

    let headT = Math.abs($hd.position().top);
    let headH = $hd.outerHeight(true) - headT;
    let tabH = _this.$tab.fixed.outerHeight(true);
    let active = null;
    _this.$tab.panel.each((idx, item) => {
      let offsetTop = parseInt($(item).offset().top) - (headH + tabH);
      if ($(window).scrollTop() >= offsetTop) active = idx;
    });

    _this.$tab.active = active;
    setTabAttr();
  };

  const setTabAttr = function (init) {
    let isFirst = init == 'init' ? true : false; // 처음 setting 시에만 'init' 전달
    let active = _this.$tab.active;

    let beforeActive = _this.$tab.beforeActive;
    if (active == beforeActive) return;
    _this.$tab.beforeActive = _this.$tab.active;

    _this.$tab.li.removeClass('active');
    _this.$tab.btn.attr({ 'aria-selected': false });

    if (typeof active == 'number') {
      _this.$tab.li.eq(active).addClass('active');
      _this.$tab.btn.eq(active).attr({ 'aria-selected': true });
    }

    if (!isFirst) return;

    _this.$tab.ul
      .attr('role', 'tablist')
      .find('li')
      .attr('role', 'presentation');

    _this.$tab.btn.each(function (index) {
      var key = `${_this.$tab.key}_${index}`;
      $(this).attr({
        role: `tab`, // 202304-01 웹접근 : 삭제
        id: `tab_btn_${key}`,
        'aria-controls': `tab_panel_${key}`,
        'aria-selected': index == active ? true : false, // changeable
      });
    });
    _this.$tab.panel.each(function (index) {
      var key = `${_this.$tab.key}_${index}`;
      $(this).attr({
        role: `region`,
        id: `tab_panel_${key}`,
        'aria-labelledby': `tab_btn_${key}`,
      });
    });
  };

  function animateInViewElements() {
    let animationElements = $('.ban');
    let winT = $(window).scrollTop();
    // let winB = winT + ( $(window).height() / 2 );
    let winB = winT + $(window).height();

    animationElements.each((idx, item) => {
      var element = $(item);
      var elementHeight = $(element).outerHeight(true);
      var elementTop = $(element).offset().top;

      if (elementTop <= winB) {
        if (!element.hasClass('in-view')) element.addClass('in-view');
      } else if (elementTop > winB + elementHeight / 2) {
        element.removeClass('in-view');
      }
    });
  }

  this.init();
}
fo.addPlugin(MP_ZTMProduct);
/** Page | MP_ZTMProduct */

/** Page | MP_gdc */
function MP_gdc(el) {
  _proto = MP_gdc.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;

  this.$boxWrap = this.$el.find('.box_list .box_wrap');
  this.$boxCont = {
    tit: this.$boxWrap.find('.tit'),
    txt: this.$boxWrap.find('.txt'),
  };

  this.$carousel = this.$el.find('.slider-wrap');
  this.$carouselItem = this.$el.find('.slider-wrap .slider-panel');
  this.$speed = 300; // slick slide

  this.$tab = this.$el.find('.slick-tab .tab_list'); // ul
  this.$tabItem = this.$el.find('.slick-tab .tab_list li a'); // a

  let _this = this;
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;

  var mhTarget = [this.$boxCont.tit, this.$boxCont.txt];

  _proto.init = function () {
    deviceType = checkDeviceType();

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    setCarousel();

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();

      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateMhItem(_this);
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    $(window).on('scroll resize', () => {
      animateInViewElements();
      resizeTimer.start();
    });
    clickEvent();
    KeyboardEvent();
    tabDragEvent();
  };

  // 디바이스 타입을 확인하는 함수
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else {
      return 'MOBILE';
    }
  }

  function animateInViewElements() {
    let animationElements = $('.ban');
    let winT = $(window).scrollTop();
    let winB = winT + $(window).height() / 1.1;

    animationElements.each((idx, item) => {
      var element = $(item);
      var elementHeight = $(element).outerHeight(true);
      var elementTop = $(element).offset().top;

      if (elementTop <= winB) {
        if (!element.hasClass('in-view')) element.addClass('in-view');
      } else if (elementTop > winB + elementHeight / 2) {
        element.removeClass('in-view');
      }
    });
  }

  /** 텍스트 주변 높이 */
  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$el.find(target);
    });
  }

  // Update Match Height Item
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };

    switch (deviceType) {
      case 'PC':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        break;
      // default:
      //     break;
    }
  }
  /** //텍스트 주변 높이 */

  const setCarousel = function () {
    _this.$carousel.on('init', function (event, slick) {
      _this.currentIndex = slick.currentSlide;
      tabScroll();
      setTabSlideAttr({ setting: true }); // 초기 세팅 시에만 parameter 넘김
    });

    _this.$carousel.slick({
      autoplay: false,
      infinite: false,
      initialSlide: _this.startIndex,
      speed: _this.$speed,
      arrows: false,
      responsive: [
        {
          breakpoint: 1023,
          settings: {
            centerMode: true,
            centerPadding: '0',
          },
        },
      ],
    });

    _this.$carousel.on(
      'afterChange',
      function (event, slick, currentSlide, nextSlide) {
        _this.currentIndex = currentSlide;
        setTabSlideAttr();
        tabScroll();
      },
    );

    _this.$carousel.on('setPosition', function (event, slick) {
      setEqualLDivHeight();
    });
  };

  /* activeIndex 변경 시 tab 스크롤 값 세팅 */
  function tabScroll() {
    const data = {
      tabSlideArea: _this.$el.find('.slick-tab'),
      tab: _this.$tab,
      tabItems: _this.$tabItem,
      activeIdx: _this.currentIndex,
    };
    slide.setTabScroll(_this, data);
  }

  /* 슬라이드의 Tablist, tabpanel 속성 세팅, 슬라이드의 activeIndex가 변경되면 접근성 속성 업데이트 */
  const setTabSlideAttr = function (params) {
    let setting = false;
    if (params) setting = params.setting ? true : false;

    const data = {
      carousel: _this.$carousel,
      type: {
        setting: setting, // 초기세팅 시 true
        // orientation: _this.$tabOrientation,   // tab 방향이 세로일 경우 true
      },
      key: _this.key,
      tablist: _this.$tab,
      tablists: _this.$tabItem,
      tabpanel: _this.$carousel,
      tabpanels: _this.$carouselItem,
      activeIdx: _this.currentIndex,
    };
    setTimeout(() => {
      slide.setTabSlideAttr(_this, data);
    }, 1); // tabindexs time
  };

  /* slide click event */
  function clickEvent() {
    _this.$tabItem.on('click', function () {
      const idx = _this.$tabItem.index($(this));
      _this.$carousel.slick('goTo', idx);
    });
  }

  /* mouse drag Event */
  function tabDragEvent() {
    const data = {
      element: _this.$el.find('.slick-tab')[0],
    };
    slide.setTabDragEvent(_this, data);
  }

  /* slide keyboard < > event */
  function KeyboardEvent() {
    _this.$carousel.on('keydown', function (e) {
      let flag = false;

      if (e.keyCode === 37) {
        _this.$isStop = true;
        flag = true;
        _this.$carousel.slick('slickPrev');
        // sequenceControl(_this, "STOP", false);
        setTimeout(() => {
          _this.$carouselItem.eq(_this.currentIndex).find('a, button').focus();
        }, _this.$speed + 1);
      } else if (e.keyCode === 39) {
        _this.$isStop = true;
        flag = true;
        _this.$carousel.slick('slickNext');
        // sequenceControl(_this, "STOP", false);
        setTimeout(() => {
          _this.$carouselItem.eq(_this.currentIndex).find('a, button').focus();
        }, _this.$speed + 1);
      }
      if (flag) {
        e.stopPropagation();
        e.preventDefault();
      }
    });

    _this.$tab.on('keydown', function (e) {
      let flag = false;

      if (e.keyCode === 37) {
        _this.$isStop = true;
        flag = true;
        _this.$carousel.slick('slickPrev');
        // sequenceControl(_this, "STOP", false);
        setTimeout(() => {
          _this.$tabItem.eq(_this.currentIndex).focus();
        }, _this.$speed + 1); // speed
      } else if (e.keyCode === 39) {
        _this.$isStop = true;
        flag = true;
        _this.$carousel.slick('slickNext');
        // sequenceControl(_this, "STOP", false);
        setTimeout(() => {
          _this.$tabItem.eq(_this.currentIndex).focus();
        }, _this.$speed + 1); // speed
      }
      if (flag) {
        e.stopPropagation();
        e.preventDefault();
      }
    });
  }

  const setEqualLDivHeight = function () {
    const panels = _this.$carousel.find('.slider-panel');

    // 각 lDiv의 높이를 초기화
    panels.find('.l_div').css({ height: '' });

    // 각 lDiv의 최대 높이를 계산
    const maxLDivHeight = panels
      .map((i, panel) => {
        const lDiv = $(panel).find('.l_div');

        // l_div의 높이를 계산
        return lDiv.outerHeight(true);
      })
      .get()
      .sort((a, b) => b - a)[0];

    // 모든 lDiv의 높이를 최대 높이로 설정
    panels.find('.l_div').css({ height: `${maxLDivHeight}px` });
  };

  this.init();
}
fo.addPlugin(MP_gdc);

/** Page | MP_chatGPT */
function MP_chatGPT(el) {
  _proto = MP_chatGPT.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;

  this.startIndex = this.data.activeTab || 0;
  this.currentIndex = this.startIndex;

  this.$carousel = this.$el.find('.slider-wrap');
  this.$carouselItem = this.$el.find('.slider-wrap .slider-panel');
  this.$speed = 300; // slick slide

  let _this = this;
  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;

  _proto.init = function () {
    deviceType = checkDeviceType();

    setCarousel();

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();

      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
      }
    }, 100);

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }
  };

  _proto.addEvent = function () {
    $(window).on('scroll resize', () => {
      animateInViewElements();
      resizeTimer.start();
    });
  };

  // 디바이스 타입을 확인하는 함수
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else {
      return 'MOBILE';
    }
  }

  function animateInViewElements() {
    let animationElements = $('.ban');
    let winT = $(window).scrollTop();
    let winB = winT + $(window).height() / 1.1;

    animationElements.each((idx, item) => {
      var element = $(item);
      var elementHeight = $(element).outerHeight(true);
      var elementTop = $(element).offset().top;

      if (elementTop <= winB) {
        if (!element.hasClass('in-view')) element.addClass('in-view');
      } else if (elementTop > winB + elementHeight / 2) {
        element.removeClass('in-view');
      }
    });
  }

  const setCarousel = function () {
    _this.$carousel.on('init', function (event, slick) {
      _this.currentIndex = slick.currentSlide;
    });

    _this.$carousel.slick({
      autoplay: false,
      infinite: false,
      initialSlide: _this.startIndex,
      speed: _this.$speed,
      arrows: false,
      responsive: [
        {
          breakpoint: 1023,
          settings: {
            centerMode: true,
            centerPadding: '0',
          },
        },
      ],
    });

    _this.$carousel.on(
      'afterChange',
      function (event, slick, currentSlide, nextSlide) {
        _this.currentIndex = currentSlide;
      },
    );

    _this.$carousel.on('setPosition', function (event, slick) {
      setEqualLDivHeight();
    });
  };

  const setEqualLDivHeight = function () {
    const panels = _this.$carousel.find('.slider-panel');

    // 각 lDiv의 높이를 초기화
    panels.find('.l_div').css({ height: '' });

    // 각 lDiv의 최대 높이를 계산
    const maxLDivHeight = panels
      .map((i, panel) => {
        const lDiv = $(panel).find('.l_div');

        // l_div의 높이를 계산
        return lDiv.outerHeight(true);
      })
      .get()
      .sort((a, b) => b - a)[0];

    // 모든 lDiv의 높이를 최대 높이로 설정
    panels.find('.l_div').css({ height: `${maxLDivHeight}px` });
  };

  this.init();
}
fo.addPlugin(MP_chatGPT);

/** Page | MP_brityworks_gov */
function MP_brityworks_gov(el) {
  _proto = MP_brityworks_gov.prototype;

  this.$el = el;
  this.data = this.$el.data();
  this.addEventFlag = false;
  this.$tab = {
    key: Math.floor(this.$el.offset().top),
    fixed: this.$el.find('.fixed_tab'),
    ul: this.$el.find('.fixed_tab .tab_inner ul'),
    li: this.$el.find('.fixed_tab .tab_inner li'),
    btn: this.$el.find('.fixed_tab .tab_inner li a'),
    panel: this.$el.find('.art'),
    beforeActive: 99,
    active: null,
    isClick: false,
    isFixed: false,
  };
  this.$featureList_cont = this.$el.find('.feature_list');

  let _this = this;
  let $hd = $('.M00_A');

  this.mhItems;

  var deviceType; // "PC", "TABLET", "MOBILE"
  var resizeTimer;
  var mhTarget = ['strong'];

  _proto.init = function () {
    // console.log("init:: MP_brityworks_gov");
    deviceType = checkDeviceType();

    setTabFixed();
    setTabAttr('init');

    // Event binding
    if (!this.addEventFlag) {
      this.addEventFlag = true;
      this.addEvent();
    }

    // Set matchHeight item
    if (mhTarget.length) {
      getMhItems(this);
      updateMhItem(this);
    }

    resizeTimer = new Timer(function () {
      var currentDeviceType = checkDeviceType();
      if (deviceType !== currentDeviceType) {
        deviceType = currentDeviceType;
        updateMhItem(_this);
      }
    }, 100);
  };

  _proto.addEvent = function () {
    _this.$tab.btn.on('click', function () {
      _this.$tab.isClick = true;

      let idx = $(this).parents('li').index();
      let panelT = parseInt(_this.$tab.panel.eq(idx).offset().top);

      let headH = $(document).find('#header').outerHeight(true);
      let headT = Math.abs($hd.position().top);
      let brandColorH =
        $('.brandcolor').is(':hidden') || $('.brandcolor').hasClass('normal')
          ? 0
          : $('.brandcolor').outerHeight(true);
      let tabH = _this.$tab.fixed.outerHeight(true);
      let scrollTop = panelT - tabH - (headH - headT - brandColorH);

      _this.$tab.active = idx;
      _this.$tab.li.removeClass('active').eq(idx).addClass('active');
      _this.$tab.btn
        .attr({ 'aria-selected': false })
        .eq(idx)
        .attr({ 'aria-selected': true });

      $('html, body')
        .stop()
        .animate({ scrollTop: scrollTop }, 500, () => {
          let afterHeadT = Math.abs($hd.position().top);
          scrollTop = scrollTop - (headT - afterHeadT);
          $('html, body')
            .stop()
            .animate({ scrollTop: scrollTop }, 500, () => {
              _this.$tab.isClick = false;
            });
        });
    });

    $(window).on('scroll resize', () => {
      setTabFixed();
      setTabActive();
      animateInViewElements();
    });
  };

  const setTabFixed = function () {
    let tabT = _this.$tab.fixed.offset().top;
    $(window).scrollTop() >= tabT
      ? _this.$tab.fixed.addClass('fixed')
      : _this.$tab.fixed.removeClass('fixed');
  };

  const setTabActive = function () {
    if (_this.$tab.isClick) return;

    let headT = Math.abs($hd.position().top);
    let headH = $hd.outerHeight(true) - headT;
    let tabH = _this.$tab.fixed.outerHeight(true);
    let active = null;

    _this.$tab.panel.each((idx, item) => {
      let offsetTop = parseInt($(item).offset().top) - (headH + tabH);
      if ($(window).scrollTop() >= offsetTop) active = idx;
    });

    _this.$tab.active = active;
    setTabAttr();
  };

  const setTabAttr = function (init) {
    let isFirst = init == 'init' ? true : false; // 처음 setting 시에만 'init' 전달
    let active = _this.$tab.active;

    let beforeActive = _this.$tab.beforeActive;
    if (active == beforeActive) return;
    _this.$tab.beforeActive = _this.$tab.active;

    _this.$tab.li.removeClass('active');
    _this.$tab.btn.attr({ 'aria-selected': false });

    if (typeof active == 'number') {
      _this.$tab.li.eq(active).addClass('active');
      _this.$tab.btn.eq(active).attr({ 'aria-selected': true });
    }

    if (!isFirst) return;

    _this.$tab.ul
      .attr('role', 'tablist')
      .find('li')
      .attr('role', 'presentation');

    _this.$tab.btn.each(function (index) {
      var key = `${_this.$tab.key}_${index}`;
      $(this).attr({
        role: `tab`, // 202304-01 웹접근 : 삭제
        id: `tab_btn_${key}`,
        'aria-controls': `tab_panel_${key}`,
        'aria-selected': index == active ? true : false, // changeable
      });
    });
    _this.$tab.panel.each(function (index) {
      var key = `${_this.$tab.key}_${index}`;
      $(this).attr({
        role: `region`,
        // "id"                : `tab_panel_${key}`,
        // "aria-labelledby"   : `tab_btn_${key}`,
      });
    });
  };

  const animateInViewElements = function () {
    let animationElements = $('.ban');
    let winT = $(window).scrollTop();
    // let winB = winT + ( $(window).height() / 1.5 );
    let winB = winT + $(window).height() / 1;

    animationElements.each((idx, item) => {
      var element = $(item);
      var elementHeight = $(element).outerHeight(true);
      var elementTop = $(element).offset().top;

      if (elementTop <= winB) {
        if (!element.hasClass('in-view')) element.addClass('in-view');
      } else if (elementTop > winB + elementHeight / 2) {
        element.removeClass('in-view');
      }
    });
  };

  // Device type check
  function checkDeviceType() {
    if (window.innerWidth > 1023) {
      return 'PC';
    } else if (window.innerWidth > 600) {
      return 'TABLET';
    } else {
      return 'MOBILE';
    }
  }

  /** 텍스트 주변 높이 */
  // Init Match Height Item
  function getMhItems(_plugin) {
    _plugin.mhItems = mhTarget.map(function (target) {
      return _plugin.$featureList_cont.find(target);
    });
  }
  function updateMhItem(_plugin) {
    var idx;
    var len = _plugin.mhItems.length;
    var opt = {
      init: { tbyRow: true, remove: false },
      remove: { tbyRow: false, remove: true },
    };
    switch (deviceType) {
      case 'PC':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.init);
        }
        break;
      case 'TABLET':
      case 'MOBILE':
        for (idx = 0; idx < len; idx++) {
          _plugin.mhItems[idx].matchHeight(opt.remove);
        }
        break;
      // default:
      //     break;
    }
  }
  /** 텍스트 주변 높이 */

  this.init();
}
fo.addPlugin(MP_brityworks_gov);

/** Page | realsummit2025 */
// function realsummit2025(el) {
//     _proto = realsummit2025.prototype;

//     this.$el = $(el).parent('div');
//     this.data = this.$el.data();
//     this.addEventFlag = false;

//     this.$tab = {
//         // key             : Math.floor(this.$el.offset().top),
//         fixed           : this.$el.find(".main_header"),
//         ul              : this.$el.find(".main_header .navMenu ul"),
//         li              : this.$el.find(".main_header .navMenu ul li"),
//         btn             : this.$el.find(".main_header .navMenu ul li a"),
//         panel           : this.$el.find(".anchor"),
//         beforeActive    : 99,
//         active          : null,
//         isClick         : false,
//         isFixed         : false,
//     };

//     let _this = this;
//     let $hd = $(".M00_A");

//     var deviceType; // "PC", "TABLET", "MOBILE"
//     var resizeTimer;

//     _proto.init = function(){
//         // console.log("init:: M127_A");

//         // Device type check
//         deviceType = checkDeviceType();

//         // setTabFixed();
//         setTabAttr('init');

//         resizeTimer = new Timer(function(){
//             var currentDeviceType = checkDeviceType();
//             if(deviceType !== currentDeviceType){
//                 deviceType = currentDeviceType;
//             }
//         }, 100);

//         // Event binding
//         if(!this.addEventFlag){
//             this.addEventFlag = true;
//             this.addEvent();
//         }
//     }

//     _proto.addEvent = function(){
//         _this.$tab.btn.on("click", function(){
//             _this.$tab.isClick = true;

//             let idx = $(this).parents('li').index();
//             let panelT = parseInt( _this.$tab.panel.eq(idx).offset().top );

//             let headH = $(document).find("#header").outerHeight(true);
//             let headT = Math.abs($hd.position().top);
//             let tabH = _this.$tab.fixed.outerHeight(true);
//             let scrollTop = panelT - ( tabH ) - (headH - headT);

//             _this.$tab.active = idx;
//             _this.$tab.li.removeClass('active').eq(idx).addClass('active');
//             _this.$tab.btn.attr({ "aria-selected" : false }).eq(idx).attr({ "aria-selected" : true });

//             $('html, body').stop().animate({ scrollTop: scrollTop }, 500, ()=>{
//                 let afterHeadT = Math.abs($hd.position().top);
//                 scrollTop = scrollTop - ( headT - afterHeadT );
//                 $('html, body').stop().animate({ scrollTop: scrollTop }, 500, ()=>{ _this.$tab.isClick = false });
//             });
//         });

//         $(window).on('scroll resize', ()=>{
//             // setTabFixed();
//             setTabActive();
//         });

//         // Window resize
//         $(window).on("resize", function(){
//             resizeTimer.start();
//         });
//     }

//     // Device type check
//     function checkDeviceType(){
//         if (window.innerWidth > 1023){
//             return "PC";
//         }else{
//             return "MOBILE";
//         }
//     }

//     const setTabActive = function(){
//         if( _this.$tab.isClick ) return;

//         let headT = Math.abs($hd.position().top);
//         let headH = $hd.outerHeight(true) - headT;
//         let tabH = _this.$tab.fixed.outerHeight(true);
//         let active = null;
//         _this.$tab.panel.each((idx, item)=>{

//             let offsetTop = parseInt( $(item).offset().top ) - ( headH + tabH );
//             if( $(window).scrollTop() >= offsetTop ) active = idx;

//         });

//         _this.$tab.active = active;
//         setTabAttr();
//     }

//     const setTabAttr = function(init){
//         let isFirst = ( init == 'init' ) ? true : false;
//         let active = _this.$tab.active;

//         let beforeActive = _this.$tab.beforeActive;
//         if( active == beforeActive ) return;
//         _this.$tab.beforeActive = _this.$tab.active;

//         _this.$tab.li.removeClass("active");
//         // _this.$tab.btn.attr({ "aria-selected" : false });

//         if( typeof(active) == 'number' ){
//             _this.$tab.li.eq(active).addClass("active");
//             // _this.$tab.btn.eq(active).attr({ "aria-selected" : true });
//         }

//         if ( !isFirst ) return;

//     }

//     this.init();
// }
// fo.addPlugin(realsummit2025);
